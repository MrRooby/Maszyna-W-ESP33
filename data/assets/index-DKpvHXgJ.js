(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mh(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const ze={},Ws=[],xi=()=>{},uO=()=>!1,No=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),ph=i=>i.startsWith("onUpdate:"),st=Object.assign,gh=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},cO=Object.prototype.hasOwnProperty,Le=(i,e)=>cO.call(i,e),pe=Array.isArray,Ys=i=>Do(i)==="[object Map]",nf=i=>Do(i)==="[object Set]",Oe=i=>typeof i=="function",Ue=i=>typeof i=="string",Bi=i=>typeof i=="symbol",qe=i=>i!==null&&typeof i=="object",rf=i=>(qe(i)||Oe(i))&&Oe(i.then)&&Oe(i.catch),of=Object.prototype.toString,Do=i=>of.call(i),dO=i=>Do(i).slice(8,-1),lf=i=>Do(i)==="[object Object]",Oh=i=>Ue(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Zn=mh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xo=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},fO=/-(\w)/g,ti=Xo(i=>i.replace(fO,(e,t)=>t?t.toUpperCase():"")),mO=/\B([A-Z])/g,rs=Xo(i=>i.replace(mO,"-$1").toLowerCase()),qo=Xo(i=>i.charAt(0).toUpperCase()+i.slice(1)),ul=Xo(i=>i?`on${qo(i)}`:""),Ki=(i,e)=>!Object.is(i,e),Ur=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},af=(i,e,t,s=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:s,value:t})},ra=i=>{const e=parseFloat(i);return isNaN(e)?i:e},pO=i=>{const e=Ue(i)?Number(i):NaN;return isNaN(e)?i:e};let bu;const Vo=()=>bu||(bu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tt(i){if(pe(i)){const e={};for(let t=0;t<i.length;t++){const s=i[t],n=Ue(s)?bO(s):tt(s);if(n)for(const r in n)e[r]=n[r]}return e}else if(Ue(i)||qe(i))return i}const gO=/;(?![^(]*\))/g,OO=/:([^]+)/,yO=/\/\*[^]*?\*\//g;function bO(i){const e={};return i.replace(yO,"").split(gO).forEach(t=>{if(t){const s=t.split(OO);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function be(i){let e="";if(Ue(i))e=i;else if(pe(i))for(let t=0;t<i.length;t++){const s=be(i[t]);s&&(e+=s+" ")}else if(qe(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const wO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SO=mh(wO);function hf(i){return!!i||i===""}const uf=i=>!!(i&&i.__v_isRef===!0),oe=i=>Ue(i)?i:i==null?"":pe(i)||qe(i)&&(i.toString===of||!Oe(i.toString))?uf(i)?oe(i.value):JSON.stringify(i,cf,2):String(i),cf=(i,e)=>uf(e)?cf(i,e.value):Ys(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[s,n],r)=>(t[cl(s,r)+" =>"]=n,t),{})}:nf(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>cl(t))}:Bi(e)?cl(e):qe(e)&&!pe(e)&&!lf(e)?String(e):e,cl=(i,e="")=>{var t;return Bi(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class kO{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=_t;try{return _t=this,e()}finally{_t=t}}}on(){_t=this}off(){_t=this.parent}stop(e){if(this._active){this._active=!1;let t,s;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].stop();for(this.effects.length=0,t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function vO(){return _t}let Ne;const dl=new WeakSet;class df{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dl.has(this)&&(dl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wu(this),pf(this);const e=Ne,t=ri;Ne=this,ri=!0;try{return this.fn()}finally{gf(this),Ne=e,ri=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wh(e);this.deps=this.depsTail=void 0,wu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oa(this)&&this.run()}get dirty(){return oa(this)}}let ff=0,In,Bn;function mf(i,e=!1){if(i.flags|=8,e){i.next=Bn,Bn=i;return}i.next=In,In=i}function yh(){ff++}function bh(){if(--ff>0)return;if(Bn){let e=Bn;for(Bn=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;In;){let e=In;for(In=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){i||(i=s)}e=t}}if(i)throw i}function pf(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function gf(i){let e,t=i.depsTail,s=t;for(;s;){const n=s.prevDep;s.version===-1?(s===t&&(t=n),wh(s),xO(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}i.deps=e,i.depsTail=t}function oa(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Of(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function Of(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===jn))return;i.globalVersion=jn;const e=i.dep;if(i.flags|=2,e.version>0&&!i.isSSR&&i.deps&&!oa(i)){i.flags&=-3;return}const t=Ne,s=ri;Ne=i,ri=!0;try{pf(i);const n=i.fn(i._value);(e.version===0||Ki(n,i._value))&&(i._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ne=t,ri=s,gf(i),i.flags&=-3}}function wh(i,e=!1){const{dep:t,prevSub:s,nextSub:n}=i;if(s&&(s.nextSub=n,i.prevSub=void 0),n&&(n.prevSub=s,i.nextSub=void 0),t.subs===i&&(t.subs=s,!s&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)wh(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function xO(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let ri=!0;const yf=[];function os(){yf.push(ri),ri=!1}function ls(){const i=yf.pop();ri=i===void 0?!0:i}function wu(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=Ne;Ne=void 0;try{e()}finally{Ne=t}}}let jn=0;class CO{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Sh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ne||!ri||Ne===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ne)t=this.activeLink=new CO(Ne,this),Ne.deps?(t.prevDep=Ne.depsTail,Ne.depsTail.nextDep=t,Ne.depsTail=t):Ne.deps=Ne.depsTail=t,bf(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const s=t.nextDep;s.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=s),t.prevDep=Ne.depsTail,t.nextDep=void 0,Ne.depsTail.nextDep=t,Ne.depsTail=t,Ne.deps===t&&(Ne.deps=s)}return t}trigger(e){this.version++,jn++,this.notify(e)}notify(e){yh();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{bh()}}}function bf(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)bf(s)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subs=i}}const co=new WeakMap,ws=Symbol(""),la=Symbol(""),Wn=Symbol("");function gt(i,e,t){if(ri&&Ne){let s=co.get(i);s||co.set(i,s=new Map);let n=s.get(t);n||(s.set(t,n=new Sh),n.map=s,n.key=t),n.track()}}function Mi(i,e,t,s,n,r){const o=co.get(i);if(!o){jn++;return}const l=a=>{a&&a.trigger()};if(yh(),e==="clear")o.forEach(l);else{const a=pe(i),h=a&&Oh(t);if(a&&t==="length"){const u=Number(s);o.forEach((c,d)=>{(d==="length"||d===Wn||!Bi(d)&&d>=u)&&l(c)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),h&&l(o.get(Wn)),e){case"add":a?h&&l(o.get("length")):(l(o.get(ws)),Ys(i)&&l(o.get(la)));break;case"delete":a||(l(o.get(ws)),Ys(i)&&l(o.get(la)));break;case"set":Ys(i)&&l(o.get(ws));break}}bh()}function PO(i,e){const t=co.get(i);return t&&t.get(e)}function Es(i){const e=Qe(i);return e===i?e:(gt(e,"iterate",Wn),Jt(i)?e:e.map(Ot))}function jo(i){return gt(i=Qe(i),"iterate",Wn),i}const QO={__proto__:null,[Symbol.iterator](){return fl(this,Symbol.iterator,Ot)},concat(...i){return Es(this).concat(...i.map(e=>pe(e)?Es(e):e))},entries(){return fl(this,"entries",i=>(i[1]=Ot(i[1]),i))},every(i,e){return $i(this,"every",i,e,void 0,arguments)},filter(i,e){return $i(this,"filter",i,e,t=>t.map(Ot),arguments)},find(i,e){return $i(this,"find",i,e,Ot,arguments)},findIndex(i,e){return $i(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return $i(this,"findLast",i,e,Ot,arguments)},findLastIndex(i,e){return $i(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return $i(this,"forEach",i,e,void 0,arguments)},includes(...i){return ml(this,"includes",i)},indexOf(...i){return ml(this,"indexOf",i)},join(i){return Es(this).join(i)},lastIndexOf(...i){return ml(this,"lastIndexOf",i)},map(i,e){return $i(this,"map",i,e,void 0,arguments)},pop(){return yn(this,"pop")},push(...i){return yn(this,"push",i)},reduce(i,...e){return Su(this,"reduce",i,e)},reduceRight(i,...e){return Su(this,"reduceRight",i,e)},shift(){return yn(this,"shift")},some(i,e){return $i(this,"some",i,e,void 0,arguments)},splice(...i){return yn(this,"splice",i)},toReversed(){return Es(this).toReversed()},toSorted(i){return Es(this).toSorted(i)},toSpliced(...i){return Es(this).toSpliced(...i)},unshift(...i){return yn(this,"unshift",i)},values(){return fl(this,"values",Ot)}};function fl(i,e,t){const s=jo(i),n=s[e]();return s!==i&&!Jt(i)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=t(r.value)),r}),n}const $O=Array.prototype;function $i(i,e,t,s,n,r){const o=jo(i),l=o!==i&&!Jt(i),a=o[e];if(a!==$O[e]){const c=a.apply(i,r);return l?Ot(c):c}let h=t;o!==i&&(l?h=function(c,d){return t.call(this,Ot(c),d,i)}:t.length>2&&(h=function(c,d){return t.call(this,c,d,i)}));const u=a.call(o,h,s);return l&&n?n(u):u}function Su(i,e,t,s){const n=jo(i);let r=t;return n!==i&&(Jt(i)?t.length>3&&(r=function(o,l,a){return t.call(this,o,l,a,i)}):r=function(o,l,a){return t.call(this,o,Ot(l),a,i)}),n[e](r,...s)}function ml(i,e,t){const s=Qe(i);gt(s,"iterate",Wn);const n=s[e](...t);return(n===-1||n===!1)&&xh(t[0])?(t[0]=Qe(t[0]),s[e](...t)):n}function yn(i,e,t=[]){os(),yh();const s=Qe(i)[e].apply(i,t);return bh(),ls(),s}const AO=mh("__proto__,__v_isRef,__isVue"),wf=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Bi));function RO(i){Bi(i)||(i=String(i));const e=Qe(this);return gt(e,"has",i),e.hasOwnProperty(i)}class Sf{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,s){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return r;if(t==="__v_raw")return s===(n?r?NO:Cf:r?xf:vf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=pe(e);if(!n){let a;if(o&&(a=QO[t]))return a;if(t==="hasOwnProperty")return RO}const l=Reflect.get(e,t,ut(e)?e:s);return(Bi(t)?wf.has(t):AO(t))||(n||gt(e,"get",t),r)?l:ut(l)?o&&Oh(t)?l:l.value:qe(l)?n?Pf(l):Us(l):l}}class kf extends Sf{constructor(e=!1){super(!1,e)}set(e,t,s,n){let r=e[t];if(!this._isShallow){const a=xs(r);if(!Jt(s)&&!xs(s)&&(r=Qe(r),s=Qe(s)),!pe(e)&&ut(r)&&!ut(s))return a?!1:(r.value=s,!0)}const o=pe(e)&&Oh(t)?Number(t)<e.length:Le(e,t),l=Reflect.set(e,t,s,ut(e)?e:n);return e===Qe(n)&&(o?Ki(s,r)&&Mi(e,"set",t,s):Mi(e,"add",t,s)),l}deleteProperty(e,t){const s=Le(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&Mi(e,"delete",t,void 0),n}has(e,t){const s=Reflect.has(e,t);return(!Bi(t)||!wf.has(t))&&gt(e,"has",t),s}ownKeys(e){return gt(e,"iterate",pe(e)?"length":ws),Reflect.ownKeys(e)}}class MO extends Sf{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const TO=new kf,LO=new MO,EO=new kf(!0);const aa=i=>i,Sr=i=>Reflect.getPrototypeOf(i);function ZO(i,e,t){return function(...s){const n=this.__v_raw,r=Qe(n),o=Ys(r),l=i==="entries"||i===Symbol.iterator&&o,a=i==="keys"&&o,h=n[i](...s),u=t?aa:e?ha:Ot;return!e&&gt(r,"iterate",a?la:ws),{next(){const{value:c,done:d}=h.next();return d?{value:c,done:d}:{value:l?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function kr(i){return function(...e){return i==="delete"?!1:i==="clear"?void 0:this}}function IO(i,e){const t={get(n){const r=this.__v_raw,o=Qe(r),l=Qe(n);i||(Ki(n,l)&&gt(o,"get",n),gt(o,"get",l));const{has:a}=Sr(o),h=e?aa:i?ha:Ot;if(a.call(o,n))return h(r.get(n));if(a.call(o,l))return h(r.get(l));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!i&&gt(Qe(n),"iterate",ws),Reflect.get(n,"size",n)},has(n){const r=this.__v_raw,o=Qe(r),l=Qe(n);return i||(Ki(n,l)&&gt(o,"has",n),gt(o,"has",l)),n===l?r.has(n):r.has(n)||r.has(l)},forEach(n,r){const o=this,l=o.__v_raw,a=Qe(l),h=e?aa:i?ha:Ot;return!i&&gt(a,"iterate",ws),l.forEach((u,c)=>n.call(r,h(u),h(c),o))}};return st(t,i?{add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear")}:{add(n){!e&&!Jt(n)&&!xs(n)&&(n=Qe(n));const r=Qe(this);return Sr(r).has.call(r,n)||(r.add(n),Mi(r,"add",n,n)),this},set(n,r){!e&&!Jt(r)&&!xs(r)&&(r=Qe(r));const o=Qe(this),{has:l,get:a}=Sr(o);let h=l.call(o,n);h||(n=Qe(n),h=l.call(o,n));const u=a.call(o,n);return o.set(n,r),h?Ki(r,u)&&Mi(o,"set",n,r):Mi(o,"add",n,r),this},delete(n){const r=Qe(this),{has:o,get:l}=Sr(r);let a=o.call(r,n);a||(n=Qe(n),a=o.call(r,n)),l&&l.call(r,n);const h=r.delete(n);return a&&Mi(r,"delete",n,void 0),h},clear(){const n=Qe(this),r=n.size!==0,o=n.clear();return r&&Mi(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=ZO(n,i,e)}),t}function kh(i,e){const t=IO(i,e);return(s,n,r)=>n==="__v_isReactive"?!i:n==="__v_isReadonly"?i:n==="__v_raw"?s:Reflect.get(Le(t,n)&&n in s?t:s,n,r)}const BO={get:kh(!1,!1)},zO={get:kh(!1,!0)},_O={get:kh(!0,!1)};const vf=new WeakMap,xf=new WeakMap,Cf=new WeakMap,NO=new WeakMap;function DO(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function XO(i){return i.__v_skip||!Object.isExtensible(i)?0:DO(dO(i))}function Us(i){return xs(i)?i:vh(i,!1,TO,BO,vf)}function qO(i){return vh(i,!1,EO,zO,xf)}function Pf(i){return vh(i,!0,LO,_O,Cf)}function vh(i,e,t,s,n){if(!qe(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const r=n.get(i);if(r)return r;const o=XO(i);if(o===0)return i;const l=new Proxy(i,o===2?s:t);return n.set(i,l),l}function Fs(i){return xs(i)?Fs(i.__v_raw):!!(i&&i.__v_isReactive)}function xs(i){return!!(i&&i.__v_isReadonly)}function Jt(i){return!!(i&&i.__v_isShallow)}function xh(i){return i?!!i.__v_raw:!1}function Qe(i){const e=i&&i.__v_raw;return e?Qe(e):i}function VO(i){return!Le(i,"__v_skip")&&Object.isExtensible(i)&&af(i,"__v_skip",!0),i}const Ot=i=>qe(i)?Us(i):i,ha=i=>qe(i)?Pf(i):i;function ut(i){return i?i.__v_isRef===!0:!1}function De(i){return jO(i,!1)}function jO(i,e){return ut(i)?i:new WO(i,e)}class WO{constructor(e,t){this.dep=new Sh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Qe(e),this._value=t?e:Ot(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,s=this.__v_isShallow||Jt(e)||xs(e);e=s?e:Qe(e),Ki(e,t)&&(this._rawValue=e,this._value=s?e:Ot(e),this.dep.trigger())}}function mt(i){return ut(i)?i.value:i}const YO={get:(i,e,t)=>e==="__v_raw"?i:mt(Reflect.get(i,e,t)),set:(i,e,t,s)=>{const n=i[e];return ut(n)&&!ut(t)?(n.value=t,!0):Reflect.set(i,e,t,s)}};function Qf(i){return Fs(i)?i:new Proxy(i,YO)}function UO(i){const e=pe(i)?new Array(i.length):{};for(const t in i)e[t]=GO(i,t);return e}class FO{constructor(e,t,s){this._object=e,this._key=t,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return PO(Qe(this._object),this._key)}}function GO(i,e,t){const s=i[e];return ut(s)?s:new FO(i,e,t)}class HO{constructor(e,t,s){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Sh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return mf(this,!0),!0}get value(){const e=this.dep.track();return Of(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function KO(i,e,t=!1){let s,n;return Oe(i)?s=i:(s=i.get,n=i.set),new HO(s,n,t)}const vr={},fo=new WeakMap;let fs;function JO(i,e=!1,t=fs){if(t){let s=fo.get(t);s||fo.set(t,s=[]),s.push(i)}}function e0(i,e,t=ze){const{immediate:s,deep:n,once:r,scheduler:o,augmentJob:l,call:a}=t,h=v=>n?v:Jt(v)||n===!1||n===0?Ti(v,1):Ti(v);let u,c,d,f,m=!1,g=!1;if(ut(i)?(c=()=>i.value,m=Jt(i)):Fs(i)?(c=()=>h(i),m=!0):pe(i)?(g=!0,m=i.some(v=>Fs(v)||Jt(v)),c=()=>i.map(v=>{if(ut(v))return v.value;if(Fs(v))return h(v);if(Oe(v))return a?a(v,2):v()})):Oe(i)?e?c=a?()=>a(i,2):i:c=()=>{if(d){os();try{d()}finally{ls()}}const v=fs;fs=u;try{return a?a(i,3,[f]):i(f)}finally{fs=v}}:c=xi,e&&n){const v=c,P=n===!0?1/0:n;c=()=>Ti(v(),P)}const b=vO(),y=()=>{u.stop(),b&&b.active&&gh(b.effects,u)};if(r&&e){const v=e;e=(...P)=>{v(...P),y()}}let S=g?new Array(i.length).fill(vr):vr;const $=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const P=u.run();if(n||m||(g?P.some((M,E)=>Ki(M,S[E])):Ki(P,S))){d&&d();const M=fs;fs=u;try{const E=[P,S===vr?void 0:g&&S[0]===vr?[]:S,f];a?a(e,3,E):e(...E),S=P}finally{fs=M}}}else u.run()};return l&&l($),u=new df(c),u.scheduler=o?()=>o($,!1):$,f=v=>JO(v,!1,u),d=u.onStop=()=>{const v=fo.get(u);if(v){if(a)a(v,4);else for(const P of v)P();fo.delete(u)}},e?s?$(!0):S=u.run():o?o($.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Ti(i,e=1/0,t){if(e<=0||!qe(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,ut(i))Ti(i.value,e,t);else if(pe(i))for(let s=0;s<i.length;s++)Ti(i[s],e,t);else if(nf(i)||Ys(i))i.forEach(s=>{Ti(s,e,t)});else if(lf(i)){for(const s in i)Ti(i[s],e,t);for(const s of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,s)&&Ti(i[s],e,t)}return i}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dr(i,e,t,s){try{return s?i(...s):i()}catch(n){Wo(n,e,t)}}function oi(i,e,t,s){if(Oe(i)){const n=dr(i,e,t,s);return n&&rf(n)&&n.catch(r=>{Wo(r,e,t)}),n}if(pe(i)){const n=[];for(let r=0;r<i.length;r++)n.push(oi(i[r],e,t,s));return n}}function Wo(i,e,t,s=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ze;if(e){let l=e.parent;const a=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const u=l.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](i,a,h)===!1)return}l=l.parent}if(r){os(),dr(r,null,10,[i,a,h]),ls();return}}t0(i,t,n,s,o)}function t0(i,e,t,s=!0,n=!1){if(n)throw i;console.error(i)}const vt=[];let Oi=-1;const Gs=[];let qi=null,Is=0;const $f=Promise.resolve();let mo=null;function Fi(i){const e=mo||$f;return i?e.then(this?i.bind(this):i):e}function i0(i){let e=Oi+1,t=vt.length;for(;e<t;){const s=e+t>>>1,n=vt[s],r=Yn(n);r<i||r===i&&n.flags&2?e=s+1:t=s}return e}function Ch(i){if(!(i.flags&1)){const e=Yn(i),t=vt[vt.length-1];!t||!(i.flags&2)&&e>=Yn(t)?vt.push(i):vt.splice(i0(e),0,i),i.flags|=1,Af()}}function Af(){mo||(mo=$f.then(Mf))}function s0(i){pe(i)?Gs.push(...i):qi&&i.id===-1?qi.splice(Is+1,0,i):i.flags&1||(Gs.push(i),i.flags|=1),Af()}function ku(i,e,t=Oi+1){for(;t<vt.length;t++){const s=vt[t];if(s&&s.flags&2){if(i&&s.id!==i.uid)continue;vt.splice(t,1),t--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Rf(i){if(Gs.length){const e=[...new Set(Gs)].sort((t,s)=>Yn(t)-Yn(s));if(Gs.length=0,qi){qi.push(...e);return}for(qi=e,Is=0;Is<qi.length;Is++){const t=qi[Is];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}qi=null,Is=0}}const Yn=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Mf(i){try{for(Oi=0;Oi<vt.length;Oi++){const e=vt[Oi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),dr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Oi<vt.length;Oi++){const e=vt[Oi];e&&(e.flags&=-2)}Oi=-1,vt.length=0,Rf(),mo=null,(vt.length||Gs.length)&&Mf()}}let ot=null,Tf=null;function po(i){const e=ot;return ot=i,Tf=i&&i.type.__scopeId||null,e}function Un(i,e=ot,t){if(!e||i._n)return i;const s=(...n)=>{s._d&&Iu(-1);const r=po(e);let o;try{o=i(...n)}finally{po(r),s._d&&Iu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function gs(i,e){if(ot===null)return i;const t=Jo(ot),s=i.dirs||(i.dirs=[]);for(let n=0;n<e.length;n++){let[r,o,l,a=ze]=e[n];r&&(Oe(r)&&(r={mounted:r,updated:r}),r.deep&&Ti(o),s.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:a}))}return i}function hs(i,e,t,s){const n=i.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(os(),oi(a,t,8,[i.el,l,i,e]),ls())}}const Lf=Symbol("_vte"),Ef=i=>i.__isTeleport,zn=i=>i&&(i.disabled||i.disabled===""),vu=i=>i&&(i.defer||i.defer===""),xu=i=>typeof SVGElement<"u"&&i instanceof SVGElement,Cu=i=>typeof MathMLElement=="function"&&i instanceof MathMLElement,ua=(i,e)=>{const t=i&&i.to;return Ue(t)?e?e(t):null:t},Zf={name:"Teleport",__isTeleport:!0,process(i,e,t,s,n,r,o,l,a,h){const{mc:u,pc:c,pbc:d,o:{insert:f,querySelector:m,createText:g,createComment:b}}=h,y=zn(e.props);let{shapeFlag:S,children:$,dynamicChildren:v}=e;if(i==null){const P=e.el=g(""),M=e.anchor=g("");f(P,t,s),f(M,t,s);const E=(L,Q)=>{S&16&&(n&&n.isCE&&(n.ce._teleportTarget=L),u($,L,Q,n,r,o,l,a))},I=()=>{const L=e.target=ua(e.props,m),Q=If(L,e,g,f);L&&(o!=="svg"&&xu(L)?o="svg":o!=="mathml"&&Cu(L)&&(o="mathml"),y||(E(L,Q),Fr(e,!1)))};y&&(E(t,M),Fr(e,!0)),vu(e.props)?kt(()=>{I(),e.el.__isMounted=!0},r):I()}else{if(vu(e.props)&&!i.el.__isMounted){kt(()=>{Zf.process(i,e,t,s,n,r,o,l,a,h),delete i.el.__isMounted},r);return}e.el=i.el,e.targetStart=i.targetStart;const P=e.anchor=i.anchor,M=e.target=i.target,E=e.targetAnchor=i.targetAnchor,I=zn(i.props),L=I?t:M,Q=I?P:E;if(o==="svg"||xu(M)?o="svg":(o==="mathml"||Cu(M))&&(o="mathml"),v?(d(i.dynamicChildren,v,L,n,r,o,l),Rh(i,e,!0)):a||c(i,e,L,Q,n,r,o,l,!1),y)I?e.props&&i.props&&e.props.to!==i.props.to&&(e.props.to=i.props.to):xr(e,t,P,h,1);else if((e.props&&e.props.to)!==(i.props&&i.props.to)){const R=e.target=ua(e.props,m);R&&xr(e,R,null,h,0)}else I&&xr(e,M,E,h,1);Fr(e,y)}},remove(i,e,t,{um:s,o:{remove:n}},r){const{shapeFlag:o,children:l,anchor:a,targetStart:h,targetAnchor:u,target:c,props:d}=i;if(c&&(n(h),n(u)),r&&n(a),o&16){const f=r||!zn(d);for(let m=0;m<l.length;m++){const g=l[m];s(g,e,t,f,!!g.dynamicChildren)}}},move:xr,hydrate:n0};function xr(i,e,t,{o:{insert:s},m:n},r=2){r===0&&s(i.targetAnchor,e,t);const{el:o,anchor:l,shapeFlag:a,children:h,props:u}=i,c=r===2;if(c&&s(o,e,t),(!c||zn(u))&&a&16)for(let d=0;d<h.length;d++)n(h[d],e,t,2);c&&s(l,e,t)}function n0(i,e,t,s,n,r,{o:{nextSibling:o,parentNode:l,querySelector:a,insert:h,createText:u}},c){const d=e.target=ua(e.props,a);if(d){const f=zn(e.props),m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(f)e.anchor=c(o(i),e,l(i),t,s,n,r),e.targetStart=m,e.targetAnchor=m&&o(m);else{e.anchor=o(i);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||If(d,e,u,h),c(m&&o(m),e,d,t,s,n,r)}Fr(e,f)}return e.anchor&&o(e.anchor)}const r0=Zf;function Fr(i,e){const t=i.ctx;if(t&&t.ut){let s,n;for(e?(s=i.el,n=i.anchor):(s=i.targetStart,n=i.targetAnchor);s&&s!==n;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}function If(i,e,t,s){const n=e.targetStart=t(""),r=e.targetAnchor=t("");return n[Lf]=r,i&&(s(n,i),s(r,i)),r}const Vi=Symbol("_leaveCb"),Cr=Symbol("_enterCb");function Bf(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fr(()=>{i.isMounted=!0}),Qh(()=>{i.isUnmounting=!0}),i}const Yt=[Function,Array],zf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yt,onEnter:Yt,onAfterEnter:Yt,onEnterCancelled:Yt,onBeforeLeave:Yt,onLeave:Yt,onAfterLeave:Yt,onLeaveCancelled:Yt,onBeforeAppear:Yt,onAppear:Yt,onAfterAppear:Yt,onAppearCancelled:Yt},_f=i=>{const e=i.subTree;return e.component?_f(e.component):e},o0={name:"BaseTransition",props:zf,setup(i,{slots:e}){const t=dm(),s=Bf();return()=>{const n=e.default&&Ph(e.default(),!0);if(!n||!n.length)return;const r=Nf(n),o=Qe(i),{mode:l}=o;if(s.isLeaving)return pl(r);const a=Pu(r);if(!a)return pl(r);let h=Fn(a,o,s,t,c=>h=c);a.type!==xt&&Cs(a,h);let u=t.subTree&&Pu(t.subTree);if(u&&u.type!==xt&&!ms(a,u)&&_f(t).type!==xt){let c=Fn(u,o,s,t);if(Cs(u,c),l==="out-in"&&a.type!==xt)return s.isLeaving=!0,c.afterLeave=()=>{s.isLeaving=!1,t.job.flags&8||t.update(),delete c.afterLeave,u=void 0},pl(r);l==="in-out"&&a.type!==xt?c.delayLeave=(d,f,m)=>{const g=Df(s,u);g[String(u.key)]=u,d[Vi]=()=>{f(),d[Vi]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{m(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function Nf(i){let e=i[0];if(i.length>1){for(const t of i)if(t.type!==xt){e=t;break}}return e}const l0=o0;function Df(i,e){const{leavingVNodes:t}=i;let s=t.get(e.type);return s||(s=Object.create(null),t.set(e.type,s)),s}function Fn(i,e,t,s,n){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:h,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:y,onAfterAppear:S,onAppearCancelled:$}=e,v=String(i.key),P=Df(t,i),M=(L,Q)=>{L&&oi(L,s,9,Q)},E=(L,Q)=>{const R=Q[1];M(L,Q),pe(L)?L.every(x=>x.length<=1)&&R():L.length<=1&&R()},I={mode:o,persisted:l,beforeEnter(L){let Q=a;if(!t.isMounted)if(r)Q=b||a;else return;L[Vi]&&L[Vi](!0);const R=P[v];R&&ms(i,R)&&R.el[Vi]&&R.el[Vi](),M(Q,[L])},enter(L){let Q=h,R=u,x=c;if(!t.isMounted)if(r)Q=y||h,R=S||u,x=$||c;else return;let W=!1;const G=L[Cr]=ue=>{W||(W=!0,ue?M(x,[L]):M(R,[L]),I.delayedLeave&&I.delayedLeave(),L[Cr]=void 0)};Q?E(Q,[L,G]):G()},leave(L,Q){const R=String(i.key);if(L[Cr]&&L[Cr](!0),t.isUnmounting)return Q();M(d,[L]);let x=!1;const W=L[Vi]=G=>{x||(x=!0,Q(),G?M(g,[L]):M(m,[L]),L[Vi]=void 0,P[R]===i&&delete P[R])};P[R]=i,f?E(f,[L,W]):W()},clone(L){const Q=Fn(L,e,t,s,n);return n&&n(Q),Q}};return I}function pl(i){if(Yo(i))return i=es(i),i.children=null,i}function Pu(i){if(!Yo(i))return Ef(i.type)&&i.children?Nf(i.children):i;const{shapeFlag:e,children:t}=i;if(t){if(e&16)return t[0];if(e&32&&Oe(t.default))return t.default()}}function Cs(i,e){i.shapeFlag&6&&i.component?(i.transition=e,Cs(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}function Ph(i,e=!1,t){let s=[],n=0;for(let r=0;r<i.length;r++){let o=i[r];const l=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===ve?(o.patchFlag&128&&n++,s=s.concat(Ph(o.children,e,l))):(e||o.type!==xt)&&s.push(l!=null?es(o,{key:l}):o)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function a0(i,e){return Oe(i)?st({name:i.name},e,{setup:i}):i}function Xf(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function go(i,e,t,s,n=!1){if(pe(i)){i.forEach((m,g)=>go(m,e&&(pe(e)?e[g]:e),t,s,n));return}if(Hs(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&go(i,e,t,s.component.subTree);return}const r=s.shapeFlag&4?Jo(s.component):s.el,o=n?null:r,{i:l,r:a}=i,h=e&&e.r,u=l.refs===ze?l.refs={}:l.refs,c=l.setupState,d=Qe(c),f=c===ze?()=>!1:m=>Le(d,m);if(h!=null&&h!==a&&(Ue(h)?(u[h]=null,f(h)&&(c[h]=null)):ut(h)&&(h.value=null)),Oe(a))dr(a,l,12,[o,u]);else{const m=Ue(a),g=ut(a);if(m||g){const b=()=>{if(i.f){const y=m?f(a)?c[a]:u[a]:a.value;n?pe(y)&&gh(y,r):pe(y)?y.includes(r)||y.push(r):m?(u[a]=[r],f(a)&&(c[a]=u[a])):(a.value=[r],i.k&&(u[i.k]=a.value))}else m?(u[a]=o,f(a)&&(c[a]=o)):g&&(a.value=o,i.k&&(u[i.k]=o))};o?(b.id=-1,kt(b,t)):b()}}}Vo().requestIdleCallback;Vo().cancelIdleCallback;const Hs=i=>!!i.type.__asyncLoader,Yo=i=>i.type.__isKeepAlive;function h0(i,e){qf(i,"a",e)}function u0(i,e){qf(i,"da",e)}function qf(i,e,t=ht){const s=i.__wdc||(i.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return i()});if(Uo(e,s,t),t){let n=t.parent;for(;n&&n.parent;)Yo(n.parent.vnode)&&c0(s,e,t,n),n=n.parent}}function c0(i,e,t,s){const n=Uo(e,i,s,!0);$h(()=>{gh(s[e],n)},t)}function Uo(i,e,t=ht,s=!1){if(t){const n=t[i]||(t[i]=[]),r=e.__weh||(e.__weh=(...o)=>{os();const l=mr(t),a=oi(e,t,i,o);return l(),ls(),a});return s?n.unshift(r):n.push(r),r}}const zi=i=>(e,t=ht)=>{(!Kn||i==="sp")&&Uo(i,(...s)=>e(...s),t)},d0=zi("bm"),fr=zi("m"),f0=zi("bu"),Vf=zi("u"),Qh=zi("bum"),$h=zi("um"),m0=zi("sp"),p0=zi("rtg"),g0=zi("rtc");function O0(i,e=ht){Uo("ec",i,e)}const y0="components";function ee(i,e){return w0(y0,i,!0,e)||i}const b0=Symbol.for("v-ndc");function w0(i,e,t=!0,s=!1){const n=ot||ht;if(n){const r=n.type;{const l=l1(r,!1);if(l&&(l===e||l===ti(e)||l===qo(ti(e))))return r}const o=Qu(n[i]||r[i],e)||Qu(n.appContext[i],e);return!o&&s?r:o}}function Qu(i,e){return i&&(i[e]||i[ti(e)]||i[qo(ti(e))])}function Et(i,e,t,s){let n;const r=t,o=pe(i);if(o||Ue(i)){const l=o&&Fs(i);let a=!1;l&&(a=!Jt(i),i=jo(i)),n=new Array(i.length);for(let h=0,u=i.length;h<u;h++)n[h]=e(a?Ot(i[h]):i[h],h,void 0,r)}else if(typeof i=="number"){n=new Array(i);for(let l=0;l<i;l++)n[l]=e(l+1,l,void 0,r)}else if(qe(i))if(i[Symbol.iterator])n=Array.from(i,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(i);n=new Array(l.length);for(let a=0,h=l.length;a<h;a++){const u=l[a];n[a]=e(i[u],u,a,r)}}else n=[];return n}function jf(i,e,t={},s,n){if(ot.ce||ot.parent&&Hs(ot.parent)&&ot.parent.ce)return e!=="default"&&(t.name=e),k(),Me(ve,null,[T("slot",t,s&&s())],64);let r=i[e];r&&r._c&&(r._d=!1),k();const o=r&&Wf(r(t)),l=t.key||o&&o.key,a=Me(ve,{key:(l&&!Bi(l)?l:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&i._===1?64:-2);return r&&r._c&&(r._d=!0),a}function Wf(i){return i.some(e=>Hn(e)?!(e.type===xt||e.type===ve&&!Wf(e.children)):!0)?i:null}const ca=i=>i?fm(i)?Jo(i):ca(i.parent):null,_n=st(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>ca(i.parent),$root:i=>ca(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Uf(i),$forceUpdate:i=>i.f||(i.f=()=>{Ch(i.update)}),$nextTick:i=>i.n||(i.n=Fi.bind(i.proxy)),$watch:i=>X0.bind(i)}),gl=(i,e)=>i!==ze&&!i.__isScriptSetup&&Le(i,e),S0={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:s,data:n,props:r,accessCache:o,type:l,appContext:a}=i;let h;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return t[e];case 3:return r[e]}else{if(gl(s,e))return o[e]=1,s[e];if(n!==ze&&Le(n,e))return o[e]=2,n[e];if((h=i.propsOptions[0])&&Le(h,e))return o[e]=3,r[e];if(t!==ze&&Le(t,e))return o[e]=4,t[e];da&&(o[e]=0)}}const u=_n[e];let c,d;if(u)return e==="$attrs"&&gt(i.attrs,"get",""),u(i);if((c=l.__cssModules)&&(c=c[e]))return c;if(t!==ze&&Le(t,e))return o[e]=4,t[e];if(d=a.config.globalProperties,Le(d,e))return d[e]},set({_:i},e,t){const{data:s,setupState:n,ctx:r}=i;return gl(n,e)?(n[e]=t,!0):s!==ze&&Le(s,e)?(s[e]=t,!0):Le(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(r[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:s,appContext:n,propsOptions:r}},o){let l;return!!t[o]||i!==ze&&Le(i,o)||gl(e,o)||(l=r[0])&&Le(l,o)||Le(s,o)||Le(_n,o)||Le(n.config.globalProperties,o)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:Le(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function $u(i){return pe(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let da=!0;function k0(i){const e=Uf(i),t=i.proxy,s=i.ctx;da=!1,e.beforeCreate&&Au(e.beforeCreate,i,"bc");const{data:n,computed:r,methods:o,watch:l,provide:a,inject:h,created:u,beforeMount:c,mounted:d,beforeUpdate:f,updated:m,activated:g,deactivated:b,beforeDestroy:y,beforeUnmount:S,destroyed:$,unmounted:v,render:P,renderTracked:M,renderTriggered:E,errorCaptured:I,serverPrefetch:L,expose:Q,inheritAttrs:R,components:x,directives:W,filters:G}=e;if(h&&v0(h,s,null),o)for(const de in o){const _=o[de];Oe(_)&&(s[de]=_.bind(t))}if(n){const de=n.call(t,t);qe(de)&&(i.data=Us(de))}if(da=!0,r)for(const de in r){const _=r[de],j=Oe(_)?_.bind(t,t):Oe(_.get)?_.get.bind(t,t):xi,se=!Oe(_)&&Oe(_.set)?_.set.bind(t):xi,le=Ci({get:j,set:se});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>le.value,set:fe=>le.value=fe})}if(l)for(const de in l)Yf(l[de],s,t,de);if(a){const de=Oe(a)?a.call(t):a;Reflect.ownKeys(de).forEach(_=>{A0(_,de[_])})}u&&Au(u,i,"c");function ge(de,_){pe(_)?_.forEach(j=>de(j.bind(t))):_&&de(_.bind(t))}if(ge(d0,c),ge(fr,d),ge(f0,f),ge(Vf,m),ge(h0,g),ge(u0,b),ge(O0,I),ge(g0,M),ge(p0,E),ge(Qh,S),ge($h,v),ge(m0,L),pe(Q))if(Q.length){const de=i.exposed||(i.exposed={});Q.forEach(_=>{Object.defineProperty(de,_,{get:()=>t[_],set:j=>t[_]=j})})}else i.exposed||(i.exposed={});P&&i.render===xi&&(i.render=P),R!=null&&(i.inheritAttrs=R),x&&(i.components=x),W&&(i.directives=W),L&&Xf(i)}function v0(i,e,t=xi){pe(i)&&(i=fa(i));for(const s in i){const n=i[s];let r;qe(n)?"default"in n?r=Gr(n.from||s,n.default,!0):r=Gr(n.from||s):r=Gr(n),ut(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Au(i,e,t){oi(pe(i)?i.map(s=>s.bind(e.proxy)):i.bind(e.proxy),e,t)}function Yf(i,e,t,s){let n=s.includes(".")?lm(t,s):()=>t[s];if(Ue(i)){const r=e[i];Oe(r)&&nt(n,r)}else if(Oe(i))nt(n,i.bind(t));else if(qe(i))if(pe(i))i.forEach(r=>Yf(r,e,t,s));else{const r=Oe(i.handler)?i.handler.bind(t):e[i.handler];Oe(r)&&nt(n,r,i)}}function Uf(i){const e=i.type,{mixins:t,extends:s}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,l=r.get(e);let a;return l?a=l:!n.length&&!t&&!s?a=e:(a={},n.length&&n.forEach(h=>Oo(a,h,o,!0)),Oo(a,e,o)),qe(e)&&r.set(e,a),a}function Oo(i,e,t,s=!1){const{mixins:n,extends:r}=e;r&&Oo(i,r,t,!0),n&&n.forEach(o=>Oo(i,o,t,!0));for(const o in e)if(!(s&&o==="expose")){const l=x0[o]||t&&t[o];i[o]=l?l(i[o],e[o]):e[o]}return i}const x0={data:Ru,props:Mu,emits:Mu,methods:$n,computed:$n,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:$n,directives:$n,watch:P0,provide:Ru,inject:C0};function Ru(i,e){return e?i?function(){return st(Oe(i)?i.call(this,this):i,Oe(e)?e.call(this,this):e)}:e:i}function C0(i,e){return $n(fa(i),fa(e))}function fa(i){if(pe(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function St(i,e){return i?[...new Set([].concat(i,e))]:e}function $n(i,e){return i?st(Object.create(null),i,e):e}function Mu(i,e){return i?pe(i)&&pe(e)?[...new Set([...i,...e])]:st(Object.create(null),$u(i),$u(e??{})):e}function P0(i,e){if(!i)return e;if(!e)return i;const t=st(Object.create(null),i);for(const s in e)t[s]=St(i[s],e[s]);return t}function Ff(){return{app:null,config:{isNativeTag:uO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q0=0;function $0(i,e){return function(s,n=null){Oe(s)||(s=st({},s)),n!=null&&!qe(n)&&(n=null);const r=Ff(),o=new WeakSet,l=[];let a=!1;const h=r.app={_uid:Q0++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:u1,get config(){return r.config},set config(u){},use(u,...c){return o.has(u)||(u&&Oe(u.install)?(o.add(u),u.install(h,...c)):Oe(u)&&(o.add(u),u(h,...c))),h},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),h},component(u,c){return c?(r.components[u]=c,h):r.components[u]},directive(u,c){return c?(r.directives[u]=c,h):r.directives[u]},mount(u,c,d){if(!a){const f=h._ceVNode||T(s,n);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),i(f,u,d),a=!0,h._container=u,u.__vue_app__=h,Jo(f.component)}},onUnmount(u){l.push(u)},unmount(){a&&(oi(l,h._instance,16),i(null,h._container),delete h._container.__vue_app__)},provide(u,c){return r.provides[u]=c,h},runWithContext(u){const c=Ks;Ks=h;try{return u()}finally{Ks=c}}};return h}}let Ks=null;function A0(i,e){if(ht){let t=ht.provides;const s=ht.parent&&ht.parent.provides;s===t&&(t=ht.provides=Object.create(s)),t[i]=e}}function Gr(i,e,t=!1){const s=ht||ot;if(s||Ks){const n=Ks?Ks._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&i in n)return n[i];if(arguments.length>1)return t&&Oe(e)?e.call(s&&s.proxy):e}}const Gf={},Hf=()=>Object.create(Gf),Kf=i=>Object.getPrototypeOf(i)===Gf;function R0(i,e,t,s=!1){const n={},r=Hf();i.propsDefaults=Object.create(null),Jf(i,e,n,r);for(const o in i.propsOptions[0])o in n||(n[o]=void 0);t?i.props=s?n:qO(n):i.type.props?i.props=n:i.props=r,i.attrs=r}function M0(i,e,t,s){const{props:n,attrs:r,vnode:{patchFlag:o}}=i,l=Qe(n),[a]=i.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Fo(i.emitsOptions,d))continue;const f=e[d];if(a)if(Le(r,d))f!==r[d]&&(r[d]=f,h=!0);else{const m=ti(d);n[m]=ma(a,l,m,f,i,!1)}else f!==r[d]&&(r[d]=f,h=!0)}}}else{Jf(i,e,n,r)&&(h=!0);let u;for(const c in l)(!e||!Le(e,c)&&((u=rs(c))===c||!Le(e,u)))&&(a?t&&(t[c]!==void 0||t[u]!==void 0)&&(n[c]=ma(a,l,c,void 0,i,!0)):delete n[c]);if(r!==l)for(const c in r)(!e||!Le(e,c))&&(delete r[c],h=!0)}h&&Mi(i.attrs,"set","")}function Jf(i,e,t,s){const[n,r]=i.propsOptions;let o=!1,l;if(e)for(let a in e){if(Zn(a))continue;const h=e[a];let u;n&&Le(n,u=ti(a))?!r||!r.includes(u)?t[u]=h:(l||(l={}))[u]=h:Fo(i.emitsOptions,a)||(!(a in s)||h!==s[a])&&(s[a]=h,o=!0)}if(r){const a=Qe(t),h=l||ze;for(let u=0;u<r.length;u++){const c=r[u];t[c]=ma(n,a,c,h[c],i,!Le(h,c))}}return o}function ma(i,e,t,s,n,r){const o=i[t];if(o!=null){const l=Le(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&Oe(a)){const{propsDefaults:h}=n;if(t in h)s=h[t];else{const u=mr(n);s=h[t]=a.call(null,e),u()}}else s=a;n.ce&&n.ce._setProp(t,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===rs(t))&&(s=!0))}return s}const T0=new WeakMap;function em(i,e,t=!1){const s=t?T0:e.propsCache,n=s.get(i);if(n)return n;const r=i.props,o={},l=[];let a=!1;if(!Oe(i)){const u=c=>{a=!0;const[d,f]=em(c,e,!0);st(o,d),f&&l.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!r&&!a)return qe(i)&&s.set(i,Ws),Ws;if(pe(r))for(let u=0;u<r.length;u++){const c=ti(r[u]);Tu(c)&&(o[c]=ze)}else if(r)for(const u in r){const c=ti(u);if(Tu(c)){const d=r[u],f=o[c]=pe(d)||Oe(d)?{type:d}:st({},d),m=f.type;let g=!1,b=!0;if(pe(m))for(let y=0;y<m.length;++y){const S=m[y],$=Oe(S)&&S.name;if($==="Boolean"){g=!0;break}else $==="String"&&(b=!1)}else g=Oe(m)&&m.name==="Boolean";f[0]=g,f[1]=b,(g||Le(f,"default"))&&l.push(c)}}const h=[o,l];return qe(i)&&s.set(i,h),h}function Tu(i){return i[0]!=="$"&&!Zn(i)}const tm=i=>i[0]==="_"||i==="$stable",Ah=i=>pe(i)?i.map(yi):[yi(i)],L0=(i,e,t)=>{if(e._n)return e;const s=Un((...n)=>Ah(e(...n)),t);return s._c=!1,s},im=(i,e,t)=>{const s=i._ctx;for(const n in i){if(tm(n))continue;const r=i[n];if(Oe(r))e[n]=L0(n,r,s);else if(r!=null){const o=Ah(r);e[n]=()=>o}}},sm=(i,e)=>{const t=Ah(e);i.slots.default=()=>t},nm=(i,e,t)=>{for(const s in e)(t||s!=="_")&&(i[s]=e[s])},E0=(i,e,t)=>{const s=i.slots=Hf();if(i.vnode.shapeFlag&32){const n=e._;n?(nm(s,e,t),t&&af(s,"_",n,!0)):im(e,s)}else e&&sm(i,e)},Z0=(i,e,t)=>{const{vnode:s,slots:n}=i;let r=!0,o=ze;if(s.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:nm(n,e,t):(r=!e.$stable,im(e,n)),o=e}else e&&(sm(i,e),o={default:1});if(r)for(const l in n)!tm(l)&&o[l]==null&&delete n[l]},kt=F0;function I0(i){return B0(i)}function B0(i,e){const t=Vo();t.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:o,createText:l,createComment:a,setText:h,setElementText:u,parentNode:c,nextSibling:d,setScopeId:f=xi,insertStaticContent:m}=i,g=(w,O,Z,D=null,N=null,X=null,J=void 0,H=null,F=!!O.dynamicChildren)=>{if(w===O)return;w&&!ms(w,O)&&(D=je(w),fe(w,N,X,!0),w=null),O.patchFlag===-2&&(F=!1,O.dynamicChildren=null);const{type:q,ref:me,shapeFlag:te}=O;switch(q){case Go:b(w,O,Z,D);break;case xt:y(w,O,Z,D);break;case Hr:w==null&&S(O,Z,D,J);break;case ve:x(w,O,Z,D,N,X,J,H,F);break;default:te&1?P(w,O,Z,D,N,X,J,H,F):te&6?W(w,O,Z,D,N,X,J,H,F):(te&64||te&128)&&q.process(w,O,Z,D,N,X,J,H,F,dt)}me!=null&&N&&go(me,w&&w.ref,X,O||w,!O)},b=(w,O,Z,D)=>{if(w==null)s(O.el=l(O.children),Z,D);else{const N=O.el=w.el;O.children!==w.children&&h(N,O.children)}},y=(w,O,Z,D)=>{w==null?s(O.el=a(O.children||""),Z,D):O.el=w.el},S=(w,O,Z,D)=>{[w.el,w.anchor]=m(w.children,O,Z,D,w.el,w.anchor)},$=({el:w,anchor:O},Z,D)=>{let N;for(;w&&w!==O;)N=d(w),s(w,Z,D),w=N;s(O,Z,D)},v=({el:w,anchor:O})=>{let Z;for(;w&&w!==O;)Z=d(w),n(w),w=Z;n(O)},P=(w,O,Z,D,N,X,J,H,F)=>{O.type==="svg"?J="svg":O.type==="math"&&(J="mathml"),w==null?M(O,Z,D,N,X,J,H,F):L(w,O,N,X,J,H,F)},M=(w,O,Z,D,N,X,J,H)=>{let F,q;const{props:me,shapeFlag:te,transition:ae,dirs:B}=w;if(F=w.el=o(w.type,X,me&&me.is,me),te&8?u(F,w.children):te&16&&I(w.children,F,null,D,N,Ol(w,X),J,H),B&&hs(w,null,D,"created"),E(F,w,w.scopeId,J,D),me){for(const Y in me)Y!=="value"&&!Zn(Y)&&r(F,Y,null,me[Y],X,D);"value"in me&&r(F,"value",null,me.value,X),(q=me.onVnodeBeforeMount)&&ci(q,D,w)}B&&hs(w,null,D,"beforeMount");const z=z0(N,ae);z&&ae.beforeEnter(F),s(F,O,Z),((q=me&&me.onVnodeMounted)||z||B)&&kt(()=>{q&&ci(q,D,w),z&&ae.enter(F),B&&hs(w,null,D,"mounted")},N)},E=(w,O,Z,D,N)=>{if(Z&&f(w,Z),D)for(let X=0;X<D.length;X++)f(w,D[X]);if(N){let X=N.subTree;if(O===X||hm(X.type)&&(X.ssContent===O||X.ssFallback===O)){const J=N.vnode;E(w,J,J.scopeId,J.slotScopeIds,N.parent)}}},I=(w,O,Z,D,N,X,J,H,F=0)=>{for(let q=F;q<w.length;q++){const me=w[q]=H?ji(w[q]):yi(w[q]);g(null,me,O,Z,D,N,X,J,H)}},L=(w,O,Z,D,N,X,J)=>{const H=O.el=w.el;let{patchFlag:F,dynamicChildren:q,dirs:me}=O;F|=w.patchFlag&16;const te=w.props||ze,ae=O.props||ze;let B;if(Z&&us(Z,!1),(B=ae.onVnodeBeforeUpdate)&&ci(B,Z,O,w),me&&hs(O,w,Z,"beforeUpdate"),Z&&us(Z,!0),(te.innerHTML&&ae.innerHTML==null||te.textContent&&ae.textContent==null)&&u(H,""),q?Q(w.dynamicChildren,q,H,Z,D,Ol(O,N),X):J||_(w,O,H,null,Z,D,Ol(O,N),X,!1),F>0){if(F&16)R(H,te,ae,Z,N);else if(F&2&&te.class!==ae.class&&r(H,"class",null,ae.class,N),F&4&&r(H,"style",te.style,ae.style,N),F&8){const z=O.dynamicProps;for(let Y=0;Y<z.length;Y++){const he=z[Y],Pe=te[he],Re=ae[he];(Re!==Pe||he==="value")&&r(H,he,Pe,Re,N,Z)}}F&1&&w.children!==O.children&&u(H,O.children)}else!J&&q==null&&R(H,te,ae,Z,N);((B=ae.onVnodeUpdated)||me)&&kt(()=>{B&&ci(B,Z,O,w),me&&hs(O,w,Z,"updated")},D)},Q=(w,O,Z,D,N,X,J)=>{for(let H=0;H<O.length;H++){const F=w[H],q=O[H],me=F.el&&(F.type===ve||!ms(F,q)||F.shapeFlag&70)?c(F.el):Z;g(F,q,me,null,D,N,X,J,!0)}},R=(w,O,Z,D,N)=>{if(O!==Z){if(O!==ze)for(const X in O)!Zn(X)&&!(X in Z)&&r(w,X,O[X],null,N,D);for(const X in Z){if(Zn(X))continue;const J=Z[X],H=O[X];J!==H&&X!=="value"&&r(w,X,H,J,N,D)}"value"in Z&&r(w,"value",O.value,Z.value,N)}},x=(w,O,Z,D,N,X,J,H,F)=>{const q=O.el=w?w.el:l(""),me=O.anchor=w?w.anchor:l("");let{patchFlag:te,dynamicChildren:ae,slotScopeIds:B}=O;B&&(H=H?H.concat(B):B),w==null?(s(q,Z,D),s(me,Z,D),I(O.children||[],Z,me,N,X,J,H,F)):te>0&&te&64&&ae&&w.dynamicChildren?(Q(w.dynamicChildren,ae,Z,N,X,J,H),(O.key!=null||N&&O===N.subTree)&&Rh(w,O,!0)):_(w,O,Z,me,N,X,J,H,F)},W=(w,O,Z,D,N,X,J,H,F)=>{O.slotScopeIds=H,w==null?O.shapeFlag&512?N.ctx.activate(O,Z,D,J,F):G(O,Z,D,N,X,J,F):ue(w,O,F)},G=(w,O,Z,D,N,X,J)=>{const H=w.component=i1(w,D,N);if(Yo(w)&&(H.ctx.renderer=dt),s1(H,!1,J),H.asyncDep){if(N&&N.registerDep(H,ge,J),!w.el){const F=H.subTree=T(xt);y(null,F,O,Z)}}else ge(H,w,O,Z,N,X,J)},ue=(w,O,Z)=>{const D=O.component=w.component;if(Y0(w,O,Z))if(D.asyncDep&&!D.asyncResolved){de(D,O,Z);return}else D.next=O,D.update();else O.el=w.el,D.vnode=O},ge=(w,O,Z,D,N,X,J)=>{const H=()=>{if(w.isMounted){let{next:te,bu:ae,u:B,parent:z,vnode:Y}=w;{const Ie=rm(w);if(Ie){te&&(te.el=Y.el,de(w,te,J)),Ie.asyncDep.then(()=>{w.isUnmounted||H()});return}}let he=te,Pe;us(w,!1),te?(te.el=Y.el,de(w,te,J)):te=Y,ae&&Ur(ae),(Pe=te.props&&te.props.onVnodeBeforeUpdate)&&ci(Pe,z,te,Y),us(w,!0);const Re=Eu(w),Te=w.subTree;w.subTree=Re,g(Te,Re,c(Te.el),je(Te),w,N,X),te.el=Re.el,he===null&&U0(w,Re.el),B&&kt(B,N),(Pe=te.props&&te.props.onVnodeUpdated)&&kt(()=>ci(Pe,z,te,Y),N)}else{let te;const{el:ae,props:B}=O,{bm:z,m:Y,parent:he,root:Pe,type:Re}=w,Te=Hs(O);us(w,!1),z&&Ur(z),!Te&&(te=B&&B.onVnodeBeforeMount)&&ci(te,he,O),us(w,!0);{Pe.ce&&Pe.ce._injectChildStyle(Re);const Ie=w.subTree=Eu(w);g(null,Ie,Z,D,w,N,X),O.el=Ie.el}if(Y&&kt(Y,N),!Te&&(te=B&&B.onVnodeMounted)){const Ie=O;kt(()=>ci(te,he,Ie),N)}(O.shapeFlag&256||he&&Hs(he.vnode)&&he.vnode.shapeFlag&256)&&w.a&&kt(w.a,N),w.isMounted=!0,O=Z=D=null}};w.scope.on();const F=w.effect=new df(H);w.scope.off();const q=w.update=F.run.bind(F),me=w.job=F.runIfDirty.bind(F);me.i=w,me.id=w.uid,F.scheduler=()=>Ch(me),us(w,!0),q()},de=(w,O,Z)=>{O.component=w;const D=w.vnode.props;w.vnode=O,w.next=null,M0(w,O.props,D,Z),Z0(w,O.children,Z),os(),ku(w),ls()},_=(w,O,Z,D,N,X,J,H,F=!1)=>{const q=w&&w.children,me=w?w.shapeFlag:0,te=O.children,{patchFlag:ae,shapeFlag:B}=O;if(ae>0){if(ae&128){se(q,te,Z,D,N,X,J,H,F);return}else if(ae&256){j(q,te,Z,D,N,X,J,H,F);return}}B&8?(me&16&&Ze(q,N,X),te!==q&&u(Z,te)):me&16?B&16?se(q,te,Z,D,N,X,J,H,F):Ze(q,N,X,!0):(me&8&&u(Z,""),B&16&&I(te,Z,D,N,X,J,H,F))},j=(w,O,Z,D,N,X,J,H,F)=>{w=w||Ws,O=O||Ws;const q=w.length,me=O.length,te=Math.min(q,me);let ae;for(ae=0;ae<te;ae++){const B=O[ae]=F?ji(O[ae]):yi(O[ae]);g(w[ae],B,Z,null,N,X,J,H,F)}q>me?Ze(w,N,X,!0,!1,te):I(O,Z,D,N,X,J,H,F,te)},se=(w,O,Z,D,N,X,J,H,F)=>{let q=0;const me=O.length;let te=w.length-1,ae=me-1;for(;q<=te&&q<=ae;){const B=w[q],z=O[q]=F?ji(O[q]):yi(O[q]);if(ms(B,z))g(B,z,Z,null,N,X,J,H,F);else break;q++}for(;q<=te&&q<=ae;){const B=w[te],z=O[ae]=F?ji(O[ae]):yi(O[ae]);if(ms(B,z))g(B,z,Z,null,N,X,J,H,F);else break;te--,ae--}if(q>te){if(q<=ae){const B=ae+1,z=B<me?O[B].el:D;for(;q<=ae;)g(null,O[q]=F?ji(O[q]):yi(O[q]),Z,z,N,X,J,H,F),q++}}else if(q>ae)for(;q<=te;)fe(w[q],N,X,!0),q++;else{const B=q,z=q,Y=new Map;for(q=z;q<=ae;q++){const ft=O[q]=F?ji(O[q]):yi(O[q]);ft.key!=null&&Y.set(ft.key,q)}let he,Pe=0;const Re=ae-z+1;let Te=!1,Ie=0;const $t=new Array(Re);for(q=0;q<Re;q++)$t[q]=0;for(q=B;q<=te;q++){const ft=w[q];if(Pe>=Re){fe(ft,N,X,!0);continue}let Wt;if(ft.key!=null)Wt=Y.get(ft.key);else for(he=z;he<=ae;he++)if($t[he-z]===0&&ms(ft,O[he])){Wt=he;break}Wt===void 0?fe(ft,N,X,!0):($t[Wt-z]=q+1,Wt>=Ie?Ie=Wt:Te=!0,g(ft,O[Wt],Z,null,N,X,J,H,F),Pe++)}const On=Te?_0($t):Ws;for(he=On.length-1,q=Re-1;q>=0;q--){const ft=z+q,Wt=O[ft],yu=ft+1<me?O[ft+1].el:D;$t[q]===0?g(null,Wt,Z,yu,N,X,J,H,F):Te&&(he<0||q!==On[he]?le(Wt,Z,yu,2):he--)}}},le=(w,O,Z,D,N=null)=>{const{el:X,type:J,transition:H,children:F,shapeFlag:q}=w;if(q&6){le(w.component.subTree,O,Z,D);return}if(q&128){w.suspense.move(O,Z,D);return}if(q&64){J.move(w,O,Z,dt);return}if(J===ve){s(X,O,Z);for(let te=0;te<F.length;te++)le(F[te],O,Z,D);s(w.anchor,O,Z);return}if(J===Hr){$(w,O,Z);return}if(D!==2&&q&1&&H)if(D===0)H.beforeEnter(X),s(X,O,Z),kt(()=>H.enter(X),N);else{const{leave:te,delayLeave:ae,afterLeave:B}=H,z=()=>s(X,O,Z),Y=()=>{te(X,()=>{z(),B&&B()})};ae?ae(X,z,Y):Y()}else s(X,O,Z)},fe=(w,O,Z,D=!1,N=!1)=>{const{type:X,props:J,ref:H,children:F,dynamicChildren:q,shapeFlag:me,patchFlag:te,dirs:ae,cacheIndex:B}=w;if(te===-2&&(N=!1),H!=null&&go(H,null,Z,w,!0),B!=null&&(O.renderCache[B]=void 0),me&256){O.ctx.deactivate(w);return}const z=me&1&&ae,Y=!Hs(w);let he;if(Y&&(he=J&&J.onVnodeBeforeUnmount)&&ci(he,O,w),me&6)Ce(w.component,Z,D);else{if(me&128){w.suspense.unmount(Z,D);return}z&&hs(w,null,O,"beforeUnmount"),me&64?w.type.remove(w,O,Z,dt,D):q&&!q.hasOnce&&(X!==ve||te>0&&te&64)?Ze(q,O,Z,!1,!0):(X===ve&&te&384||!N&&me&16)&&Ze(F,O,Z),D&&ke(w)}(Y&&(he=J&&J.onVnodeUnmounted)||z)&&kt(()=>{he&&ci(he,O,w),z&&hs(w,null,O,"unmounted")},Z)},ke=w=>{const{type:O,el:Z,anchor:D,transition:N}=w;if(O===ve){Se(Z,D);return}if(O===Hr){v(w);return}const X=()=>{n(Z),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(w.shapeFlag&1&&N&&!N.persisted){const{leave:J,delayLeave:H}=N,F=()=>J(Z,X);H?H(w.el,X,F):F()}else X()},Se=(w,O)=>{let Z;for(;w!==O;)Z=d(w),n(w),w=Z;n(O)},Ce=(w,O,Z)=>{const{bum:D,scope:N,job:X,subTree:J,um:H,m:F,a:q}=w;Lu(F),Lu(q),D&&Ur(D),N.stop(),X&&(X.flags|=8,fe(J,w,O,Z)),H&&kt(H,O),kt(()=>{w.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ze=(w,O,Z,D=!1,N=!1,X=0)=>{for(let J=X;J<w.length;J++)fe(w[J],O,Z,D,N)},je=w=>{if(w.shapeFlag&6)return je(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const O=d(w.anchor||w.el),Z=O&&O[Lf];return Z?d(Z):O};let si=!1;const hi=(w,O,Z)=>{w==null?O._vnode&&fe(O._vnode,null,null,!0):g(O._vnode||null,w,O,null,null,null,Z),O._vnode=w,si||(si=!0,ku(),Rf(),si=!1)},dt={p:g,um:fe,m:le,r:ke,mt:G,mc:I,pc:_,pbc:Q,n:je,o:i};return{render:hi,hydrate:void 0,createApp:$0(hi)}}function Ol({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function us({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function z0(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function Rh(i,e,t=!1){const s=i.children,n=e.children;if(pe(s)&&pe(n))for(let r=0;r<s.length;r++){const o=s[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=ji(n[r]),l.el=o.el),!t&&l.patchFlag!==-2&&Rh(o,l)),l.type===Go&&(l.el=o.el)}}function _0(i){const e=i.slice(),t=[0];let s,n,r,o,l;const a=i.length;for(s=0;s<a;s++){const h=i[s];if(h!==0){if(n=t[t.length-1],i[n]<h){e[s]=n,t.push(s);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,i[t[l]]<h?r=l+1:o=l;h<i[t[r]]&&(r>0&&(e[s]=t[r-1]),t[r]=s)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function rm(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:rm(e)}function Lu(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const N0=Symbol.for("v-scx"),D0=()=>Gr(N0);function nt(i,e,t){return om(i,e,t)}function om(i,e,t=ze){const{immediate:s,deep:n,flush:r,once:o}=t,l=st({},t),a=e&&s||!e&&r!=="post";let h;if(Kn){if(r==="sync"){const f=D0();h=f.__watcherHandles||(f.__watcherHandles=[])}else if(!a){const f=()=>{};return f.stop=xi,f.resume=xi,f.pause=xi,f}}const u=ht;l.call=(f,m,g)=>oi(f,u,m,g);let c=!1;r==="post"?l.scheduler=f=>{kt(f,u&&u.suspense)}:r!=="sync"&&(c=!0,l.scheduler=(f,m)=>{m?f():Ch(f)}),l.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=e0(i,e,l);return Kn&&(h?h.push(d):a&&d()),d}function X0(i,e,t){const s=this.proxy,n=Ue(i)?i.includes(".")?lm(s,i):()=>s[i]:i.bind(s,s);let r;Oe(e)?r=e:(r=e.handler,t=e);const o=mr(this),l=om(n,r.bind(s),t);return o(),l}function lm(i,e){const t=e.split(".");return()=>{let s=i;for(let n=0;n<t.length&&s;n++)s=s[t[n]];return s}}const q0=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${ti(e)}Modifiers`]||i[`${rs(e)}Modifiers`];function V0(i,e,...t){if(i.isUnmounted)return;const s=i.vnode.props||ze;let n=t;const r=e.startsWith("update:"),o=r&&q0(s,e.slice(7));o&&(o.trim&&(n=t.map(u=>Ue(u)?u.trim():u)),o.number&&(n=t.map(ra)));let l,a=s[l=ul(e)]||s[l=ul(ti(e))];!a&&r&&(a=s[l=ul(rs(e))]),a&&oi(a,i,6,n);const h=s[l+"Once"];if(h){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,oi(h,i,6,n)}}function am(i,e,t=!1){const s=e.emitsCache,n=s.get(i);if(n!==void 0)return n;const r=i.emits;let o={},l=!1;if(!Oe(i)){const a=h=>{const u=am(h,e,!0);u&&(l=!0,st(o,u))};!t&&e.mixins.length&&e.mixins.forEach(a),i.extends&&a(i.extends),i.mixins&&i.mixins.forEach(a)}return!r&&!l?(qe(i)&&s.set(i,null),null):(pe(r)?r.forEach(a=>o[a]=null):st(o,r),qe(i)&&s.set(i,o),o)}function Fo(i,e){return!i||!No(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(i,e[0].toLowerCase()+e.slice(1))||Le(i,rs(e))||Le(i,e))}function Eu(i){const{type:e,vnode:t,proxy:s,withProxy:n,propsOptions:[r],slots:o,attrs:l,emit:a,render:h,renderCache:u,props:c,data:d,setupState:f,ctx:m,inheritAttrs:g}=i,b=po(i);let y,S;try{if(t.shapeFlag&4){const v=n||s,P=v;y=yi(h.call(P,v,u,c,f,d,m)),S=l}else{const v=e;y=yi(v.length>1?v(c,{attrs:l,slots:o,emit:a}):v(c,null)),S=e.props?l:j0(l)}}catch(v){Nn.length=0,Wo(v,i,1),y=T(xt)}let $=y;if(S&&g!==!1){const v=Object.keys(S),{shapeFlag:P}=$;v.length&&P&7&&(r&&v.some(ph)&&(S=W0(S,r)),$=es($,S,!1,!0))}return t.dirs&&($=es($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(t.dirs):t.dirs),t.transition&&Cs($,t.transition),y=$,po(b),y}const j0=i=>{let e;for(const t in i)(t==="class"||t==="style"||No(t))&&((e||(e={}))[t]=i[t]);return e},W0=(i,e)=>{const t={};for(const s in i)(!ph(s)||!(s.slice(9)in e))&&(t[s]=i[s]);return t};function Y0(i,e,t){const{props:s,children:n,component:r}=i,{props:o,children:l,patchFlag:a}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return s?Zu(s,o,h):!!o;if(a&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(o[d]!==s[d]&&!Fo(h,d))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Zu(s,o,h):!0:!!o;return!1}function Zu(i,e,t){const s=Object.keys(e);if(s.length!==Object.keys(i).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(e[r]!==i[r]&&!Fo(t,r))return!0}return!1}function U0({vnode:i,parent:e},t){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===i&&(s.el=i.el),s===i)(i=e.vnode).el=t,e=e.parent;else break}}const hm=i=>i.__isSuspense;function F0(i,e){e&&e.pendingBranch?pe(i)?e.effects.push(...i):e.effects.push(i):s0(i)}const ve=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),Hr=Symbol.for("v-stc"),Nn=[];let Xt=null;function k(i=!1){Nn.push(Xt=i?null:[])}function G0(){Nn.pop(),Xt=Nn[Nn.length-1]||null}let Gn=1;function Iu(i,e=!1){Gn+=i,i<0&&Xt&&e&&(Xt.hasOnce=!0)}function um(i){return i.dynamicChildren=Gn>0?Xt||Ws:null,G0(),Gn>0&&Xt&&Xt.push(i),i}function A(i,e,t,s,n,r){return um(p(i,e,t,s,n,r,!0))}function Me(i,e,t,s,n){return um(T(i,e,t,s,n,!0))}function Hn(i){return i?i.__v_isVNode===!0:!1}function ms(i,e){return i.type===e.type&&i.key===e.key}const cm=({key:i})=>i??null,Kr=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?Ue(i)||ut(i)||Oe(i)?{i:ot,r:i,k:e,f:!!t}:i:null);function p(i,e=null,t=null,s=0,n=null,r=i===ve?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&cm(e),ref:e&&Kr(e),scopeId:Tf,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ot};return l?(Mh(a,t),r&128&&i.normalize(a)):t&&(a.shapeFlag|=Ue(t)?8:16),Gn>0&&!o&&Xt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Xt.push(a),a}const T=H0;function H0(i,e=null,t=null,s=0,n=null,r=!1){if((!i||i===b0)&&(i=xt),Hn(i)){const l=es(i,e,!0);return t&&Mh(l,t),Gn>0&&!r&&Xt&&(l.shapeFlag&6?Xt[Xt.indexOf(i)]=l:Xt.push(l)),l.patchFlag=-2,l}if(a1(i)&&(i=i.__vccOpts),e){e=K0(e);let{class:l,style:a}=e;l&&!Ue(l)&&(e.class=be(l)),qe(a)&&(xh(a)&&!pe(a)&&(a=st({},a)),e.style=tt(a))}const o=Ue(i)?1:hm(i)?128:Ef(i)?64:qe(i)?4:Oe(i)?2:0;return p(i,e,t,s,n,o,r,!0)}function K0(i){return i?xh(i)||Kf(i)?st({},i):i:null}function es(i,e,t=!1,s=!1){const{props:n,ref:r,patchFlag:o,children:l,transition:a}=i,h=e?J0(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:i.type,props:h,key:h&&cm(h),ref:e&&e.ref?t&&r?pe(r)?r.concat(Kr(e)):[r,Kr(e)]:Kr(e):r,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:l,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==ve?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:a,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&es(i.ssContent),ssFallback:i.ssFallback&&es(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return a&&s&&Cs(u,a.clone(u)),u}function Ho(i=" ",e=0){return T(Go,null,i,e)}function Ko(i,e){const t=T(Hr,null,i);return t.staticCount=e,t}function V(i="",e=!1){return e?(k(),Me(xt,null,i)):T(xt,null,i)}function yi(i){return i==null||typeof i=="boolean"?T(xt):pe(i)?T(ve,null,i.slice()):Hn(i)?ji(i):T(Go,null,String(i))}function ji(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:es(i)}function Mh(i,e){let t=0;const{shapeFlag:s}=i;if(e==null)e=null;else if(pe(e))t=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Mh(i,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!Kf(e)?e._ctx=ot:n===3&&ot&&(ot.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else Oe(e)?(e={default:e,_ctx:ot},t=32):(e=String(e),s&64?(t=16,e=[Ho(e)]):t=8);i.children=e,i.shapeFlag|=t}function J0(...i){const e={};for(let t=0;t<i.length;t++){const s=i[t];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=be([e.class,s.class]));else if(n==="style")e.style=tt([e.style,s.style]);else if(No(n)){const r=e[n],o=s[n];o&&r!==o&&!(pe(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=s[n])}return e}function ci(i,e,t,s=null){oi(i,e,7,[t,s])}const e1=Ff();let t1=0;function i1(i,e,t){const s=i.type,n=(e?e.appContext:i.appContext)||e1,r={uid:t1++,vnode:i,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:em(s,n),emitsOptions:am(s,n),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:s.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=V0.bind(null,r),i.ce&&i.ce(r),r}let ht=null;const dm=()=>ht||ot;let yo,pa;{const i=Vo(),e=(t,s)=>{let n;return(n=i[t])||(n=i[t]=[]),n.push(s),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};yo=e("__VUE_INSTANCE_SETTERS__",t=>ht=t),pa=e("__VUE_SSR_SETTERS__",t=>Kn=t)}const mr=i=>{const e=ht;return yo(i),i.scope.on(),()=>{i.scope.off(),yo(e)}},Bu=()=>{ht&&ht.scope.off(),yo(null)};function fm(i){return i.vnode.shapeFlag&4}let Kn=!1;function s1(i,e=!1,t=!1){e&&pa(e);const{props:s,children:n}=i.vnode,r=fm(i);R0(i,s,r,e),E0(i,n,t);const o=r?n1(i,e):void 0;return e&&pa(!1),o}function n1(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,S0);const{setup:s}=t;if(s){os();const n=i.setupContext=s.length>1?o1(i):null,r=mr(i),o=dr(s,i,0,[i.props,n]),l=rf(o);if(ls(),r(),(l||i.sp)&&!Hs(i)&&Xf(i),l){if(o.then(Bu,Bu),e)return o.then(a=>{zu(i,a)}).catch(a=>{Wo(a,i,0)});i.asyncDep=o}else zu(i,o)}else mm(i)}function zu(i,e,t){Oe(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:qe(e)&&(i.setupState=Qf(e)),mm(i)}function mm(i,e,t){const s=i.type;i.render||(i.render=s.render||xi);{const n=mr(i);os();try{k0(i)}finally{ls(),n()}}}const r1={get(i,e){return gt(i,"get",""),i[e]}};function o1(i){const e=t=>{i.exposed=t||{}};return{attrs:new Proxy(i.attrs,r1),slots:i.slots,emit:i.emit,expose:e}}function Jo(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Qf(VO(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in _n)return _n[t](i)},has(e,t){return t in e||t in _n}})):i.proxy}function l1(i,e=!0){return Oe(i)?i.displayName||i.name:i.name||e&&i.__name}function a1(i){return Oe(i)&&"__vccOpts"in i}const Ci=(i,e)=>KO(i,e,Kn);function h1(i,e,t){const s=arguments.length;return s===2?qe(e)&&!pe(e)?Hn(e)?T(i,null,[e]):T(i,e):T(i,null,e):(s>3?t=Array.prototype.slice.call(arguments,2):s===3&&Hn(t)&&(t=[t]),T(i,e,t))}const u1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ga;const _u=typeof window<"u"&&window.trustedTypes;if(_u)try{ga=_u.createPolicy("vue",{createHTML:i=>i})}catch{}const pm=ga?i=>ga.createHTML(i):i=>i,c1="http://www.w3.org/2000/svg",d1="http://www.w3.org/1998/Math/MathML",Ai=typeof document<"u"?document:null,Nu=Ai&&Ai.createElement("template"),f1={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,s)=>{const n=e==="svg"?Ai.createElementNS(c1,i):e==="mathml"?Ai.createElementNS(d1,i):t?Ai.createElement(i,{is:t}):Ai.createElement(i);return i==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:i=>Ai.createTextNode(i),createComment:i=>Ai.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Ai.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,s,n,r){const o=t?t.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===r||!(n=n.nextSibling)););else{Nu.innerHTML=pm(s==="svg"?`<svg>${i}</svg>`:s==="mathml"?`<math>${i}</math>`:i);const l=Nu.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Ni="transition",bn="animation",on=Symbol("_vtc"),gm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Om=st({},zf,gm),m1=i=>(i.displayName="Transition",i.props=Om,i),Oa=m1((i,{slots:e})=>h1(l0,ym(i),e)),cs=(i,e=[])=>{pe(i)?i.forEach(t=>t(...e)):i&&i(...e)},Du=i=>i?pe(i)?i.some(e=>e.length>1):i.length>1:!1;function ym(i){const e={};for(const x in i)x in gm||(e[x]=i[x]);if(i.css===!1)return e;const{name:t="v",type:s,duration:n,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:a=r,appearActiveClass:h=o,appearToClass:u=l,leaveFromClass:c=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=i,m=p1(n),g=m&&m[0],b=m&&m[1],{onBeforeEnter:y,onEnter:S,onEnterCancelled:$,onLeave:v,onLeaveCancelled:P,onBeforeAppear:M=y,onAppear:E=S,onAppearCancelled:I=$}=e,L=(x,W,G,ue)=>{x._enterCancelled=ue,Di(x,W?u:l),Di(x,W?h:o),G&&G()},Q=(x,W)=>{x._isLeaving=!1,Di(x,c),Di(x,f),Di(x,d),W&&W()},R=x=>(W,G)=>{const ue=x?E:S,ge=()=>L(W,x,G);cs(ue,[W,ge]),Xu(()=>{Di(W,x?a:r),pi(W,x?u:l),Du(ue)||qu(W,s,g,ge)})};return st(e,{onBeforeEnter(x){cs(y,[x]),pi(x,r),pi(x,o)},onBeforeAppear(x){cs(M,[x]),pi(x,a),pi(x,h)},onEnter:R(!1),onAppear:R(!0),onLeave(x,W){x._isLeaving=!0;const G=()=>Q(x,W);pi(x,c),x._enterCancelled?(pi(x,d),ya()):(ya(),pi(x,d)),Xu(()=>{x._isLeaving&&(Di(x,c),pi(x,f),Du(v)||qu(x,s,b,G))}),cs(v,[x,G])},onEnterCancelled(x){L(x,!1,void 0,!0),cs($,[x])},onAppearCancelled(x){L(x,!0,void 0,!0),cs(I,[x])},onLeaveCancelled(x){Q(x),cs(P,[x])}})}function p1(i){if(i==null)return null;if(qe(i))return[yl(i.enter),yl(i.leave)];{const e=yl(i);return[e,e]}}function yl(i){return pO(i)}function pi(i,e){e.split(/\s+/).forEach(t=>t&&i.classList.add(t)),(i[on]||(i[on]=new Set)).add(e)}function Di(i,e){e.split(/\s+/).forEach(s=>s&&i.classList.remove(s));const t=i[on];t&&(t.delete(e),t.size||(i[on]=void 0))}function Xu(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let g1=0;function qu(i,e,t,s){const n=i._endId=++g1,r=()=>{n===i._endId&&s()};if(t!=null)return setTimeout(r,t);const{type:o,timeout:l,propCount:a}=bm(i,e);if(!o)return s();const h=o+"end";let u=0;const c=()=>{i.removeEventListener(h,d),r()},d=f=>{f.target===i&&++u>=a&&c()};setTimeout(()=>{u<a&&c()},l+1),i.addEventListener(h,d)}function bm(i,e){const t=window.getComputedStyle(i),s=m=>(t[m]||"").split(", "),n=s(`${Ni}Delay`),r=s(`${Ni}Duration`),o=Vu(n,r),l=s(`${bn}Delay`),a=s(`${bn}Duration`),h=Vu(l,a);let u=null,c=0,d=0;e===Ni?o>0&&(u=Ni,c=o,d=r.length):e===bn?h>0&&(u=bn,c=h,d=a.length):(c=Math.max(o,h),u=c>0?o>h?Ni:bn:null,d=u?u===Ni?r.length:a.length:0);const f=u===Ni&&/\b(transform|all)(,|$)/.test(s(`${Ni}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:f}}function Vu(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max(...e.map((t,s)=>ju(t)+ju(i[s])))}function ju(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function ya(){return document.body.offsetHeight}function O1(i,e,t){const s=i[on];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const bo=Symbol("_vod"),wm=Symbol("_vsh"),y1={beforeMount(i,{value:e},{transition:t}){i[bo]=i.style.display==="none"?"":i.style.display,t&&e?t.beforeEnter(i):wn(i,e)},mounted(i,{value:e},{transition:t}){t&&e&&t.enter(i)},updated(i,{value:e,oldValue:t},{transition:s}){!e!=!t&&(s?e?(s.beforeEnter(i),wn(i,!0),s.enter(i)):s.leave(i,()=>{wn(i,!1)}):wn(i,e))},beforeUnmount(i,{value:e}){wn(i,e)}};function wn(i,e){i.style.display=e?i[bo]:"none",i[wm]=!e}const b1=Symbol(""),w1=/(^|;)\s*display\s*:/;function S1(i,e,t){const s=i.style,n=Ue(t);let r=!1;if(t&&!n){if(e)if(Ue(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&Jr(s,l,"")}else for(const o in e)t[o]==null&&Jr(s,o,"");for(const o in t)o==="display"&&(r=!0),Jr(s,o,t[o])}else if(n){if(e!==t){const o=s[b1];o&&(t+=";"+o),s.cssText=t,r=w1.test(t)}}else e&&i.removeAttribute("style");bo in i&&(i[bo]=r?s.display:"",i[wm]&&(s.display="none"))}const Wu=/\s*!important$/;function Jr(i,e,t){if(pe(t))t.forEach(s=>Jr(i,e,s));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const s=k1(i,e);Wu.test(t)?i.setProperty(rs(s),t.replace(Wu,""),"important"):i[s]=t}}const Yu=["Webkit","Moz","ms"],bl={};function k1(i,e){const t=bl[e];if(t)return t;let s=ti(e);if(s!=="filter"&&s in i)return bl[e]=s;s=qo(s);for(let n=0;n<Yu.length;n++){const r=Yu[n]+s;if(r in i)return bl[e]=r}return e}const Uu="http://www.w3.org/1999/xlink";function Fu(i,e,t,s,n,r=SO(e)){s&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(Uu,e.slice(6,e.length)):i.setAttributeNS(Uu,e,t):t==null||r&&!hf(t)?i.removeAttribute(e):i.setAttribute(e,r?"":Bi(t)?String(t):t)}function Gu(i,e,t,s,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?pm(t):t);return}const r=i.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?i.getAttribute("value")||"":i.value,a=t==null?i.type==="checkbox"?"on":"":String(t);(l!==a||!("_value"in i))&&(i.value=a),t==null&&i.removeAttribute(e),i._value=t;return}let o=!1;if(t===""||t==null){const l=typeof i[e];l==="boolean"?t=hf(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{i[e]=t}catch{}o&&i.removeAttribute(n||e)}function Bs(i,e,t,s){i.addEventListener(e,t,s)}function v1(i,e,t,s){i.removeEventListener(e,t,s)}const Hu=Symbol("_vei");function x1(i,e,t,s,n=null){const r=i[Hu]||(i[Hu]={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=C1(e);if(s){const h=r[e]=$1(s,n);Bs(i,l,h,a)}else o&&(v1(i,l,o,a),r[e]=void 0)}}const Ku=/(?:Once|Passive|Capture)$/;function C1(i){let e;if(Ku.test(i)){e={};let s;for(;s=i.match(Ku);)i=i.slice(0,i.length-s[0].length),e[s[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):rs(i.slice(2)),e]}let wl=0;const P1=Promise.resolve(),Q1=()=>wl||(P1.then(()=>wl=0),wl=Date.now());function $1(i,e){const t=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=t.attached)return;oi(A1(s,t.value),e,5,[s])};return t.value=i,t.attached=Q1(),t}function A1(i,e){if(pe(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Ju=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,R1=(i,e,t,s,n,r)=>{const o=n==="svg";e==="class"?O1(i,s,o):e==="style"?S1(i,t,s):No(e)?ph(e)||x1(i,e,t,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):M1(i,e,s,o))?(Gu(i,e,s),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fu(i,e,s,o,r,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!Ue(s))?Gu(i,ti(e),s,r,e):(e==="true-value"?i._trueValue=s:e==="false-value"&&(i._falseValue=s),Fu(i,e,s,o))};function M1(i,e,t,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in i&&Ju(e)&&Oe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=i.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ju(e)&&Ue(t)?!1:e in i}const Sm=new WeakMap,km=new WeakMap,wo=Symbol("_moveCb"),ec=Symbol("_enterCb"),T1=i=>(delete i.props.mode,i),L1=T1({name:"TransitionGroup",props:st({},Om,{tag:String,moveClass:String}),setup(i,{slots:e}){const t=dm(),s=Bf();let n,r;return Vf(()=>{if(!n.length)return;const o=i.moveClass||`${i.name||"v"}-move`;if(!z1(n[0].el,t.vnode.el,o))return;n.forEach(Z1),n.forEach(I1);const l=n.filter(B1);ya(),l.forEach(a=>{const h=a.el,u=h.style;pi(h,o),u.transform=u.webkitTransform=u.transitionDuration="";const c=h[wo]=d=>{d&&d.target!==h||(!d||/transform$/.test(d.propertyName))&&(h.removeEventListener("transitionend",c),h[wo]=null,Di(h,o))};h.addEventListener("transitionend",c)})}),()=>{const o=Qe(i),l=ym(o);let a=o.tag||ve;if(n=[],r)for(let h=0;h<r.length;h++){const u=r[h];u.el&&u.el instanceof Element&&(n.push(u),Cs(u,Fn(u,l,s,t)),Sm.set(u,u.el.getBoundingClientRect()))}r=e.default?Ph(e.default()):[];for(let h=0;h<r.length;h++){const u=r[h];u.key!=null&&Cs(u,Fn(u,l,s,t))}return T(a,null,r)}}}),E1=L1;function Z1(i){const e=i.el;e[wo]&&e[wo](),e[ec]&&e[ec]()}function I1(i){km.set(i,i.el.getBoundingClientRect())}function B1(i){const e=Sm.get(i),t=km.get(i),s=e.left-t.left,n=e.top-t.top;if(s||n){const r=i.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${n}px)`,r.transitionDuration="0s",i}}function z1(i,e,t){const s=i.cloneNode(),n=i[on];n&&n.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),t.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=bm(s);return r.removeChild(s),o}const tc=i=>{const e=i.props["onUpdate:modelValue"]||!1;return pe(e)?t=>Ur(e,t):e};function _1(i){i.target.composing=!0}function ic(i){const e=i.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sl=Symbol("_assign"),Ns={created(i,{modifiers:{lazy:e,trim:t,number:s}},n){i[Sl]=tc(n);const r=s||n.props&&n.props.type==="number";Bs(i,e?"change":"input",o=>{if(o.target.composing)return;let l=i.value;t&&(l=l.trim()),r&&(l=ra(l)),i[Sl](l)}),t&&Bs(i,"change",()=>{i.value=i.value.trim()}),e||(Bs(i,"compositionstart",_1),Bs(i,"compositionend",ic),Bs(i,"change",ic))},mounted(i,{value:e}){i.value=e??""},beforeUpdate(i,{value:e,oldValue:t,modifiers:{lazy:s,trim:n,number:r}},o){if(i[Sl]=tc(o),i.composing)return;const l=(r||i.type==="number")&&!/^0\d/.test(i.value)?ra(i.value):i.value,a=e??"";l!==a&&(document.activeElement===i&&i.type!=="range"&&(s&&e===t||n&&i.value.trim()===a)||(i.value=a))}},N1=["ctrl","shift","alt","meta"],D1={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,e)=>N1.some(t=>i[`${t}Key`]&&!e.includes(t))},Ge=(i,e)=>{const t=i._withMods||(i._withMods={}),s=e.join(".");return t[s]||(t[s]=(n,...r)=>{for(let o=0;o<e.length;o++){const l=D1[e[o]];if(l&&l(n,e))return}return i(n,...r)})},X1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ds=(i,e)=>{const t=i._withKeys||(i._withKeys={}),s=e.join(".");return t[s]||(t[s]=n=>{if(!("key"in n))return;const r=rs(n.key);if(e.some(o=>o===r||X1[o]===r))return i(n)})},q1=st({patchProp:R1},f1);let sc;function V1(){return sc||(sc=I0(q1))}const j1=(...i)=>{const e=V1().createApp(...i),{mount:t}=e;return e.mount=s=>{const n=Y1(s);if(!n)return;const r=e._component;!Oe(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=t(n,!1,W1(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function W1(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function Y1(i){return Ue(i)?document.querySelector(i):i}const ce=(i,e)=>{const t=i.__vccOpts||i;for(const[s,n]of e)t[s]=n;return t},U1={name:"SignalButton",props:{id:{type:String,required:!0},signal:{type:Boolean,required:!0},label:{type:String,required:!0},divClassNames:{type:String,default:""},spanClassNames:{type:String,default:""}}},F1=["id"];function G1(i,e,t,s,n,r){return k(),A("div",{id:t.id,class:be(["signal","impulse",t.divClassNames,{active:t.signal}])},[p("span",{class:be([t.spanClassNames])},oe(t.label),3)],10,F1)}const Qt=ce(U1,[["render",G1]]),H1={},K1={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",class:"humbleicons hi-cog"};function J1(i,e){return k(),A("svg",K1,e[0]||(e[0]=[p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M10.47 4.32c.602-1.306 2.458-1.306 3.06 0l.218.473a1.684 1.684 0 002.112.875l.49-.18c1.348-.498 2.66.814 2.162 2.163l-.18.489a1.684 1.684 0 00.875 2.112l.474.218c1.305.602 1.305 2.458 0 3.06l-.474.218a1.684 1.684 0 00-.875 2.112l.18.49c.498 1.348-.814 2.66-2.163 2.162l-.489-.18a1.684 1.684 0 00-2.112.875l-.218.473c-.602 1.306-2.458 1.306-3.06 0l-.218-.473a1.684 1.684 0 00-2.112-.875l-.49.18c-1.348.498-2.66-.814-2.163-2.163l.181-.489a1.684 1.684 0 00-.875-2.112l-.474-.218c-1.305-.602-1.305-2.458 0-3.06l.474-.218a1.684 1.684 0 00.875-2.112l-.18-.49c-.498-1.348.814-2.66 2.163-2.163l.489.181a1.684 1.684 0 002.112-.875l.218-.474z"},null,-1)]))}const vm=ce(H1,[["render",J1]]),ey={name:"RegisterComponent",components:{KogWheelIcon:vm},inject:{validateRegisterValue:{default:null},showToast:{default:null},getMaxValueForRegister:{default:null}},props:{label:String,id:String,classNames:{type:String,default:"register"},model:[Number],numberFormat:{type:String,default:"dec"},signedDec:{type:Boolean,default:!1},wordBits:{type:Number,default:12},showFormatSelector:{type:Boolean,default:!0},isEnableEditValue:{type:Boolean,default:!0}},emits:["update:model","update:numberFormat"],data(){return{edgeClass:"",showFormatMenu:!1}},computed:{fullName(){return{AK:"Akumulator",X:"Rejestr X",Y:"Rejestr Y",I:"Rejestr I (adresowy)",L:"Licznik",S:"Rejestr S",A:"Rejestr A",JAML:"Rejestr JAML",RZ:"Rejestr zgosze przerwa",RP:"Rejestr priorytetw przerwa",AP:"Rejestr adresu przerwania",RM:"Rejestr maski przerwa",G:"Rejestr gotowoci urzdzenia",RB:"Rejestr bufora urzdzenia",WS:"Wskanik stosu"}[this.label]||this.label},formattedValue(){if(typeof this.model!="number"||isNaN(this.model))return"Bd";const i=(t,s)=>{const n=1<<s,r=n-1,o=1<<s-1,l=t&r;return l&o?l-n:l},e={dec:t=>(this.signedDec?i(t,this.wordBits):t).toString(),hex:t=>"0x"+t.toString(16).toUpperCase(),bin:t=>"0b"+t.toString(2)};return(e[this.numberFormat]||e.dec)(this.model)},registerType(){return{AK:"ACC",X:"X",Y:"Y",I:"I",L:"programCounter",S:"S",A:"A",WS:"WS",RZ:"RZ",RP:"RP",AP:"AP",RM:"RM",G:"G",RB:"RB",JAML:"JAML"}[this.label]||this.label}},methods:{updateValue(i){const e=parseInt(i.target.value,10);if(isNaN(e))this.$emit("update:model",null);else if(this.validateRegisterValue){const t=this.fullName||this.label;this.validateRegisterValue(e,this.registerType,t)?this.$emit("update:model",e):i.target.value=this.model}else{if(this.getMaxValueForRegister){const t=this.getMaxValueForRegister(this.registerType);if(e>t){this.showToast&&this.showToast(`Warto ${e} przekracza maksymaln dozwolon warto ${t} dla rejestru ${this.fullName||this.label}.`),i.target.value=this.model;return}}this.$emit("update:model",e)}},onBlur(i){(i.target.value===""||i.target.value===null)&&(i.target.value=0,this.$emit("update:model",0))},handleMouseEnter(){const i=this.$el.getBoundingClientRect();i.left<50?this.edgeClass="edge-left":i.right>window.innerWidth-50?this.edgeClass="edge-right":this.edgeClass=""},handleMouseLeave(){this.edgeClass=""},toggleFormatMenu(){this.showFormatMenu=!this.showFormatMenu},setFormat(i){this.$emit("update:numberFormat",i),this.showFormatMenu=!1},closeMenu(i){this.showFormatMenu&&!this.$refs.formatSelector.contains(i.target)&&(this.showFormatMenu=!1)}},mounted(){document.addEventListener("click",this.closeMenu)},beforeUnmount(){document.removeEventListener("click",this.closeMenu)}},ty=["id"],iy={key:0,class:"register-container"},sy=["title"],ny={class:"inputWrapper"},ry=["value"],oy={key:1,class:"format-selector",ref:"formatSelector"},ly={key:0,class:"format-menu"};function ay(i,e,t,s,n,r){const o=ee("KogWheelIcon");return k(),A("div",{id:t.id,class:be([t.classNames,n.edgeClass,"register-container"])},[t.isEnableEditValue?(k(),A("div",iy,[p("span",{title:r.fullName,onMouseenter:e[0]||(e[0]=(...l)=>r.handleMouseEnter&&r.handleMouseEnter(...l)),onMouseleave:e[1]||(e[1]=(...l)=>r.handleMouseLeave&&r.handleMouseLeave(...l))},oe(t.label),41,sy),e[8]||(e[8]=p("span",null,":",-1)),p("div",ny,[p("span",null,oe(r.formattedValue),1),p("input",{inputmode:"numeric",pattern:"[0-9]*",type:"number",class:"hoverInput",value:t.model,onInput:e[2]||(e[2]=(...l)=>r.updateValue&&r.updateValue(...l)),onBlur:e[3]||(e[3]=(...l)=>r.onBlur&&r.onBlur(...l))},null,40,ry)])])):V("",!0),t.showFormatSelector?(k(),A("div",oy,[p("button",{class:"format-button",onClick:e[4]||(e[4]=Ge((...l)=>r.toggleFormatMenu&&r.toggleFormatMenu(...l),["stop"]))},[T(o)]),n.showFormatMenu?(k(),A("div",ly,[p("div",{onClick:e[5]||(e[5]=l=>r.setFormat("dec")),class:be({active:t.numberFormat==="dec"})},"DEC",2),p("div",{onClick:e[6]||(e[6]=l=>r.setFormat("hex")),class:be({active:t.numberFormat==="hex"})},"HEX",2),p("div",{onClick:e[7]||(e[7]=l=>r.setFormat("bin")),class:be({active:t.numberFormat==="bin"})},"BIN",2)])):V("",!0)],512)):V("",!0)],10,ty)}const jt=ce(ey,[["render",ay],["__scopeId","data-v-eeb0a528"]]),hy={name:"CounterComponent",components:{SignalButton:Qt,RegisterComponent:jt},props:{signals:{type:Object,required:!0},programCounter:{type:Number,required:!0},extras:{type:Object,required:!0},formatNumber:{type:Function,required:!0},numberFormat:{type:String,required:!0}},emits:["clickItem","update:programCounter","update:numberFormat"],methods:{handleClick(i){this.$emit("clickItem",i)}}},uy={id:"counter"},cy={key:0,class:"wylsSignalsExt"};function dy(i,e,t,s,n,r){var a,h,u,c;const o=ee("SignalButton"),l=ee("RegisterComponent");return k(),A("div",uy,[T(o,{id:"il",signal:t.signals.il,onClick:e[0]||(e[0]=d=>r.handleClick("il")),label:"il",spanClassNames:"arrowRightOnBottom"},null,8,["signal"]),T(l,{label:"L",model:t.programCounter,"onUpdate:model":e[1]||(e[1]=d=>i.$emit("update:programCounter",d)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=d=>i.$emit("update:numberFormat",d))},null,8,["model","number-format"]),t.extras.dl?(k(),Me(o,{key:0,id:"dl",signal:t.signals.dl,onClick:e[3]||(e[3]=d=>r.handleClick("dl")),label:"dl",spanClassNames:"arrowLeftOnBottom"},null,8,["signal"])):V("",!0),T(o,{id:"wyl",signal:t.signals.wyl,onClick:e[4]||(e[4]=d=>r.handleClick("wyl")),label:"wyl",class:"long pathDownOnLeft",spanClassNames:"arrowLeftOnBottom"},null,8,["signal"]),p("div",{class:be(["wylsSignalsConteiner",(h=(a=t.extras)==null?void 0:a.stack)!=null&&h.wylsSignal?"wylsSignalsConteinerContent":"wylsSignalsConteinerContentEnd"])},[(c=(u=t.extras)==null?void 0:u.stack)!=null&&c.wylsSignal?(k(),A("div",cy)):V("",!0),T(o,{id:"wel",signal:t.signals.wel,onClick:e[5]||(e[5]=d=>r.handleClick("wel")),label:"wel",class:"impulse pathUpOnRight",spanClassNames:"arrowRightOnBottom"},null,8,["signal"])],2)])}const xm=ce(hy,[["render",dy]]),fy={name:"BusLabel",props:{busName:{type:String,required:!0},busValue:{type:Number,required:!0},showInvisibleRegisters:{type:Boolean,default:!1},mobileView:{type:Boolean,required:!1},formatNumber:{type:Function,required:!0}}},my={key:0,style:{"margin-right":"5px"}},py={key:1};function gy(i,e,t,s,n,r){return k(),A(ve,null,[t.showInvisibleRegisters&&!t.mobileView?(k(),A("span",my,oe(t.busName)+" : "+oe(t.formatNumber(t.busValue)),1)):V("",!0),t.mobileView?V("",!0):(k(),A("span",py,oe(t.busName.toLowerCase()),1))],64)}const Th=ce(fy,[["render",gy]]),Oy={name:"BusSignal",components:{BusLabel:Th},props:{signalStatus:{type:Boolean,required:!0},mobileView:{type:Boolean,required:!1},busValue:{type:Number,required:!0},showInvisibleRegisters:{type:Boolean,default:!1},busName:{type:String,required:!0},formatNumber:{type:Function,required:!0}}};function yy(i,e,t,s,n,r){const o=ee("BusLabel");return k(),A("div",{class:be(["bus signal",{active:t.signalStatus}])},[e[0]||(e[0]=p("div",{class:"line"},null,-1)),T(o,{busName:t.busName,busValue:t.busValue,showInvisibleRegisters:t.showInvisibleRegisters,mobileView:t.mobileView,formatNumber:t.formatNumber},null,8,["busName","busValue","showInvisibleRegisters","mobileView","formatNumber"])],2)}const Cm=ce(Oy,[["render",yy]]),by={name:"MemoryContent",inject:{validateRegisterValue:{default:null},showToast:{default:null},getMaxValueForRegister:{default:null}},props:{A:{type:Number,required:!0},S:{type:Number,required:!0},mem:{type:Array,required:!0},signals:{type:Object,required:!0},formatNumber:{type:Function,required:!0},decToCommand:{type:Function,required:!0},decToArgument:{type:Function,required:!0},aFormat:{type:String,required:!0},sFormat:{type:String,required:!0},signedDec:{type:Boolean,default:!1},wordBits:{type:Number,default:8}},emits:["update:A","update:S","update:mem","clickItem","update:aFormat","update:sFormat"],components:{SignalButton:Qt,RegisterComponent:jt},data(){return{windowWidth:window.innerWidth}},computed:{isMobile(){return this.windowWidth<1080},memoryLabel(){return this.windowWidth<1400?"Adr.":"Adres pamici"}},methods:{wordMask(){return(1<<this.wordBits)-1},toSigned(i){const e=1<<this.wordBits,t=1<<this.wordBits-1,s=i&e-1;return s&t?s-e:s},displayValue(i){return this.signedDec?this.toSigned(i):i&this.wordMask()},handleClick(i){this.$emit("clickItem",i)},updateWindowWidth(){this.windowWidth=window.innerWidth},updateMemoryValue(i,e){const t=String(i.target.value).trim();if(t===""||t==="-")return;const s=parseInt(t,10);if(Number.isNaN(s)){i.target.value=this.displayValue(this.mem[e]);return}if(this.validateRegisterValue){if(!this.validateRegisterValue(s,"memory",`Pami[${e}]`)){i.target.value=this.displayValue(this.mem[e]);return}}else{const o=this.signedDec?-(1<<this.wordBits-1):0,l=this.signedDec?(1<<this.wordBits-1)-1:this.wordMask();if(s<o||s>l){this.showToast&&this.showToast(`Warto ${s} poza zakresem ${o}..${l} (sowo ${this.wordBits}-bit${this.wordBits===1,"owe"}).`),i.target.value=this.displayValue(this.mem[e]);return}}let n;this.signedDec&&s<0?n=s+(1<<this.wordBits)&this.wordMask():n=s&this.wordMask();const r=[...this.mem];r[e]=n,this.$emit("update:mem",r)},onMemoryBlur(i,e){const t=String(i.target.value).trim();if(t===""||t==="-"){const s=[...this.mem];s[e]=0,this.$emit("update:mem",s),i.target.value=this.displayValue(0)}else i.target.value=this.displayValue(this.mem[e])}},mounted(){window.addEventListener("resize",this.updateWindowWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateWindowWidth)}},wy={id:"memory"},Sy={id:"memoryTable"},ky={class:"scrollWrapper"},vy={class:"memoryContainer"},xy={class:"label"},Cy=["value","min","max","onInput","onBlur"],Py={key:1,id:"operations"},Qy={key:2,class:"signals"};function $y(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return k(),A("div",wy,[r.isMobile?V("",!0):(k(),Me(o,{key:0,id:"wea",signal:t.signals.wea,label:"wea",divClassNames:"pathDownOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wea"))},null,8,["signal"])),T(l,{classNames:"register",id:"aRegister",label:"A",model:t.A,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:A",a)),"number-format":t.aFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:aFormat",a))},null,8,["model","number-format"]),p("div",Sy,[p("div",ky,[p("div",vy,[p("span",xy,oe(r.memoryLabel),1),e[9]||(e[9]=p("span",{class:"label"},"Warto",-1)),e[10]||(e[10]=p("span",{class:"label"},"Kod",-1)),e[11]||(e[11]=p("span",{class:"label"},"Adres",-1)),(k(!0),A(ve,null,Et(t.mem,(a,h)=>(k(),A(ve,{key:h},[p("span",{class:be({selected:t.A===h})},oe(t.formatNumber(h)),3),p("div",{class:be([{selected:t.A===h},"inputWrapper"])},[p("span",null,oe(t.formatNumber(t.mem[h])),1),p("input",{inputmode:"numeric",type:"number",class:"hoverInput",value:r.displayValue(t.mem[h]),min:t.signedDec?-(1<<t.wordBits-1):0,max:t.signedDec?(1<<t.wordBits-1)-1:r.wordMask(),onInput:u=>r.updateMemoryValue(u,h),onBlur:u=>r.onMemoryBlur(u,h)},null,40,Cy)],2),p("span",{class:be({selected:t.A===h})},oe(t.decToCommand(a)?t.decToCommand(a).name:"EMPTY"),3),p("span",{class:be({selected:t.A===h})},oe(t.formatNumber(t.decToArgument(a))),3)],64))),128))])])]),T(l,{classNames:"register",id:"sRegister",label:"S",model:t.S,"onUpdate:model":e[3]||(e[3]=a=>i.$emit("update:S",a)),"number-format":t.sFormat,"onUpdate:numberFormat":e[4]||(e[4]=a=>i.$emit("update:sFormat",a))},null,8,["model","number-format"]),r.isMobile?V("",!0):(k(),A("div",Py,[T(o,{id:"czyt",signal:t.signals.czyt,label:"czyt",spanClassNames:"lineLeftOnBottom",onClick:e[5]||(e[5]=a=>r.handleClick("czyt"))},null,8,["signal"]),T(o,{id:"pisz",signal:t.signals.pisz,label:"pisz",spanClassNames:"lineLeftOnBottom",onClick:e[6]||(e[6]=a=>r.handleClick("pisz"))},null,8,["signal"])])),r.isMobile?V("",!0):(k(),A("div",Qy,[r.isMobile?V("",!0):(k(),Me(o,{key:0,id:"wes",signal:t.signals.wes,label:"wes",divClassNames:"pathUpOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[7]||(e[7]=a=>r.handleClick("wes"))},null,8,["signal"])),r.isMobile?V("",!0):(k(),Me(o,{key:1,id:"wys",signal:t.signals.wys,label:"wys",divClassNames:"pathDownOnLeft",spanClassNames:"lineLeftOnBottom",onClick:e[8]||(e[8]=a=>r.handleClick("wys"))},null,8,["signal"]))]))])}const Ay=ce(by,[["render",$y]]),Ry={},My={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",class:"humbleicons hi-view-list"};function Ty(i,e){return k(),A("svg",My,e[0]||(e[0]=[p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"},null,-1)]))}const Ly=ce(Ry,[["render",Ty]]),Ey={name:"MobileMemoryHeader",components:{SignalButton:Qt,ListLinesIcon:Ly,BusLabel:Th},props:{signals:{type:Object,required:!0},mobileView:{type:Boolean,required:!0},busAValue:{type:Number,required:!0},busSValue:{type:Number,required:!0},showInvisibleRegisters:{type:Boolean,default:!1},formatNumber:{type:Function,required:!0}},emits:["open","clickItem"],methods:{emitClick(i){this.$emit("clickItem",i)}}},Zy={class:"mobile-memory-header"},Iy={class:"memory-signal-in"},By={class:"busLabel busLabelUp"},zy={class:"memory-signals-in",style:{"grid-area":"memory-signals-in"}},_y={class:"memory-signals-out",style:{"grid-area":"memory-signals-out"}},Ny={class:"busLabel busLabelDown"};function Dy(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("BusLabel"),a=ee("ListLinesIcon");return k(),A("div",Zy,[p("div",Iy,[T(o,{id:"wea",signal:t.signals.wea,label:"wea",divClassNames:"pathDownOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[0]||(e[0]=h=>r.emitClick("wea")),style:{"grid-area":"wea"}},null,8,["signal"])]),p("div",By,[T(l,{busName:"A",busValue:t.busAValue,showInvisibleRegisters:t.showInvisibleRegisters,mobileView:!t.mobileView,formatNumber:t.formatNumber},null,8,["busValue","showInvisibleRegisters","mobileView","formatNumber"])]),p("button",{onClick:e[1]||(e[1]=h=>i.$emit("open")),class:"mobile-memory-button",style:{"grid-area":"memory"}},[T(a),e[6]||(e[6]=p("span",null,"Pami",-1))]),p("div",zy,[T(o,{id:"czyt",signal:t.signals.czyt,label:"czyt",spanClassNames:"lineLeftOnBottom",onClick:e[2]||(e[2]=h=>r.emitClick("czyt"))},null,8,["signal"]),T(o,{id:"pisz",signal:t.signals.pisz,label:"pisz",spanClassNames:"lineLeftOnBottom",onClick:e[3]||(e[3]=h=>r.emitClick("pisz"))},null,8,["signal"])]),p("div",_y,[T(o,{id:"wes",signal:t.signals.wes,label:"wes",divClassNames:"pathUpOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[4]||(e[4]=h=>r.emitClick("wes")),style:{"grid-area":"wes"}},null,8,["signal"]),T(o,{id:"wys",signal:t.signals.wys,label:"wys",divClassNames:"pathDownOnLeft",spanClassNames:"lineLeftOnBottom",onClick:e[5]||(e[5]=h=>r.emitClick("wys")),style:{"grid-area":"wys"}},null,8,["signal"])]),p("div",Ny,[T(l,{busName:"S",busValue:t.busSValue,showInvisibleRegisters:t.showInvisibleRegisters,mobileView:!t.mobileView,formatNumber:t.formatNumber},null,8,["busValue","showInvisibleRegisters","mobileView","formatNumber"])])])}const Xy=ce(Ey,[["render",Dy],["__scopeId","data-v-8c7f7af8"]]),qy={name:"MemorySection",components:{MemoryContent:Ay,MobileMemoryHeader:Xy},props:{A:{type:Number,required:!0},S:{type:Number,required:!0},mem:{type:Array,required:!0},signals:{type:Object,required:!0},formatNumber:{type:Function,required:!0},decToCommand:{type:Function,required:!0},decToArgument:{type:Function,required:!0},aFormat:{type:String,required:!0},sFormat:{type:String,required:!0},mobileView:{type:Boolean,required:!0},busAValue:{type:Number,required:!0},busSValue:{type:Number,required:!0},showInvisibleRegisters:{type:Boolean,default:!1},signedDec:{type:Boolean,default:!1},wordBits:{type:Number,default:8}},emits:["clickItem","update:A","update:S","update:mem","update:aFormat","update:sFormat"],data(){return{windowWidth:window.innerWidth,showMobileModal:!1}},computed:{isMobile(){return this.windowWidth<1080}},methods:{updateWidth(){this.windowWidth=window.innerWidth},openMobileModal(){this.showMobileModal=!0,document.body.style.overflow="hidden",window.addEventListener("keydown",this.onKeydown)},closeMobileModal(){this.showMobileModal=!1,document.body.style.overflow="",window.removeEventListener("keydown",this.onKeydown)},onKeydown(i){i.key==="Escape"&&this.closeMobileModal()},handleClick(i){this.$emit("clickItem",i)}},mounted(){window.addEventListener("resize",this.updateWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateWidth),window.removeEventListener("keydown",this.onKeydown),document.body.style.overflow=""}},Vy={class:"memorySection"},jy={class:"mobileModalContent",role:"dialog","aria-modal":"true"};function Wy(i,e,t,s,n,r){const o=ee("MobileMemoryHeader"),l=ee("MemoryContent");return k(),A("div",Vy,[r.isMobile?(k(),Me(o,{key:0,signals:t.signals,onOpen:r.openMobileModal,onClickItem:r.handleClick,mobileView:t.mobileView,busAValue:t.busAValue,busSValue:t.busSValue,showInvisibleRegisters:t.showInvisibleRegisters,formatNumber:t.formatNumber},null,8,["signals","onOpen","onClickItem","mobileView","busAValue","busSValue","showInvisibleRegisters","formatNumber"])):V("",!0),(k(),Me(r0,{to:"body"},[T(Oa,{name:"fade"},{default:Un(()=>[n.showMobileModal?(k(),A("div",{key:0,class:"mobile-overlay",onClick:e[6]||(e[6]=Ge((...a)=>r.closeMobileModal&&r.closeMobileModal(...a),["self"]))},[T(Oa,{name:"scale"},{default:Un(()=>[p("div",jy,[T(l,{A:t.A,S:t.S,mem:t.mem,signals:t.signals,formatNumber:t.formatNumber,decToCommand:t.decToCommand,decToArgument:t.decToArgument,"a-format":t.aFormat,"onUpdate:aFormat":e[0]||(e[0]=a=>i.$emit("update:aFormat",a)),"s-format":t.sFormat,"onUpdate:sFormat":e[1]||(e[1]=a=>i.$emit("update:sFormat",a)),"onUpdate:A":e[2]||(e[2]=a=>i.$emit("update:A",a)),"onUpdate:S":e[3]||(e[3]=a=>i.$emit("update:S",a)),"onUpdate:mem":e[4]||(e[4]=a=>i.$emit("update:mem",a)),onClickItem:r.handleClick},null,8,["A","S","mem","signals","formatNumber","decToCommand","decToArgument","a-format","s-format","onClickItem"]),p("button",{class:"closeBtn closeButtonModal",onClick:e[5]||(e[5]=(...a)=>r.closeMobileModal&&r.closeMobileModal(...a)),"aria-label":"Zamknij modal"},"")])]),_:1})])):V("",!0)]),_:1})])),r.isMobile?V("",!0):(k(),Me(l,{key:1,A:t.A,S:t.S,mem:t.mem,signals:t.signals,formatNumber:t.formatNumber,decToCommand:t.decToCommand,decToArgument:t.decToArgument,"a-format":t.aFormat,"s-format":t.sFormat,"signed-dec":t.signedDec,"word-bits":t.wordBits,"onUpdate:aFormat":e[7]||(e[7]=a=>i.$emit("update:aFormat",a)),"onUpdate:sFormat":e[8]||(e[8]=a=>i.$emit("update:sFormat",a)),"onUpdate:A":e[9]||(e[9]=a=>i.$emit("update:A",a)),"onUpdate:S":e[10]||(e[10]=a=>i.$emit("update:S",a)),"onUpdate:mem":e[11]||(e[11]=a=>i.$emit("update:mem",a)),onClickItem:r.handleClick},null,8,["A","S","mem","signals","formatNumber","decToCommand","decToArgument","a-format","s-format","signed-dec","word-bits","onClickItem"]))])}const Pm=ce(qy,[["render",Wy]]),Yy={name:"WSRegisterSection",components:{SignalButton:Qt,RegisterComponent:jt,BusLabel:Th},props:{signals:{type:Object,required:!0},WS:{type:Number,required:!0},BusS:{type:Number,required:!1},extras:{type:Object,required:!0},formatNumber:{type:Function,required:!0},numberFormat:{type:String,required:!0},visible:{type:Boolean,required:!0}},emits:["clickItem","update:WS","update:numberFormat"],methods:{handleClick(i){this.$emit("clickItem",i)}},data(){return{isMobile:window.innerWidth<=768}}},Uy={key:0,id:"wsRegister"},Fy={key:0,id:"busS"};function Gy(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent"),a=ee("BusLabel");return t.visible?(k(),A("div",Uy,[T(o,{id:"iws",signal:t.signals.iws,onClick:e[0]||(e[0]=h=>r.handleClick("iws")),label:"iws",spanClassNames:"arrowRightOnBottom"},null,8,["signal"]),T(l,{label:"WS",model:t.WS,"onUpdate:model":e[1]||(e[1]=h=>i.$emit("update:WS",h)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=h=>i.$emit("update:numberFormat",h))},null,8,["model","number-format"]),T(o,{id:"dws",signal:t.signals.dws,onClick:e[3]||(e[3]=h=>r.handleClick("dws")),label:"dws",spanClassNames:"arrowLeftOnBottom"},null,8,["signal"]),T(o,{id:"wyws",signal:t.signals.wyws,onClick:e[4]||(e[4]=h=>r.handleClick("wyws")),label:"wyws",class:"long pathUpOnRight",spanClassNames:"lineRightOnBottom"},null,8,["signal"]),T(o,{id:"wews",signal:t.signals.wews,onClick:e[5]||(e[5]=h=>r.handleClick("wews")),label:"wews",class:"impulse pathDownOnLeft",spanClassNames:"arrowLeftOnBottom"},null,8,["signal"]),n.isMobile?(k(),A("div",Fy,[T(a,{busName:"S",busValue:t.BusS,showInvisibleRegisters:t.extras.showInvisibleRegisters,formatNumber:t.formatNumber},null,8,["busValue","showInvisibleRegisters","formatNumber"])])):V("",!0)])):V("",!0)}const Qm=ce(Yy,[["render",Gy]]),Hy={name:"CalcSection",props:{extras:{type:Object,required:!0},signals:{type:Object,required:!0},ACC:{type:Number,required:!0},JAML:{type:Number,required:!0},WS:{type:Number,required:!0},decSigned:{type:Boolean,default:!1},wordBits:{type:Number,default:12},accFormat:{type:String,required:!0},numberFormat:{type:String,required:!0},formatNumber:{type:Function,required:!0},wordBits:{type:Number,default:8}},computed:{_mask(){return(1<<this.wordBits)-1},_signMask(){return 1<<this.wordBits-1},_accU(){return this.ACC&this._mask},nFlag(){return(this._accU&this._signMask)!==0},zFlag(){return this._accU===0}},data(){return{isMobile:window.innerWidth<=768}},mounted(){window.addEventListener("resize",this.checkMobile)},beforeUnmount(){window.removeEventListener("resize",this.checkMobile)},emits:["clickItem","update:ACC","update:JAML","update:WS","update:accFormat","update:jamlFormat","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt,WSRegisterSection:Qm},methods:{handleClick(i){this.$emit("clickItem",i)},checkMobile(){this.isMobile=window.innerWidth<=768}}},Ky={id:"calc"},Jy={key:0,id:"flags"},eb={key:0,title:"Negative number in Acc"},tb={key:1,title:"Zero in Acc"},ib={class:"accSignals"},sb={class:"jamlSignals"};function nb(i,e,t,s,n,r){var h,u,c,d;const o=ee("WSRegisterSection"),l=ee("SignalButton"),a=ee("RegisterComponent");return k(),A("div",{class:be(["calcConteiner",(u=(h=t.extras)==null?void 0:h.stack)!=null&&u.wsRegister?"calcConteinerAdditionalSpace":""])},[n.isMobile?V("",!0):(k(),Me(o,{key:0,WS:t.WS,visible:(d=(c=t.extras)==null?void 0:c.stack)==null?void 0:d.wsRegister,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.numberFormat,"onUpdate:numberFormat":e[0]||(e[0]=f=>i.$emit("update:number-format",{field:"WS",value:f})),extras:t.extras,"onUpdate:programCounter":e[1]||(e[1]=f=>i.$emit("update:programCounter",f)),onClickItem:e[2]||(e[2]=f=>i.$emit("clickItem",f)),"onUpdate:WS":e[3]||(e[3]=f=>i.$emit("update:WS",f))},null,8,["WS","visible","signals","formatNumber","number-format","extras"])),p("div",Ky,[t.extras.jamlExtras?(k(),A("div",Jy,[e[22]||(e[22]=Ho(" FLAGI: ")),r.nFlag?(k(),A("div",eb,"N")):V("",!0),r.zFlag?(k(),A("div",tb,"Z")):V("",!0)])):V("",!0),p("div",ib,[t.extras.jamlExtras?(k(),Me(l,{key:0,id:"iak",signal:t.signals.iak,label:"iak",spanClassNames:"arrowRightOnBottom",onClick:e[4]||(e[4]=f=>r.handleClick("iak"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:1,id:"dak",signal:t.signals.dak,label:"dak",spanClassNames:"arrowRightOnBottom",onClick:e[5]||(e[5]=f=>r.handleClick("dak"))},null,8,["signal"])):V("",!0)]),T(a,{id:"accumulator",label:"AK","signed-dec":t.decSigned,"word-bits":t.wordBits,model:t.ACC,"onUpdate:model":e[6]||(e[6]=f=>i.$emit("update:ACC",f)),"number-format":t.accFormat,"onUpdate:numberFormat":e[7]||(e[7]=f=>i.$emit("update:accFormat",f))},null,8,["signed-dec","word-bits","model","number-format"]),p("div",sb,[T(l,{id:"weak",signal:t.signals.weak,label:"weak",spanClassNames:"arrowRightOnBottom",onClick:e[8]||(e[8]=f=>r.handleClick("weak"))},null,8,["signal"]),T(l,{id:"przep",signal:t.signals.przep,label:"przep",spanClassNames:"arrowRightOnBottom",onClick:e[9]||(e[9]=f=>r.handleClick("przep"))},null,8,["signal"]),T(l,{id:"dod",signal:t.signals.dod,label:"dod",spanClassNames:"arrowRightOnBottom",onClick:e[10]||(e[10]=f=>r.handleClick("dod"))},null,8,["signal"]),T(l,{id:"ode",signal:t.signals.ode,label:"ode",spanClassNames:"arrowRightOnBottom",onClick:e[11]||(e[11]=f=>r.handleClick("ode"))},null,8,["signal"]),t.extras.jamlExtras?(k(),Me(l,{key:0,id:"mno",signal:t.signals.mno,label:"mno",spanClassNames:"arrowRightOnBottom",onClick:e[12]||(e[12]=f=>r.handleClick("mno"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:1,id:"dziel",signal:t.signals.dziel,label:"dziel",spanClassNames:"arrowRightOnBottom",onClick:e[13]||(e[13]=f=>r.handleClick("dziel"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:2,id:"shr",signal:t.signals.shr,label:"shr",spanClassNames:"arrowRightOnBottom",onClick:e[14]||(e[14]=f=>r.handleClick("shr"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:3,id:"shl",signal:t.signals.shl,label:"shl",spanClassNames:"arrowRightOnBottom",onClick:e[15]||(e[15]=f=>r.handleClick("shl"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:4,id:"neg",signal:t.signals.neg,label:"neg",spanClassNames:"arrowRightOnBottom",onClick:e[16]||(e[16]=f=>r.handleClick("neg"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:5,id:"lub",signal:t.signals.lub,label:"lub",spanClassNames:"arrowRightOnBottom",onClick:e[17]||(e[17]=f=>r.handleClick("lub"))},null,8,["signal"])):V("",!0),t.extras.jamlExtras?(k(),Me(l,{key:6,id:"i",signal:t.signals.i,label:"i",spanClassNames:"arrowRightOnBottom",onClick:e[18]||(e[18]=f=>r.handleClick("i"))},null,8,["signal"])):V("",!0)]),T(a,{id:"jaml",label:"JAML",model:t.JAML,"onUpdate:model":e[19]||(e[19]=f=>i.$emit("update:JAML",f)),formatNumber:t.formatNumber,isEnableEditValue:!1,showFormatSelector:!1},null,8,["model","formatNumber"]),n.isMobile?V("",!0):(k(),A(ve,{key:1},[T(l,{id:"weja",signal:t.signals.weja,label:"weja",divClassNames:"pathUpOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[20]||(e[20]=f=>r.handleClick("weja"))},null,8,["signal"]),T(l,{id:"wyak",signal:t.signals.wyak,label:"wyak",divClassNames:"pathDownOnRight",spanClassNames:"arrowLeftOnBottom",onClick:e[21]||(e[21]=f=>r.handleClick("wyak"))},null,8,["signal"])],64))])],2)}const $m=ce(Hy,[["render",nb]]),rb={name:"RegisterISection",props:{I:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:I","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},ob={id:"iRegister"},lb={class:"signals"},ab={class:"stopConteiner"};function hb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return k(),A("div",ob,[T(o,{id:"wyad",signal:t.signals.wyad,label:"wyad",divClassNames:"long pathUpOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyad"))},null,8,["signal"]),T(l,{label:"I",model:t.I,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:I",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),p("div",lb,[T(o,{id:"wei",signal:t.signals.wei,label:"wei",divClassNames:"impulse pathUpOnLeft",spanClassNames:"arrowLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("wei"))},null,8,["signal"]),p("div",ab,[T(o,{id:"stop",signal:t.signals.stop,onClick:e[4]||(e[4]=a=>r.handleClick("stop")),label:"stop",spanClassNames:"lineLeftOnBottom additionalInterruptsSignal"},null,8,["signal"])])])])}const Am=ce(rb,[["render",hb]]),ub={name:"XRegisterSection",props:{visible:Boolean,X:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:X","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},cb={key:0,id:"xRegister"};function db(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",cb,[T(o,{id:"wyx",signal:t.signals.wyx,label:"wyx",divClassNames:"pathUpOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyx"))},null,8,["signal"]),T(l,{label:"X",model:t.X,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:X",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),T(o,{id:"wex",signal:t.signals.wex,label:"wex",divClassNames:"pathDownOnLeft",spanClassNames:"lineLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("wex"))},null,8,["signal"])])):V("",!0)}const Rm=ce(ub,[["render",db]]),fb={name:"YRegisterSection",props:{visible:Boolean,Y:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:Y","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},mb={key:0,id:"yRegister"};function pb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",mb,[T(o,{id:"wyy",signal:t.signals.wyy,label:"wyy",divClassNames:"pathDownOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyy"))},null,8,["signal"]),T(l,{label:"Y",model:t.Y,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:Y",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),T(o,{id:"wey",signal:t.signals.wey,label:"wey",divClassNames:"pathUpOnLeft",spanClassNames:"lineLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("wey"))},null,8,["signal"])])):V("",!0)}const Mm=ce(fb,[["render",pb]]),gb={name:"RBRegisterSection",props:{visible:Boolean,RB:Number,signals:Object,numberFormat:{type:String,required:!0}},data(){return{isMobile:window.innerWidth<=768}},emits:["clickItem","update:RB","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},Ob={key:0,id:"rbRegister"};function yb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",Ob,[T(o,{id:"wyrb",signal:t.signals.wyrb,label:"wyrb",divClassNames:n.isMobile?"pathDownOnRight":"pathUpOnRight",spanClassNames:"lineRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyrb"))},null,8,["signal","divClassNames"]),T(l,{label:"RB",model:t.RB,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:RB",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),T(o,{id:"werb",signal:t.signals.werb,label:"werb",divClassNames:n.isMobile?"pathUpOnLeft":"pathDownOnLeft",spanClassNames:"arrowLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("werb"))},null,8,["signal","divClassNames"])])):V("",!0)}const bb=ce(gb,[["render",yb]]),wb={name:"GRegisterSection",props:{visible:Boolean,G:Number,signals:Object,numberFormat:{type:String,required:!0}},data(){return{isMobile:window.innerWidth<=768}},emits:["clickItem","update:G","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},Sb={key:0,id:"gRegister"};function kb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",Sb,[T(o,{id:"wyg",signal:t.signals.wyg,label:"wyg",divClassNames:n.isMobile?"pathUpOnRight":"pathDownOnRight",spanClassNames:"lineRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyg"))},null,8,["signal","divClassNames"]),T(l,{label:"G",model:t.G,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:G",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),T(o,{id:"start",signal:t.signals.start,label:"start",divClassNames:n.isMobile?"pathDownOnLeft":"pathUpOnLeft",spanClassNames:"arrowLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("start"))},null,8,["signal","divClassNames"])])):V("",!0)}const vb=ce(wb,[["render",kb]]),xb={name:"RMRegisterSection",props:{visible:Boolean,RM:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:RM","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},Cb={key:0,id:"rmRegister"};function Pb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",Cb,[T(o,{id:"wyrm",signal:t.signals.wyrm,label:"wyrm",divClassNames:"pathDownOnRight",spanClassNames:"lineRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyrm"))},null,8,["signal"]),T(l,{label:"RM",model:t.RM,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:RM",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"]),T(o,{id:"werm",signal:t.signals.werm,label:"werm",divClassNames:"pathUpOnLeft",spanClassNames:"arrowLeftOnBottom",onClick:e[3]||(e[3]=a=>r.handleClick("werm"))},null,8,["signal"])])):V("",!0)}const Qb=ce(xb,[["render",Pb]]),$b={name:"APRegisterSection",props:{visible:Boolean,AP:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:AP","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},Ab={key:0,id:"apRegister"};function Rb(i,e,t,s,n,r){const o=ee("SignalButton"),l=ee("RegisterComponent");return t.visible?(k(),A("div",Ab,[T(o,{id:"wyap",signal:t.signals.wyap,label:"wyap",divClassNames:"pathDownOnRight",spanClassNames:"lineRightOnBottom",onClick:e[0]||(e[0]=a=>r.handleClick("wyap"))},null,8,["signal"]),T(l,{label:"AP",model:t.AP,"onUpdate:model":e[1]||(e[1]=a=>i.$emit("update:AP",a)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[2]||(e[2]=a=>i.$emit("update:numberFormat",a))},null,8,["model","number-format"])])):V("",!0)}const Mb=ce($b,[["render",Rb]]),Tb={name:"RZRegisterSection",components:{RegisterComponent:jt},props:{visible:{type:Boolean,default:!0},RZ:{type:Number,default:0},rzInputs:{type:Array,default:()=>[0,0,0,0]},numberFormat:{type:String,required:!0}},emits:["update:RZ","update:rzInputs","update:numberFormat"],data(){return{localInputs:[0,0,0,0]}},computed:{rzValue(){return(this.localInputs[0]?1:0)|(this.localInputs[1]?2:0)|(this.localInputs[2]?4:0)|(this.localInputs[3]?8:0)}},watch:{rzInputs:{immediate:!0,deep:!0,handler(i){const e=(i||[]).slice(0,4).map(t=>t?1:0);JSON.stringify(e)!==JSON.stringify(this.localInputs)&&(this.localInputs=e)}},RZ(i){const e=[i>>0&1,i>>1&1,i>>2&1,i>>3&1];JSON.stringify(e)!==JSON.stringify(this.localInputs)&&(this.localInputs=e)}},methods:{toggle(i){const e=this.localInputs.slice();e[i]=e[i]?0:1,this.localInputs=e,this.$emit("update:rzInputs",e),this.$emit("update:RZ",this.rzValue)}}},Lb={key:0,id:"rzRegister",class:"rz-register"},Eb={class:"rz-inputs"},Zb=["aria-pressed","onClick"];function Ib(i,e,t,s,n,r){const o=ee("RegisterComponent");return t.visible?(k(),A("div",Lb,[p("div",Eb,[(k(!0),A(ve,null,Et(n.localInputs,(l,a)=>(k(),A("button",{key:a,class:be(["rz-input",{active:!!l}]),"aria-pressed":!!l,onClick:h=>r.toggle(a),type:"button"},oe(a+1),11,Zb))),128))]),T(o,{label:"RZ",model:t.RZ,"onUpdate:model":e[0]||(e[0]=l=>i.$emit("update:RZ",l)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[1]||(e[1]=l=>i.$emit("update:numberFormat",l))},null,8,["model","number-format"])])):V("",!0)}const Bb=ce(Tb,[["render",Ib],["__scopeId","data-v-7f396674"]]),zb={name:"YRegisterSection",props:{visible:Boolean,RP:Number,signals:Object,numberFormat:{type:String,required:!0}},emits:["clickItem","update:RP","update:numberFormat"],components:{SignalButton:Qt,RegisterComponent:jt},methods:{handleClick(i){this.$emit("clickItem",i)}}},_b={key:0,id:"rpRegister"};function Nb(i,e,t,s,n,r){const o=ee("RegisterComponent");return t.visible?(k(),A("div",_b,[e[2]||(e[2]=p("div",{style:{height:"33px"}},null,-1)),T(o,{label:"RP",model:t.RP,"onUpdate:model":e[0]||(e[0]=l=>i.$emit("update:RP",l)),"number-format":t.numberFormat,"onUpdate:numberFormat":e[1]||(e[1]=l=>i.$emit("update:numberFormat",l))},null,8,["model","number-format"])])):V("",!0)}const Db=ce(zb,[["render",Nb]]),Xb={name:"MaszynaW",components:{CounterComponent:xm,BusSignal:Cm,SignalButton:Qt,MemorySection:Pm,CalcSection:$m,RegisterISection:Am,XRegisterSection:Rm,YRegisterSection:Mm,RBRegisterSection:bb,GRegisterSection:vb,RMRegisterSection:Qb,APRegisterSection:Mb,RZRegisterSection:Bb,RPRegisterSection:Db,WSRegisterSection:Qm},data(){return{isMobile:window.innerWidth<=768}},computed:{hasAnyInterrupts(){var i;return Object.values(((i=this.extras)==null?void 0:i.interrupts)||{}).some(Boolean)}},methods:{handleClick(i){this.$emit("clickItem",i)},checkMobile(){this.isMobile=window.innerWidth<=768}},mounted(){window.addEventListener("resize",this.checkMobile)},beforeUnmount(){window.removeEventListener("resize",this.checkMobile)},props:{manualMode:{type:Boolean,required:!0},signals:{type:Object,required:!0},programCounter:{type:Number,required:!0},formatNumber:{type:Function,required:!0},registerFormats:{type:Object,required:!0},extras:{type:Object,required:!0},BusA:{type:Number,required:!0},BusS:{type:Number,required:!0},I:{type:Number,required:!0},ACC:{type:Number,required:!0},JAML:{type:Number,required:!0},A:{type:Number,required:!0},S:{type:Number,required:!0},mem:{type:Array,required:!0},X:{type:Number,required:!0},Y:{type:Number,required:!0},RB:{type:Number,required:!0},G:{type:Number,required:!0},RM:{type:Number,required:!0},AP:{type:Number,required:!0},RZ:{type:Number,required:!0},RP:{type:Number,required:!0},WS:{type:Number,required:!0},rzInputs:{type:Array,default:()=>[0,0,0,0]},wordBits:{type:Number,default:8},decSigned:{type:Boolean,default:!1},decToCommand:{type:Function,required:!0},decToArgument:{type:Function,required:!0}},emits:["clickItem","update:programCounter","update:I","update:ACC","update:JAML","update:A","update:S","update:mem","update:X","update:Y","update:RB","update:G","update:WS","update:RM","update:RP","update:AP","update:RZ","update:rz-inputs","update:number-format"]},qb={key:0,class:"layer"},Vb={class:"additionalInterruptsSignalsConteiner"},jb={class:"layer"},Wb={class:"wylsBusConteiner"},Yb={key:0,class:"wylsBusDiv"},Ub={class:"layer layerNoGap"},Fb={key:0,class:"wylsConteiner"},Gb={class:"layer"},Hb={id:"layer3",class:"layer layerCenter"},Kb={id:"layer4",class:"layer"},Jb={class:"layer"},ew={class:"layer"};function tw(i,e,t,s,n,r){var P,M,E,I,L,Q,R,x,W,G,ue,ge,de,_,j,se,le,fe,ke,Se,Ce,Ze,je,si,hi,dt,ui,w;const o=ee("RZRegisterSection"),l=ee("RPRegisterSection"),a=ee("SignalButton"),h=ee("CounterComponent"),u=ee("RMRegisterSection"),c=ee("APRegisterSection"),d=ee("BusSignal"),f=ee("RegisterISection"),m=ee("CalcSection"),g=ee("MemorySection"),b=ee("XRegisterSection"),y=ee("YRegisterSection"),S=ee("RBRegisterSection"),$=ee("GRegisterSection"),v=ee("WSRegisterSection");return k(),A("div",{id:"W",class:be({manualMode:t.manualMode})},[r.hasAnyInterrupts?(k(),A("div",qb,[T(o,{visible:(M=(P=t.extras)==null?void 0:P.interrupts)==null?void 0:M.rzRegister,RZ:t.RZ,"rz-inputs":t.rzInputs,"number-format":t.registerFormats.RZ,"onUpdate:numberFormat":e[0]||(e[0]=O=>i.$emit("update:number-format",{field:"RZ",value:O})),"onUpdate:RZ":e[1]||(e[1]=O=>i.$emit("update:RZ",O)),"onUpdate:rzInputs":e[2]||(e[2]=O=>i.$emit("update:rz-inputs",O))},null,8,["visible","RZ","rz-inputs","number-format"]),T(l,{visible:(I=(E=t.extras)==null?void 0:E.interrupts)==null?void 0:I.rpRegister,RP:t.RP,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.RP,"onUpdate:numberFormat":e[3]||(e[3]=O=>i.$emit("update:number-format",{field:"RP",value:O})),"onUpdate:RP":e[4]||(e[4]=O=>i.$emit("update:RP",O)),onClickItem:e[5]||(e[5]=O=>i.$emit("clickItem",O))},null,8,["visible","RP","signals","formatNumber","number-format"]),p("div",Vb,[(Q=(L=t.extras)==null?void 0:L.interrupts)!=null&&Q.rintSignal?(k(),Me(a,{key:0,id:"rint",signal:t.signals.rint,label:"rint",spanClassNames:"arrowLeftOnBottom additionalInterruptsSignal",onClick:e[6]||(e[6]=O=>r.handleClick("rint"))},null,8,["signal"])):V("",!0),(x=(R=t.extras)==null?void 0:R.interrupts)!=null&&x.eniSignal?(k(),Me(a,{key:1,id:"eni",signal:t.signals.eni,label:"eni",spanClassNames:"arrowLeftOnBottom additionalInterruptsSignal",onClick:e[7]||(e[7]=O=>r.handleClick("eni"))},null,8,["signal"])):V("",!0)])])):V("",!0),p("div",jb,[T(h,{signals:t.signals,programCounter:t.programCounter,formatNumber:t.formatNumber,"number-format":t.registerFormats.L,"onUpdate:numberFormat":e[8]||(e[8]=O=>i.$emit("update:number-format",{field:"L",value:O})),extras:t.extras,"onUpdate:programCounter":e[9]||(e[9]=O=>i.$emit("update:programCounter",O)),onClickItem:e[10]||(e[10]=O=>i.$emit("clickItem",O))},null,8,["signals","programCounter","formatNumber","number-format","extras"]),T(u,{visible:(G=(W=t.extras)==null?void 0:W.interrupts)==null?void 0:G.rmRegister,RM:t.RM,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.RM,"onUpdate:numberFormat":e[11]||(e[11]=O=>i.$emit("update:number-format",{field:"RM",value:O})),"onUpdate:RM":e[12]||(e[12]=O=>i.$emit("update:RM",O)),onClickItem:e[13]||(e[13]=O=>i.$emit("clickItem",O))},null,8,["visible","RM","signals","formatNumber","number-format"]),T(c,{visible:(ge=(ue=t.extras)==null?void 0:ue.interrupts)==null?void 0:ge.apRegister,AP:t.AP,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.AP,"onUpdate:numberFormat":e[14]||(e[14]=O=>i.$emit("update:number-format",{field:"AP",value:O})),"onUpdate:AP":e[15]||(e[15]=O=>i.$emit("update:AP",O)),onClickItem:e[16]||(e[16]=O=>i.$emit("clickItem",O))},null,8,["visible","AP","signals","formatNumber","number-format"])]),p("div",Wb,[(_=(de=t.extras)==null?void 0:de.stack)!=null&&_.wylsSignal?(k(),A("div",Yb,e[70]||(e[70]=[p("div",{class:"wylsBusExt"},null,-1)]))):V("",!0),T(d,{signalStatus:t.signals.busA,busValue:t.BusA,busName:"A",mobileView:n.isMobile,showInvisibleRegisters:t.extras.showInvisibleRegisters,formatNumber:t.formatNumber,"number-format":t.registerFormats.BusA,"onUpdate:numberFormat":e[17]||(e[17]=O=>i.$emit("update:number-format",{field:"BusA",value:O}))},null,8,["signalStatus","busValue","mobileView","showInvisibleRegisters","formatNumber","number-format"])]),p("div",Ub,[(se=(j=t.extras)==null?void 0:j.stack)!=null&&se.wylsSignal?(k(),A("div",Fb,[T(a,{id:"wyls",signal:t.signals.wyls,label:"wyls",divClassNames:n.isMobile?"impulse pathDownOnLeft":"impulse pathDownOnRight",spanClassNames:n.isMobile?"lineLeftOnBottom":"lineRightOnBottom",onClick:e[18]||(e[18]=O=>r.handleClick("wyls"))},null,8,["signal","divClassNames","spanClassNames"])])):V("",!0),p("div",Gb,[T(f,{I:t.I,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.I,"onUpdate:numberFormat":e[19]||(e[19]=O=>i.$emit("update:number-format",{field:"I",value:O})),"onUpdate:I":e[20]||(e[20]=O=>i.$emit("update:I",O)),onClickItem:e[21]||(e[21]=O=>i.$emit("clickItem",O))},null,8,["I","signals","formatNumber","number-format"]),n.isMobile?V("",!0):(k(),Me(m,{key:0,signals:t.signals,extras:t.extras,ACC:t.ACC,JAML:t.JAML,WS:t.WS,"dec-signed":t.decSigned,"word-bits":t.wordBits,formatNumber:t.formatNumber,numberFormat:t.registerFormats.WS,"acc-format":t.registerFormats.ACC,"onUpdate:accFormat":e[22]||(e[22]=O=>i.$emit("update:number-format",{field:"ACC",value:O})),"jaml-format":t.registerFormats.JAML,"onUpdate:numberFormat":e[23]||(e[23]=O=>i.$emit("update:number-format",{field:"WS",value:O})),"onUpdate:jamlFormat":e[24]||(e[24]=O=>i.$emit("update:number-format",{field:"JAML",value:O})),"onUpdate:ACC":e[25]||(e[25]=O=>i.$emit("update:ACC",O)),"onUpdate:JAML":e[26]||(e[26]=O=>i.$emit("update:JAML",O)),"onUpdate:WS":e[27]||(e[27]=O=>i.$emit("update:WS",O)),onClickItem:e[28]||(e[28]=O=>i.$emit("clickItem",O))},null,8,["signals","extras","ACC","JAML","WS","dec-signed","word-bits","formatNumber","numberFormat","acc-format","jaml-format"])),t.extras.busConnectors?(k(),Me(a,{key:1,id:"sa",signal:t.signals.sa,label:"sa",divClassNames:"pathUpOnRight",spanClassNames:"lineRightOnBottom",onClick:e[29]||(e[29]=O=>i.$emit("clickItem","sa"))},null,8,["signal"])):V("",!0),t.extras.busConnectors?(k(),Me(a,{key:2,id:"as",signal:t.signals.as,label:"as",divClassNames:"pathDownOnLeft",spanClassNames:"lineLeftOnBottom",onClick:e[30]||(e[30]=O=>i.$emit("clickItem","as"))},null,8,["signal"])):V("",!0),T(g,{A:t.A,S:t.S,mem:t.mem,signals:t.signals,formatNumber:t.formatNumber,decToCommand:t.decToCommand,decToArgument:t.decToArgument,"a-format":t.registerFormats.A,"onUpdate:aFormat":e[31]||(e[31]=O=>i.$emit("update:number-format",{field:"A",value:O})),"s-format":t.registerFormats.S,"onUpdate:sFormat":e[32]||(e[32]=O=>i.$emit("update:number-format",{field:"S",value:O})),"onUpdate:A":e[33]||(e[33]=O=>i.$emit("update:A",O)),"onUpdate:S":e[34]||(e[34]=O=>i.$emit("update:S",O)),"onUpdate:mem":e[35]||(e[35]=O=>i.$emit("update:mem",O)),onClickItem:e[36]||(e[36]=O=>i.$emit("clickItem",O)),mobileView:n.isMobile,busAValue:t.BusA,busSValue:t.BusS,"signed-dec":t.decSigned,"word-bits":t.wordBits,showInvisibleRegisters:t.extras.showInvisibleRegisters},null,8,["A","S","mem","signals","formatNumber","decToCommand","decToArgument","a-format","s-format","mobileView","busAValue","busSValue","signed-dec","word-bits","showInvisibleRegisters"])])]),T(d,{signalStatus:t.signals.busS,busValue:t.BusS,busName:"S",mobileView:n.isMobile,showInvisibleRegisters:t.extras.showInvisibleRegisters,formatNumber:t.formatNumber,"number-format":t.registerFormats.BusS,"onUpdate:numberFormat":e[37]||(e[37]=O=>i.$emit("update:number-format",{field:"BusS",value:O}))},null,8,["signalStatus","busValue","mobileView","showInvisibleRegisters","formatNumber","number-format"]),p("div",Hb,[T(b,{visible:t.extras.xRegister,X:t.X,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.X,"onUpdate:numberFormat":e[38]||(e[38]=O=>i.$emit("update:number-format",{field:"X",value:O})),"onUpdate:X":e[39]||(e[39]=O=>i.$emit("update:X",O)),onClickItem:e[40]||(e[40]=O=>i.$emit("clickItem",O))},null,8,["visible","X","signals","formatNumber","number-format"]),n.isMobile?(k(),A(ve,{key:0},[T(a,{id:"weja",signal:t.signals.weja,label:"weja",style:{height:"91%","min-height":"40px"},divClassNames:"pathDownOnRight",spanClassNames:"arrowRightOnBottom",onClick:e[41]||(e[41]=O=>r.handleClick("weja"))},null,8,["signal"]),T(a,{id:"wyak",signal:t.signals.wyak,label:"wyak",style:{height:"91%","min-height":"40px"},divClassNames:"pathUpOnLeft",spanClassNames:"arrowLeftOnBottom",onClick:e[42]||(e[42]=O=>r.handleClick("wyak"))},null,8,["signal"])],64)):V("",!0),T(y,{visible:t.extras.yRegister,Y:t.Y,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.Y,"onUpdate:numberFormat":e[43]||(e[43]=O=>i.$emit("update:number-format",{field:"Y",value:O})),"onUpdate:Y":e[44]||(e[44]=O=>i.$emit("update:Y",O)),onClickItem:e[45]||(e[45]=O=>i.$emit("clickItem",O))},null,8,["visible","Y","signals","formatNumber","number-format"]),n.isMobile?V("",!0):(k(),Me(S,{key:1,visible:(fe=(le=t.extras)==null?void 0:le.io)==null?void 0:fe.rbRegister,RB:t.RB,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.RB,"onUpdate:numberFormat":e[46]||(e[46]=O=>i.$emit("update:number-format",{field:"RB",value:O})),"onUpdate:RB":e[47]||(e[47]=O=>i.$emit("update:RB",O)),onClickItem:e[48]||(e[48]=O=>i.$emit("clickItem",O))},null,8,["visible","RB","signals","formatNumber","number-format"])),n.isMobile?V("",!0):(k(),Me($,{key:2,visible:(Se=(ke=t.extras)==null?void 0:ke.io)==null?void 0:Se.gRegister,G:t.G,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.G,"onUpdate:numberFormat":e[49]||(e[49]=O=>i.$emit("update:number-format",{field:"G",value:O})),"onUpdate:G":e[50]||(e[50]=O=>i.$emit("update:G",O)),onClickItem:e[51]||(e[51]=O=>i.$emit("clickItem",O))},null,8,["visible","G","signals","formatNumber","number-format"]))]),n.isMobile?(k(),A(ve,{key:1},[p("div",Kb,[T(m,{signals:t.signals,extras:t.extras,ACC:t.ACC,JAML:t.JAML,WS:t.WS,"dec-signed":t.decSigned,"word-bits":t.wordBits,formatNumber:t.formatNumber,numberFormat:t.registerFormats.WS,"acc-format":t.registerFormats.ACC,"onUpdate:accFormat":e[52]||(e[52]=O=>i.$emit("update:number-format",{field:"ACC",value:O})),"jaml-format":t.registerFormats.JAML,"onUpdate:numberFormat":e[53]||(e[53]=O=>i.$emit("update:number-format",{field:"WS",value:O})),"onUpdate:jamlFormat":e[54]||(e[54]=O=>i.$emit("update:number-format",{field:"JAML",value:O})),"onUpdate:ACC":e[55]||(e[55]=O=>i.$emit("update:ACC",O)),"onUpdate:JAML":e[56]||(e[56]=O=>i.$emit("update:JAML",O)),"onUpdate:WS":e[57]||(e[57]=O=>i.$emit("update:WS",O)),onClickItem:e[58]||(e[58]=O=>i.$emit("clickItem",O))},null,8,["signals","extras","ACC","JAML","WS","dec-signed","word-bits","formatNumber","numberFormat","acc-format","jaml-format"])]),p("div",Jb,[T(S,{visible:(Ze=(Ce=t.extras)==null?void 0:Ce.io)==null?void 0:Ze.rbRegister,RB:t.RB,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.RB,"onUpdate:numberFormat":e[59]||(e[59]=O=>i.$emit("update:number-format",{field:"RB",value:O})),"onUpdate:RB":e[60]||(e[60]=O=>i.$emit("update:RB",O)),onClickItem:e[61]||(e[61]=O=>i.$emit("clickItem",O))},null,8,["visible","RB","signals","formatNumber","number-format"]),T($,{visible:(si=(je=t.extras)==null?void 0:je.io)==null?void 0:si.gRegister,G:t.G,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.G,"onUpdate:numberFormat":e[62]||(e[62]=O=>i.$emit("update:number-format",{field:"G",value:O})),"onUpdate:G":e[63]||(e[63]=O=>i.$emit("update:G",O)),onClickItem:e[64]||(e[64]=O=>i.$emit("clickItem",O))},null,8,["visible","G","signals","formatNumber","number-format"])]),(dt=(hi=t.extras)==null?void 0:hi.stack)!=null&&dt.wsRegister?(k(),Me(d,{key:0,signalStatus:t.signals.busS,busValue:t.BusS,busName:"S",mobileView:n.isMobile,showInvisibleRegisters:t.extras.showInvisibleRegisters,formatNumber:t.formatNumber,"number-format":t.registerFormats.BusS,"onUpdate:numberFormat":e[65]||(e[65]=O=>i.$emit("update:number-format",{field:"BusS",value:O}))},null,8,["signalStatus","busValue","mobileView","showInvisibleRegisters","formatNumber","number-format"])):V("",!0),p("div",ew,[T(v,{WS:t.WS,BusS:t.BusS,visible:(w=(ui=t.extras)==null?void 0:ui.stack)==null?void 0:w.wsRegister,signals:t.signals,formatNumber:t.formatNumber,"number-format":t.registerFormats.WS,"onUpdate:numberFormat":e[66]||(e[66]=O=>i.$emit("update:number-format",{field:"WS",value:O})),extras:t.extras,"onUpdate:programCounter":e[67]||(e[67]=O=>i.$emit("update:programCounter",O)),onClickItem:e[68]||(e[68]=O=>i.$emit("clickItem",O)),"onUpdate:WS":e[69]||(e[69]=O=>i.$emit("update:WS",O))},null,8,["WS","BusS","visible","signals","formatNumber","number-format","extras"])])],64)):V("",!0)],2)}const iw=ce(Xb,[["render",tw]]),sw=["aria-label"],nw={key:0,class:"thumb","aria-hidden":"true"},rw=["aria-selected","tabindex","onClick","onKeydown"],ow={__name:"SegmentedToggle",props:{options:{type:Array,required:!0},modelValue:{default:null},ariaLabel:{type:String,default:"Segmented toggle"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"}},emits:["update:modelValue","change"],setup(i,{emit:e}){const t=i,s=e,n=Ci(()=>t.options.map(d=>typeof d=="object"?d[t.valueKey]:d)),r=Ci(()=>t.modelValue==null?-1:n.value.findIndex(f=>f===t.modelValue)),o=Ci(()=>({"--count":String(t.options.length),"--idx":String(r.value)}));function l(d){const f=typeof d=="object"?d[t.valueKey]:d;s("update:modelValue",f),s("change",f)}function a(d){return typeof d=="object"?d[t.labelKey]:String(d)}function h(d,f){return typeof d=="object"?d[t.valueKey]??f:d}function u(d){var g;const f=(d-1+t.options.length)%t.options.length;(g=[...document.querySelectorAll(".segmented .seg-btn")][f])==null||g.focus()}function c(d){var g;const f=(d+1)%t.options.length;(g=[...document.querySelectorAll(".segmented .seg-btn")][f])==null||g.focus()}return(d,f)=>(k(),A("div",{class:"segmented",style:tt(o.value)},[p("div",{class:"track",role:"tablist","aria-label":i.ariaLabel},[r.value>=0?(k(),A("div",nw)):V("",!0),(k(!0),A(ve,null,Et(i.options,(m,g)=>(k(),A("button",{key:h(m,g),class:"seg-btn",role:"tab","aria-selected":g===r.value,tabindex:g===r.value?0:-1,onClick:b=>l(m),onKeydown:[Ds(Ge(b=>u(g),["prevent"]),["left"]),Ds(Ge(b=>c(g),["prevent"]),["right"]),Ds(Ge(b=>l(m),["prevent"]),["enter"]),Ds(Ge(b=>l(m),["prevent"]),["space"])]},[jf(d.$slots,"option",{option:m,index:g},()=>[Ho(oe(a(m)),1)])],40,rw))),128))],8,sw)],4))}},Lh=ce(ow,[["__scopeId","data-v-82f432d6"]]),lw={name:"CommandList",components:{SegmentedToggle:Lh},props:{visible:{type:Boolean,default:!1},commandList:{type:Array,required:!0},codeBits:{type:Number,default:6}},emits:["update:commandList","close"],data(){return{localList:JSON.parse(JSON.stringify(this.commandList)),fullCommandList:JSON.parse(JSON.stringify(this.commandList)),selectedCommand:this.commandList.length>0?0:null,editCommandEnabled:!1,EditCommandField:"",suppressEditCommit:!1,commandInputValue:"",isAddingCommand:!1,isCreatingNew:!1,isEditingName:!1,editingCommandOriginalName:"",newCommandLines:""}},created(){this.fullCommandList=JSON.parse(JSON.stringify(this.commandList))},computed:{canEdit(){return this.selectedCommand!==null},commandInputPlaceholder(){return this.isEditingName?`Edytuj nazw z "${this.editingCommandOriginalName}"`:this.matchingCommand?`Edytuj rozkaz: ${this.matchingCommand.name}`:"Nazwa nowego rozkazu"},matchingCommand(){return this.commandInputValue.trim()&&this.localList.find(e=>e.name.trim().toLowerCase()===this.commandInputValue.trim().toLowerCase())||null}},watch:{commandList:{handler(i){if(this.isAddingCommand){this.isAddingCommand=!1;return}this.localList=JSON.parse(JSON.stringify(i)),this.selectedCommand!==null&&this.selectedCommand>=i.length?this.selectedCommand=i.length>0?i.length-1:null:this.selectedCommand===null&&i.length>0&&(this.selectedCommand=0)},deep:!0},codeBits:{handler(i,e){const t=Math.pow(2,i),s=e?Math.pow(2,e):this.fullCommandList.length;if(t<s)this.localList.length>t&&(this.localList=this.localList.slice(0,t),this.selectedCommand!==null&&this.selectedCommand>=t&&(this.selectedCommand=t>0?t-1:null),this.emitUpdate());else if(t>s){const n=Math.min(this.fullCommandList.length,t);this.localList=JSON.parse(JSON.stringify(this.fullCommandList.slice(0,n))),this.selectedCommand===null&&this.localList.length>0&&(this.selectedCommand=0),this.emitUpdate()}},immediate:!1},selectedCommand(i){i!==null&&(this.commandInputValue=this.localList[i].name,this.isCreatingNew=!1)},matchingCommand(i){if(!this.isEditingName)if(i){const e=this.localList.findIndex(t=>t===i);this.selectedCommand=e,this.isCreatingNew=!1}else this.commandInputValue.trim()?(this.selectedCommand=null,this.isCreatingNew=!0,this.newCommandLines=""):(this.selectedCommand=null,this.isCreatingNew=!1)},editCommandEnabled(i){var e;if(i){this.EditCommandField=((e=this.localList[this.selectedCommand])==null?void 0:e.lines)||"";return}if(this.suppressEditCommit){this.suppressEditCommit=!1,this.EditCommandField="";return}if(this.selectedCommand!==null){this.localList[this.selectedCommand].lines=this.EditCommandField;const t=this.localList[this.selectedCommand],s=this.fullCommandList.findIndex(n=>n.name===t.name);s!==-1&&(this.fullCommandList[s].lines=this.EditCommandField),this.emitUpdate()}},localList:{handler(i){this.validateDuplicateNames()},deep:!0}},mounted(){this.localList.length===0?this.selectedCommand=null:this.selectedCommand===null&&(this.selectedCommand=0)},methods:{onEdit(){this.editCommandEnabled=!0},onSave(){this.editCommandEnabled=!1},changeEditCommandEnabled(){this.editCommandEnabled=!this.editCommandEnabled},validateDuplicateNames(){const i=this.localList.map(t=>t.name.trim()).filter(t=>t!==""),e=i.filter((t,s)=>i.indexOf(t)!==s);if(e.length>0){const t=[...new Set(e)];console.warn(`Duplikaty nazw rozkazw: ${t.join(", ")}`)}},handleKeydown(i){this.isEditingName&&(i.key==="Enter"?(i.preventDefault(),this.confirmNameEdit()):i.key==="Escape"&&(i.preventDefault(),this.cancelNameEdit()))},cancelNameEdit(){this.commandInputValue=this.editingCommandOriginalName,this.isEditingName=!1,this.editingCommandOriginalName=""},startNameEdit(){if(!this.matchingCommand||!this.matchingCommand.name){console.error("No matching command found or command has no name"),alert("Bd: nie znaleziono rozkazu do edycji");return}this.isEditingName=!0,this.editingCommandOriginalName=this.matchingCommand.name},confirmNameEdit(){const i=this.commandInputValue.trim();if(console.log("confirmNameEdit called with:",i),i===""){alert("Nazwa rozkazu nie moe by pusta!"),this.commandInputValue=this.editingCommandOriginalName;return}const e=this.localList.find(s=>s.name.trim().toLowerCase()===this.editingCommandOriginalName.toLowerCase());if(!e){alert("Bd: nie znaleziono rozkazu do edycji"),this.cancelNameEdit();return}if(i!==this.editingCommandOriginalName){const s=this.localList.filter(l=>l!==e),n=this.fullCommandList.filter(l=>l.name.trim().toLowerCase()!==this.editingCommandOriginalName.toLowerCase());if(s.find(l=>l.name.trim().toLowerCase()===i.toLowerCase())||n.find(l=>l.name.trim().toLowerCase()===i.toLowerCase())){alert(`Rozkaz o nazwie "${i}" ju istnieje!`),this.commandInputValue=this.editingCommandOriginalName;return}e.name=i;const o=this.fullCommandList.find(l=>l.name.trim().toLowerCase()===this.editingCommandOriginalName.toLowerCase());o&&(o.name=i),this.emitUpdate()}this.isEditingName=!1,this.editingCommandOriginalName="";const t=this.localList.findIndex(s=>s===e);t!==-1&&(this.selectedCommand=t)},handleAddCommand(){if(this.localList.length>=Math.pow(2,this.codeBits)){alert("Limit rozkazw osignity");return}const i=this.commandInputValue.trim();if(i===""){alert("Nazwa rozkazu nie moe by pusta!");return}if(this.matchingCommand){alert(`Rozkaz o nazwie "${i}" ju istnieje!`);return}const e={name:i,args:0,description:`Rozkaz ${i}`,lines:this.newCommandLines||""};this.localList.push(e),this.fullCommandList.push(JSON.parse(JSON.stringify(e)));const t=this.localList.length-1;this.selectedCommand=t,this.isCreatingNew=!1,this.newCommandLines="",this.isAddingCommand=!0,this.emitUpdate(),this.$nextTick(()=>{const s=document.querySelectorAll("#commandListTable > button");s[t]&&s[t].scrollIntoView({behavior:"smooth",block:"nearest"})})},loadCommandList(){const i=document.createElement("input");i.type="file",i.accept=".lst,.json",i.onchange=e=>{const t=e.target.files[0],s=new FileReader;s.onload=n=>{try{const r=JSON.parse(n.target.result),o=Math.pow(2,this.codeBits);this.fullCommandList=r,this.localList=r.slice(0,o),this.localList.length>0?(this.selectedCommand=0,this.editCommandEnabled=!1):this.selectedCommand=null,this.emitUpdate()}catch{alert("Bd wczytywania listy")}},s.readAsText(t)},i.click()},downloadCommandList(){const i=JSON.stringify(this.fullCommandList,null,2),e=new Blob([i],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="commandList.json",s.click(),URL.revokeObjectURL(t)},editCommand(i){this.selectedCommand=i,this.editCommandEnabled=!1},deleteCommand(){if(this.selectedCommand===null)return;this.editCommandEnabled&&(this.suppressEditCommit=!0,this.editCommandEnabled=!1);const i=this.selectedCommand,e=this.localList[this.selectedCommand];this.localList.splice(this.selectedCommand,1);const t=this.fullCommandList.findIndex(s=>s.name===e.name&&s.lines===e.lines);t!==-1&&this.fullCommandList.splice(t,1),this.localList.length===0?(this.selectedCommand=null,this.commandInputValue="",this.isCreatingNew=!1):i>=this.localList.length?this.selectedCommand=this.localList.length-1:this.selectedCommand=i,this.emitUpdate()},emitUpdate(){const i=this.localList.map(t=>t.name.trim()).filter(t=>t!==""),e=i.filter((t,s)=>i.indexOf(t)!==s);if(e.length>0){const t=[...new Set(e)];alert(`Nie mona zapisa - znaleziono duplikaty nazw rozkazw: ${t.join(", ")}`);return}this.$emit("update:commandList",JSON.parse(JSON.stringify(this.localList)))}}},aw={id:"commandList"},hw={class:"header"},uw={id:"commandListTable"},cw=["onClick"],dw={class:"right-panel"},fw={key:0,id:"commandDetails"},mw={class:"roskazCode"},pw={class:"actionButtons"},gw={key:0,class:"top-actions"},Ow=["disabled"],yw=["disabled"],bw={class:"commandInputSection"},ww={class:"unifiedCommandInput"},Sw=["placeholder"],kw={key:0,class:"editingButtons"},vw=["disabled"],xw={class:"fileActions"};function Cw(i,e,t,s,n,r){return t.visible?(k(),A("div",{key:0,class:"modal-overlay",onClick:e[16]||(e[16]=Ge(o=>i.$emit("close"),["self"]))},[p("div",aw,[p("div",hw,[e[17]||(e[17]=p("h1",null,"Lista rozkazw",-1)),p("button",{class:"closeBtn closeButton",onClick:e[0]||(e[0]=o=>i.$emit("close")),"aria-label":"Zamknij list rozkazw"},"")]),p("div",uw,[p("span",null,oe(t.commandList.length)+" / "+oe(Math.pow(2,t.codeBits)),1),(k(!0),A(ve,null,Et(t.commandList,(o,l)=>(k(),A("button",{key:l,onClick:a=>r.editCommand(l),class:be(["execution-btn execution-btn--run",{selected:n.selectedCommand===l}])},[p("span",null,oe(o.name),1)],10,cw))),128))]),p("div",dw,[n.selectedCommand!==null||n.isCreatingNew?(k(),A("div",fw,[p("div",mw,[n.selectedCommand!==null&&!n.editCommandEnabled?gs((k(),A("textarea",{key:0,"onUpdate:modelValue":e[1]||(e[1]=o=>n.localList[n.selectedCommand].lines=o),disabled:""},null,512)),[[Ns,n.localList[n.selectedCommand].lines]]):n.selectedCommand!==null&&n.editCommandEnabled?gs((k(),A("textarea",{key:1,"onUpdate:modelValue":e[2]||(e[2]=o=>n.EditCommandField=o)},null,512)),[[Ns,n.EditCommandField]]):gs((k(),A("textarea",{key:2,"onUpdate:modelValue":e[3]||(e[3]=o=>n.newCommandLines=o),placeholder:"Wpisz kod dla nowego rozkazu..."},null,512)),[[Ns,n.newCommandLines]])])])):V("",!0),p("div",pw,[n.selectedCommand!==null?(k(),A("div",gw,[p("button",{onClick:e[4]||(e[4]=(...o)=>r.deleteCommand&&r.deleteCommand(...o)),title:"Usu rozkaz",class:"execution-btn execution-btn--run"},e[18]||(e[18]=[Ko('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-f0b98e5e><polyline points="3 6 5 6 21 6" data-v-f0b98e5e></polyline><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6" data-v-f0b98e5e></path><path d="M10 11v6m4-6v6" data-v-f0b98e5e></path><path d="M15 6V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v2" data-v-f0b98e5e></path></svg><span data-v-f0b98e5e>Usu</span>',2)])),p("button",{class:"execution-btn execution-btn--run",onClick:e[5]||(e[5]=(...o)=>r.onEdit&&r.onEdit(...o)),disabled:!r.canEdit||n.editCommandEnabled,title:"Edytuj tre rozkazu"},e[19]||(e[19]=[p("span",null,"Edytuj",-1)]),8,Ow),p("button",{class:"execution-btn execution-btn--run",onClick:e[6]||(e[6]=(...o)=>r.onSave&&r.onSave(...o)),disabled:!n.editCommandEnabled,title:"Zapisz zmiany"},e[20]||(e[20]=[p("span",null,"Zapisz",-1)]),8,yw)])):V("",!0),p("div",bw,[p("div",ww,[gs(p("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=o=>n.commandInputValue=o),onKeyup:e[8]||(e[8]=(...o)=>i.handleKeyup&&i.handleKeyup(...o)),onKeydown:e[9]||(e[9]=(...o)=>r.handleKeydown&&r.handleKeydown(...o)),placeholder:r.commandInputPlaceholder,class:"commandInput"},null,40,Sw),[[Ns,n.commandInputValue]])]),n.isEditingName?(k(),A("div",kw,[p("button",{onClick:e[10]||(e[10]=(...o)=>r.confirmNameEdit&&r.confirmNameEdit(...o)),title:"Potwierd zmian nazwy",class:"execution-btn execution-btn--run"},e[21]||(e[21]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("polyline",{points:"20 6 9 17 4 12"})],-1),p("span",null,"Potwierd",-1)])),p("button",{onClick:e[11]||(e[11]=(...o)=>r.cancelNameEdit&&r.cancelNameEdit(...o)),title:"Anuluj edycj",class:"execution-btn execution-btn--run"},e[22]||(e[22]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("path",{d:"M18 6L6 18M6 6l12 12"})],-1),p("span",null,"Anuluj",-1)]))])):r.matchingCommand&&!n.isEditingName?(k(),A("button",{key:1,onClick:e[12]||(e[12]=(...o)=>r.startNameEdit&&r.startNameEdit(...o)),title:"Edytuj nazw rozkazu",class:"execution-btn execution-btn--run"},e[23]||(e[23]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p("span",null,"Edytuj",-1)]))):(k(),A("button",{key:2,onClick:e[13]||(e[13]=(...o)=>r.handleAddCommand&&r.handleAddCommand(...o)),disabled:!n.commandInputValue.trim(),title:"Dodaj nowy rozkaz",class:"execution-btn execution-btn--run"},e[24]||(e[24]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("g",{"stroke-width":"2","stroke-linecap":"round"},[p("path",{d:"M12 16V8m4 4H8"}),p("circle",{cx:"12",cy:"12",r:"9"})])],-1),p("span",null,"Dodaj",-1)]),8,vw))]),p("div",xw,[p("button",{onClick:e[14]||(e[14]=(...o)=>r.loadCommandList&&r.loadCommandList(...o)),title:"Wgraj list rozkazw",class:"execution-btn execution-btn--run"},e[25]||(e[25]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v9m0-9l3 3m-3-3l-3 3m8.5 2c1.519 0 2.5-1.231 2.5-2.75a2.75 2.75 0 00-2.016-2.65A5 5 0 008.37 8.108a3.5 3.5 0 00-1.87 6.746"})],-1),p("span",null,"Wgraj",-1)])),p("button",{onClick:e[15]||(e[15]=(...o)=>r.downloadCommandList&&r.downloadCommandList(...o)),title:"Pobierz list rozkazw",class:"execution-btn execution-btn--run"},e[26]||(e[26]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v8.5m0 0l3-3m-3 3l-3-3M5 15v2a2 2 0 002 2h10a2 2 0 002-2v-2"})],-1),p("span",null,"Pobierz",-1)]))])])])])])):V("",!0)}const Pw=ce(lw,[["render",Cw],["__scopeId","data-v-f0b98e5e"]]),Qw={},$w={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"};function Aw(i,e){return k(),A("svg",$w,e[0]||(e[0]=[p("path",{d:"m16 18 6-6-6-6"},null,-1),p("path",{d:"m8 6-6 6 6 6"},null,-1)]))}const Eh=ce(Qw,[["render",Aw]]),Rw={},Mw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"};function Tw(i,e){return k(),A("svg",Mw,e[0]||(e[0]=[p("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"},null,-1),p("path",{d:"m15 5 4 4"},null,-1)]))}const Zh=ce(Rw,[["render",Tw]]);let ba=[],Tm=[];(()=>{let i="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<i.length;e++)(e%2?Tm:ba).push(t=t+i[e])})();function Lw(i){if(i<768)return!1;for(let e=0,t=ba.length;;){let s=e+t>>1;if(i<ba[s])t=s;else if(i>=Tm[s])e=s+1;else return!0;if(e==t)return!1}}function nc(i){return i>=127462&&i<=127487}const rc=8205;function Ew(i,e,t=!0,s=!0){return(t?Lm:Zw)(i,e,s)}function Lm(i,e,t){if(e==i.length)return e;e&&Em(i.charCodeAt(e))&&Zm(i.charCodeAt(e-1))&&e--;let s=kl(i,e);for(e+=oc(s);e<i.length;){let n=kl(i,e);if(s==rc||n==rc||t&&Lw(n))e+=oc(n),s=n;else if(nc(n)){let r=0,o=e-2;for(;o>=0&&nc(kl(i,o));)r++,o-=2;if(r%2==0)break;e+=2}else break}return e}function Zw(i,e,t){for(;e>0;){let s=Lm(i,e-2,t);if(s<e)return s;e--}return 0}function kl(i,e){let t=i.charCodeAt(e);if(!Zm(t)||e+1==i.length)return t;let s=i.charCodeAt(e+1);return Em(s)?(t-55296<<10)+(s-56320)+65536:t}function Em(i){return i>=56320&&i<57344}function Zm(i){return i>=55296&&i<56320}function oc(i){return i<65536?1:2}class Ae{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,s){[e,t]=ln(this,e,t);let n=[];return this.decompose(0,e,n,2),s.length&&s.decompose(0,s.length,n,3),this.decompose(t,this.length,n,1),bi.from(n,this.length-(t-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=ln(this,e,t);let s=[];return this.decompose(e,t,s,0),bi.from(s,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),n=new Dn(this),r=new Dn(e);for(let o=t,l=t;;){if(n.next(o),r.next(o),o=0,n.lineBreak!=r.lineBreak||n.done!=r.done||n.value!=r.value)return!1;if(l+=n.value.length,n.done||l>=s)return!0}}iter(e=1){return new Dn(this,e)}iterRange(e,t=this.length){return new Im(this,e,t)}iterLines(e,t){let s;if(e==null)s=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;s=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Bm(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ae.empty:e.length<=32?new Fe(e):bi.from(Fe.split(e,[]))}}class Fe extends Ae{constructor(e,t=Iw(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,s,n){for(let r=0;;r++){let o=this.text[r],l=n+o.length;if((t?s:l)>=e)return new Bw(n,l,s,o);n=l+1,s++}}decompose(e,t,s,n){let r=e<=0&&t>=this.length?this:new Fe(lc(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=s.pop(),l=eo(r.text,o.text.slice(),0,r.length);if(l.length<=32)s.push(new Fe(l,o.length+r.length));else{let a=l.length>>1;s.push(new Fe(l.slice(0,a)),new Fe(l.slice(a)))}}else s.push(r)}replace(e,t,s){if(!(s instanceof Fe))return super.replace(e,t,s);[e,t]=ln(this,e,t);let n=eo(this.text,eo(s.text,lc(this.text,0,e)),t),r=this.length+s.length-(t-e);return n.length<=32?new Fe(n,r):bi.from(Fe.split(n,[]),r)}sliceString(e,t=this.length,s=`
`){[e,t]=ln(this,e,t);let n="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let l=this.text[o],a=r+l.length;r>e&&o&&(n+=s),e<a&&t>r&&(n+=l.slice(Math.max(0,e-r),t-r)),r=a+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let s=[],n=-1;for(let r of e)s.push(r),n+=r.length+1,s.length==32&&(t.push(new Fe(s,n)),s=[],n=-1);return n>-1&&t.push(new Fe(s,n)),t}}class bi extends Ae{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,t,s,n){for(let r=0;;r++){let o=this.children[r],l=n+o.length,a=s+o.lines-1;if((t?a:l)>=e)return o.lineInner(e,t,s,n);n=l+1,s=a+1}}decompose(e,t,s,n){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let l=this.children[r],a=o+l.length;if(e<=a&&t>=o){let h=n&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!h?s.push(l):l.decompose(e-o,t-o,s,h)}o=a+1}}replace(e,t,s){if([e,t]=ln(this,e,t),s.lines<this.lines)for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],l=r+o.length;if(e>=r&&t<=l){let a=o.replace(e-r,t-r,s),h=this.lines-o.lines+a.lines;if(a.lines<h>>4&&a.lines>h>>6){let u=this.children.slice();return u[n]=a,new bi(u,this.length-(t-e)+s.length)}return super.replace(r,l,a)}r=l+1}return super.replace(e,t,s)}sliceString(e,t=this.length,s=`
`){[e,t]=ln(this,e,t);let n="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let l=this.children[r],a=o+l.length;o>e&&r&&(n+=s),e<a&&t>o&&(n+=l.sliceString(e-o,t-o,s)),o=a+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof bi))return 0;let s=0,[n,r,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,r+=t){if(n==o||r==l)return s;let a=this.children[n],h=e.children[r];if(a!=h)return s+a.scanIdentical(h,t);s+=a.length+1}}static from(e,t=e.reduce((s,n)=>s+n.length+1,-1)){let s=0;for(let f of e)s+=f.lines;if(s<32){let f=[];for(let m of e)m.flatten(f);return new Fe(f,t)}let n=Math.max(32,s>>5),r=n<<1,o=n>>1,l=[],a=0,h=-1,u=[];function c(f){let m;if(f.lines>r&&f instanceof bi)for(let g of f.children)c(g);else f.lines>o&&(a>o||!a)?(d(),l.push(f)):f instanceof Fe&&a&&(m=u[u.length-1])instanceof Fe&&f.lines+m.lines<=32?(a+=f.lines,h+=f.length+1,u[u.length-1]=new Fe(m.text.concat(f.text),m.length+1+f.length)):(a+f.lines>n&&d(),a+=f.lines,h+=f.length+1,u.push(f))}function d(){a!=0&&(l.push(u.length==1?u[0]:bi.from(u,h)),h=-1,a=u.length=0)}for(let f of e)c(f);return d(),l.length==1?l[0]:new bi(l,t)}}Ae.empty=new Fe([""],0);function Iw(i){let e=-1;for(let t of i)e+=t.length+1;return e}function eo(i,e,t=0,s=1e9){for(let n=0,r=0,o=!0;r<i.length&&n<=s;r++){let l=i[r],a=n+l.length;a>=t&&(a>s&&(l=l.slice(0,s-n)),n<t&&(l=l.slice(t-n)),o?(e[e.length-1]+=l,o=!1):e.push(l)),n=a+1}return e}function lc(i,e,t){return eo(i,[""],e,t)}class Dn{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Fe?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,n=this.nodes[s],r=this.offsets[s],o=r>>1,l=n instanceof Fe?n.text.length:n.children.length;if(o==(t>0?l:0)){if(s==0)return this.done=!0,this.value="",this;t>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(t>0?0:1)){if(this.offsets[s]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof Fe){let a=n.text[o+(t<0?-1:0)];if(this.offsets[s]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=n.children[o+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[s]+=t):(t<0&&this.offsets[s]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof Fe?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Im{constructor(e,t,s){this.value="",this.done=!1,this.cursor=new Dn(e,t>s?-1:1),this.pos=t>s?e.length:0,this.from=Math.min(t,s),this.to=Math.max(t,s)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let s=t<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=s?n:t<0?n.slice(n.length-s):n.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Bm{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:s,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ae.prototype[Symbol.iterator]=function(){return this.iter()},Dn.prototype[Symbol.iterator]=Im.prototype[Symbol.iterator]=Bm.prototype[Symbol.iterator]=function(){return this});class Bw{constructor(e,t,s,n){this.from=e,this.to=t,this.number=s,this.text=n}get length(){return this.to-this.from}}function ln(i,e,t){return e=Math.max(0,Math.min(i.length,e)),[e,Math.max(e,Math.min(i.length,t))]}function Gt(i,e,t=!0,s=!0){return Ew(i,e,t,s)}function zw(i){return i>=56320&&i<57344}function _w(i){return i>=55296&&i<56320}function Dt(i,e){let t=i.charCodeAt(e);if(!_w(t)||e+1==i.length)return t;let s=i.charCodeAt(e+1);return zw(s)?(t-55296<<10)+(s-56320)+65536:t}function Ih(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}function wi(i){return i<65536?1:2}const wa=/\r\n?|\n/;var yt=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(yt||(yt={}));class Pi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let s=this.sections[t+1];e+=s<0?this.sections[t]:s}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,s=0,n=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(s,n,r),n+=r):n+=o,s+=r}}iterChangedRanges(e,t=!1){Sa(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let s=this.sections[t++],n=this.sections[t++];n<0?e.push(s,n):e.push(n,s)}return new Pi(e)}composeDesc(e){return this.empty?e:e.empty?this:zm(this,e)}mapDesc(e,t=!1){return e.empty?this:ka(this,e,t)}mapPos(e,t=-1,s=yt.Simple){let n=0,r=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],h=n+l;if(a<0){if(h>e)return r+(e-n);r+=l}else{if(s!=yt.Simple&&h>=e&&(s==yt.TrackDel&&n<e&&h>e||s==yt.TrackBefore&&n<e||s==yt.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!l)return e==n||t<0?r:r+a;r+=a}n=h}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return r}touchesRange(e,t=e){for(let s=0,n=0;s<this.sections.length&&n<=t;){let r=this.sections[s++],o=this.sections[s++],l=n+r;if(o>=0&&n<=t&&l>=e)return n<e&&l>t?"cover":!0;n=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let s=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+s+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Pi(e)}static create(e){return new Pi(e)}}class et extends Pi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Sa(this,(t,s,n,r,o)=>e=e.replace(n,n+(s-t),o),!1),e}mapDesc(e,t=!1){return ka(this,e,t,!0)}invert(e){let t=this.sections.slice(),s=[];for(let n=0,r=0;n<t.length;n+=2){let o=t[n],l=t[n+1];if(l>=0){t[n]=l,t[n+1]=o;let a=n>>1;for(;s.length<a;)s.push(Ae.empty);s.push(o?e.slice(r,r+o):Ae.empty)}r+=o}return new et(t,s)}compose(e){return this.empty?e:e.empty?this:zm(this,e,!0)}map(e,t=!1){return e.empty?this:ka(this,e,t,!0)}iterChanges(e,t=!1){Sa(this,e,t)}get desc(){return Pi.create(this.sections)}filter(e){let t=[],s=[],n=[],r=new Jn(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&r.len==0;){if(r.done)break e;let u=Math.min(r.len,a-l);pt(n,u,-1);let c=r.ins==-1?-1:r.off==0?r.ins:0;pt(t,u,c),c>0&&Gi(s,t,r.text),r.forward(u),l+=u}let h=e[o++];for(;l<h;){if(r.done)break e;let u=Math.min(r.len,h-l);pt(t,u,-1),pt(n,u,r.ins==-1?-1:r.off==0?r.ins:0),r.forward(u),l+=u}}return{changes:new et(t,s),filtered:Pi.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let s=this.sections[t],n=this.sections[t+1];n<0?e.push(s):n==0?e.push([s]):e.push([s].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,s){let n=[],r=[],o=0,l=null;function a(u=!1){if(!u&&!n.length)return;o<t&&pt(n,t-o,-1);let c=new et(n,r);l=l?l.compose(c.map(l)):c,n=[],r=[],o=0}function h(u){if(Array.isArray(u))for(let c of u)h(c);else if(u instanceof et){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:c,to:d=c,insert:f}=u;if(c>d||c<0||d>t)throw new RangeError(`Invalid change range ${c} to ${d} (in doc of length ${t})`);let m=f?typeof f=="string"?Ae.of(f.split(s||wa)):f:Ae.empty,g=m.length;if(c==d&&g==0)return;c<o&&a(),c>o&&pt(n,c-o,-1),pt(n,d-c,g),Gi(r,n,m),o=d}}return h(e),a(!l),l}static empty(e){return new et(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],s=[];for(let n=0;n<e.length;n++){let r=e[n];if(typeof r=="number")t.push(r,-1);else{if(!Array.isArray(r)||typeof r[0]!="number"||r.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(r.length==1)t.push(r[0],0);else{for(;s.length<n;)s.push(Ae.empty);s[n]=Ae.of(r.slice(1)),t.push(r[0],s[n].length)}}}return new et(t,s)}static createSet(e,t){return new et(e,t)}}function pt(i,e,t,s=!1){if(e==0&&t<=0)return;let n=i.length-2;n>=0&&t<=0&&t==i[n+1]?i[n]+=e:n>=0&&e==0&&i[n]==0?i[n+1]+=t:s?(i[n]+=e,i[n+1]+=t):i.push(e,t)}function Gi(i,e,t){if(t.length==0)return;let s=e.length-2>>1;if(s<i.length)i[i.length-1]=i[i.length-1].append(t);else{for(;i.length<s;)i.push(Ae.empty);i.push(t)}}function Sa(i,e,t){let s=i.inserted;for(let n=0,r=0,o=0;o<i.sections.length;){let l=i.sections[o++],a=i.sections[o++];if(a<0)n+=l,r+=l;else{let h=n,u=r,c=Ae.empty;for(;h+=l,u+=a,a&&s&&(c=c.append(s[o-2>>1])),!(t||o==i.sections.length||i.sections[o+1]<0);)l=i.sections[o++],a=i.sections[o++];e(n,h,r,u,c),n=h,r=u}}}function ka(i,e,t,s=!1){let n=[],r=s?[]:null,o=new Jn(i),l=new Jn(e);for(let a=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let h=Math.min(o.len,l.len);pt(n,h,-1),o.forward(h),l.forward(h)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let h=l.len;for(pt(n,l.ins,-1);h;){let u=Math.min(o.len,h);o.ins>=0&&a<o.i&&o.len<=u&&(pt(n,0,o.ins),r&&Gi(r,n,o.text),a=o.i),o.forward(u),h-=u}l.next()}else if(o.ins>=0){let h=0,u=o.len;for(;u;)if(l.ins==-1){let c=Math.min(u,l.len);h+=c,u-=c,l.forward(c)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;pt(n,h,a<o.i?o.ins:0),r&&a<o.i&&Gi(r,n,o.text),a=o.i,o.forward(o.len-u)}else{if(o.done&&l.done)return r?et.createSet(n,r):Pi.create(n);throw new Error("Mismatched change set lengths")}}}function zm(i,e,t=!1){let s=[],n=t?[]:null,r=new Jn(i),o=new Jn(e);for(let l=!1;;){if(r.done&&o.done)return n?et.createSet(s,n):Pi.create(s);if(r.ins==0)pt(s,r.len,0,l),r.next();else if(o.len==0&&!o.done)pt(s,0,o.ins,l),n&&Gi(n,s,o.text),o.next();else{if(r.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(r.len2,o.len),h=s.length;if(r.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;pt(s,a,u,l),n&&u&&Gi(n,s,o.text)}else o.ins==-1?(pt(s,r.off?0:r.len,a,l),n&&Gi(n,s,r.textBit(a))):(pt(s,r.off?0:r.len,o.off?0:o.ins,l),n&&!o.off&&Gi(n,s,o.text));l=(r.ins>a||o.ins>=0&&o.len>a)&&(l||s.length>h),r.forward2(a),o.forward(a)}}}}class Jn{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ae.empty:e[t]}textBit(e){let{inserted:t}=this.set,s=this.i-2>>1;return s>=t.length&&!e?Ae.empty:t[s].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Os{constructor(e,t,s){this.from=e,this.to=t,this.flags=s}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let s,n;return this.empty?s=n=e.mapPos(this.from,t):(s=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),s==this.from&&n==this.to?this:new Os(s,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return U.range(e,t);let s=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return U.range(this.anchor,s)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return U.range(e.anchor,e.head)}static create(e,t,s){return new Os(e,t,s)}}class U{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:U.create(this.ranges.map(s=>s.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(e.ranges[s],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new U([this.main],0)}addRange(e,t=!0){return U.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let s=this.ranges.slice();return s[t]=e,U.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new U(e.ranges.map(t=>Os.fromJSON(t)),e.main)}static single(e,t=e){return new U([U.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let s=0,n=0;n<e.length;n++){let r=e[n];if(r.empty?r.from<=s:r.from<s)return U.normalized(e.slice(),t);s=r.to}return new U(e,t)}static cursor(e,t=0,s,n){return Os.create(e,e,(t==0?0:t<0?8:16)|(s==null?7:Math.min(6,s))|(n??16777215)<<6)}static range(e,t,s,n){let r=(s??16777215)<<6|(n==null?7:Math.min(6,n));return t<e?Os.create(t,e,48|r):Os.create(e,t,(t>e?8:0)|r)}static normalized(e,t=0){let s=e[t];e.sort((n,r)=>n.from-r.from),t=e.indexOf(s);for(let n=1;n<e.length;n++){let r=e[n],o=e[n-1];if(r.empty?r.from<=o.to:r.from<o.to){let l=o.from,a=Math.max(r.to,o.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?U.range(a,l):U.range(l,a))}}return new U(e,t)}}function _m(i,e){for(let t of i.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Bh=0;class ne{constructor(e,t,s,n,r){this.combine=e,this.compareInput=t,this.compare=s,this.isStatic=n,this.id=Bh++,this.default=e([]),this.extensions=typeof r=="function"?r(this):r}get reader(){return this}static define(e={}){return new ne(e.combine||(t=>t),e.compareInput||((t,s)=>t===s),e.compare||(e.combine?(t,s)=>t===s:zh),!!e.static,e.enables)}of(e){return new to([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new to(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new to(e,this,2,t)}from(e,t){return t||(t=s=>s),this.compute([e],s=>t(s.field(e)))}}function zh(i,e){return i==e||i.length==e.length&&i.every((t,s)=>t===e[s])}class to{constructor(e,t,s,n){this.dependencies=e,this.facet=t,this.type=s,this.value=n,this.id=Bh++}dynamicSlot(e){var t;let s=this.value,n=this.facet.compareInput,r=this.id,o=e[r]>>1,l=this.type==2,a=!1,h=!1,u=[];for(let c of this.dependencies)c=="doc"?a=!0:c=="selection"?h=!0:((t=e[c.id])!==null&&t!==void 0?t:1)&1||u.push(e[c.id]);return{create(c){return c.values[o]=s(c),1},update(c,d){if(a&&d.docChanged||h&&(d.docChanged||d.selection)||va(c,u)){let f=s(c);if(l?!ac(f,c.values[o],n):!n(f,c.values[o]))return c.values[o]=f,1}return 0},reconfigure:(c,d)=>{let f,m=d.config.address[r];if(m!=null){let g=ko(d,m);if(this.dependencies.every(b=>b instanceof ne?d.facet(b)===c.facet(b):b instanceof wt?d.field(b,!1)==c.field(b,!1):!0)||(l?ac(f=s(c),g,n):n(f=s(c),g)))return c.values[o]=g,0}else f=s(c);return c.values[o]=f,1}}}}function ac(i,e,t){if(i.length!=e.length)return!1;for(let s=0;s<i.length;s++)if(!t(i[s],e[s]))return!1;return!0}function va(i,e){let t=!1;for(let s of e)Xn(i,s)&1&&(t=!0);return t}function Nw(i,e,t){let s=t.map(a=>i[a.id]),n=t.map(a=>a.type),r=s.filter(a=>!(a&1)),o=i[e.id]>>1;function l(a){let h=[];for(let u=0;u<s.length;u++){let c=ko(a,s[u]);if(n[u]==2)for(let d of c)h.push(d);else h.push(c)}return e.combine(h)}return{create(a){for(let h of s)Xn(a,h);return a.values[o]=l(a),1},update(a,h){if(!va(a,r))return 0;let u=l(a);return e.compare(u,a.values[o])?0:(a.values[o]=u,1)},reconfigure(a,h){let u=va(a,s),c=h.config.facets[e.id],d=h.facet(e);if(c&&!u&&zh(t,c))return a.values[o]=d,0;let f=l(a);return e.compare(f,d)?(a.values[o]=d,0):(a.values[o]=f,1)}}}const Pr=ne.define({static:!0});class wt{constructor(e,t,s,n,r){this.id=e,this.createF=t,this.updateF=s,this.compareF=n,this.spec=r,this.provides=void 0}static define(e){let t=new wt(Bh++,e.create,e.update,e.compare||((s,n)=>s===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Pr).find(s=>s.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:s=>(s.values[t]=this.create(s),1),update:(s,n)=>{let r=s.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(s.values[t]=o,1)},reconfigure:(s,n)=>{let r=s.facet(Pr),o=n.facet(Pr),l;return(l=r.find(a=>a.field==this))&&l!=o.find(a=>a.field==this)?(s.values[t]=l.create(s),1):n.config.address[this.id]!=null?(s.values[t]=n.field(this),0):(s.values[t]=this.create(s),1)}}}init(e){return[this,Pr.of({field:this,create:e})]}get extension(){return this}}const ps={lowest:4,low:3,default:2,high:1,highest:0};function Sn(i){return e=>new Nm(e,i)}const as={highest:Sn(ps.highest),high:Sn(ps.high),default:Sn(ps.default),low:Sn(ps.low),lowest:Sn(ps.lowest)};class Nm{constructor(e,t){this.inner=e,this.prec=t}}class el{of(e){return new xa(this,e)}reconfigure(e){return el.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class xa{constructor(e,t){this.compartment=e,this.inner=t}}class So{constructor(e,t,s,n,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=s,this.address=n,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,s){let n=[],r=Object.create(null),o=new Map;for(let d of Dw(e,t,o))d instanceof wt?n.push(d):(r[d.facet.id]||(r[d.facet.id]=[])).push(d);let l=Object.create(null),a=[],h=[];for(let d of n)l[d.id]=h.length<<1,h.push(f=>d.slot(f));let u=s==null?void 0:s.config.facets;for(let d in r){let f=r[d],m=f[0].facet,g=u&&u[d]||[];if(f.every(b=>b.type==0))if(l[m.id]=a.length<<1|1,zh(g,f))a.push(s.facet(m));else{let b=m.combine(f.map(y=>y.value));a.push(s&&m.compare(b,s.facet(m))?s.facet(m):b)}else{for(let b of f)b.type==0?(l[b.id]=a.length<<1|1,a.push(b.value)):(l[b.id]=h.length<<1,h.push(y=>b.dynamicSlot(y)));l[m.id]=h.length<<1,h.push(b=>Nw(b,m,f))}}let c=h.map(d=>d(l));return new So(e,o,c,l,a,r)}}function Dw(i,e,t){let s=[[],[],[],[],[]],n=new Map;function r(o,l){let a=n.get(o);if(a!=null){if(a<=l)return;let h=s[a].indexOf(o);h>-1&&s[a].splice(h,1),o instanceof xa&&t.delete(o.compartment)}if(n.set(o,l),Array.isArray(o))for(let h of o)r(h,l);else if(o instanceof xa){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),r(h,l)}else if(o instanceof Nm)r(o.inner,o.prec);else if(o instanceof wt)s[l].push(o),o.provides&&r(o.provides,l);else if(o instanceof to)s[l].push(o),o.facet.extensions&&r(o.facet.extensions,ps.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(h,l)}}return r(i,ps.default),s.reduce((o,l)=>o.concat(l))}function Xn(i,e){if(e&1)return 2;let t=e>>1,s=i.status[t];if(s==4)throw new Error("Cyclic dependency between fields and/or facets");if(s&2)return s;i.status[t]=4;let n=i.computeSlot(i,i.config.dynamicSlots[t]);return i.status[t]=2|n}function ko(i,e){return e&1?i.config.staticValues[e>>1]:i.values[e>>1]}const Dm=ne.define(),Ca=ne.define({combine:i=>i.some(e=>e),static:!0}),Xm=ne.define({combine:i=>i.length?i[0]:void 0,static:!0}),qm=ne.define(),Vm=ne.define(),jm=ne.define(),Wm=ne.define({combine:i=>i.length?i[0]:!1});class _i{constructor(e,t){this.type=e,this.value=t}static define(){return new Xw}}class Xw{of(e){return new _i(this,e)}}class qw{constructor(e){this.map=e}of(e){return new we(this,e)}}class we{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new we(this.type,t)}is(e){return this.type==e}static define(e={}){return new qw(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let s=[];for(let n of e){let r=n.map(t);r&&s.push(r)}return s}}we.reconfigure=we.define();we.appendConfig=we.define();class Ke{constructor(e,t,s,n,r,o){this.startState=e,this.changes=t,this.selection=s,this.effects=n,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,s&&_m(s,t.newLength),r.some(l=>l.type==Ke.time)||(this.annotations=r.concat(Ke.time.of(Date.now())))}static create(e,t,s,n,r,o){return new Ke(e,t,s,n,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ke.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ke.time=_i.define();Ke.userEvent=_i.define();Ke.addToHistory=_i.define();Ke.remote=_i.define();function Vw(i,e){let t=[];for(let s=0,n=0;;){let r,o;if(s<i.length&&(n==e.length||e[n]>=i[s]))r=i[s++],o=i[s++];else if(n<e.length)r=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<r?t.push(r,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Ym(i,e,t){var s;let n,r,o;return t?(n=e.changes,r=et.empty(e.changes.length),o=i.changes.compose(e.changes)):(n=e.changes.map(i.changes),r=i.changes.mapDesc(e.changes,!0),o=i.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(r):(s=i.selection)===null||s===void 0?void 0:s.map(n),effects:we.mapEffects(i.effects,n).concat(we.mapEffects(e.effects,r)),annotations:i.annotations.length?i.annotations.concat(e.annotations):e.annotations,scrollIntoView:i.scrollIntoView||e.scrollIntoView}}function Pa(i,e,t){let s=e.selection,n=Js(e.annotations);return e.userEvent&&(n=n.concat(Ke.userEvent.of(e.userEvent))),{changes:e.changes instanceof et?e.changes:et.of(e.changes||[],t,i.facet(Xm)),selection:s&&(s instanceof U?s:U.single(s.anchor,s.head)),effects:Js(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function Um(i,e,t){let s=Pa(i,e.length?e[0]:{},i.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let r=1;r<e.length;r++){e[r].filter===!1&&(t=!1);let o=!!e[r].sequential;s=Ym(s,Pa(i,e[r],o?s.changes.newLength:i.doc.length),o)}let n=Ke.create(i,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return Ww(t?jw(n):n)}function jw(i){let e=i.startState,t=!0;for(let n of e.facet(qm)){let r=n(i);if(r===!1){t=!1;break}Array.isArray(r)&&(t=t===!0?r:Vw(t,r))}if(t!==!0){let n,r;if(t===!1)r=i.changes.invertedDesc,n=et.empty(e.doc.length);else{let o=i.changes.filter(t);n=o.changes,r=o.filtered.mapDesc(o.changes).invertedDesc}i=Ke.create(e,n,i.selection&&i.selection.map(r),we.mapEffects(i.effects,r),i.annotations,i.scrollIntoView)}let s=e.facet(Vm);for(let n=s.length-1;n>=0;n--){let r=s[n](i);r instanceof Ke?i=r:Array.isArray(r)&&r.length==1&&r[0]instanceof Ke?i=r[0]:i=Um(e,Js(r),!1)}return i}function Ww(i){let e=i.startState,t=e.facet(jm),s=i;for(let n=t.length-1;n>=0;n--){let r=t[n](i);r&&Object.keys(r).length&&(s=Ym(s,Pa(e,r,i.changes.newLength),!0))}return s==i?i:Ke.create(e,i.changes,i.selection,s.effects,s.annotations,s.scrollIntoView)}const Yw=[];function Js(i){return i==null?Yw:Array.isArray(i)?i:[i]}var Ve=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Ve||(Ve={}));const Uw=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Qa;try{Qa=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Fw(i){if(Qa)return Qa.test(i);for(let e=0;e<i.length;e++){let t=i[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Uw.test(t)))return!0}return!1}function Gw(i){return e=>{if(!/\S/.test(e))return Ve.Space;if(Fw(e))return Ve.Word;for(let t=0;t<i.length;t++)if(e.indexOf(i[t])>-1)return Ve.Word;return Ve.Other}}class $e{constructor(e,t,s,n,r,o){this.config=e,this.doc=t,this.selection=s,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Xn(this,l<<1);this.computeSlot=null}field(e,t=!0){let s=this.config.address[e.id];if(s==null){if(t)throw new RangeError("Field is not present in this state");return}return Xn(this,s),ko(this,s)}update(...e){return Um(this,e,!0)}applyTransaction(e){let t=this.config,{base:s,compartments:n}=t;for(let l of e.effects)l.is(el.reconfigure)?(t&&(n=new Map,t.compartments.forEach((a,h)=>n.set(h,a)),t=null),n.set(l.value.compartment,l.value.extension)):l.is(we.reconfigure)?(t=null,s=l.value):l.is(we.appendConfig)&&(t=null,s=Js(s).concat(l.value));let r;t?r=e.startState.values.slice():(t=So.resolve(s,n,this),r=new $e(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,h)=>h.reconfigure(a,this),null).values);let o=e.startState.facet(Ca)?e.newSelection:e.newSelection.asSingle();new $e(t,e.newDoc,o,r,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:U.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,s=e(t.ranges[0]),n=this.changes(s.changes),r=[s.range],o=Js(s.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),h=this.changes(a.changes),u=h.map(n);for(let d=0;d<l;d++)r[d]=r[d].map(u);let c=n.mapDesc(h,!0);r.push(a.range.map(c)),n=n.compose(u),o=we.mapEffects(o,u).concat(we.mapEffects(Js(a.effects),c))}return{changes:n,selection:U.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof et?e:et.of(e,this.doc.length,this.facet($e.lineSeparator))}toText(e){return Ae.of(e.split(this.facet($e.lineSeparator)||wa))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Xn(this,t),ko(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let s in e){let n=e[s];n instanceof wt&&this.config.address[n.id]!=null&&(t[s]=n.spec.toJSON(this.field(e[s]),this))}return t}static fromJSON(e,t={},s){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(s){for(let r in s)if(Object.prototype.hasOwnProperty.call(e,r)){let o=s[r],l=e[r];n.push(o.init(a=>o.spec.fromJSON(l,a)))}}return $e.create({doc:e.doc,selection:U.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=So.resolve(e.extensions||[],new Map),s=e.doc instanceof Ae?e.doc:Ae.of((e.doc||"").split(t.staticFacet($e.lineSeparator)||wa)),n=e.selection?e.selection instanceof U?e.selection:U.single(e.selection.anchor,e.selection.head):U.single(0);return _m(n,s.length),t.staticFacet(Ca)||(n=n.asSingle()),new $e(t,s,n,t.dynamicSlots.map(()=>null),(r,o)=>o.create(r),null)}get tabSize(){return this.facet($e.tabSize)}get lineBreak(){return this.facet($e.lineSeparator)||`
`}get readOnly(){return this.facet(Wm)}phrase(e,...t){for(let s of this.facet($e.phrases))if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(s,n)=>{if(n=="$")return"$";let r=+(n||1);return!r||r>t.length?s:t[r-1]})),e}languageDataAt(e,t,s=-1){let n=[];for(let r of this.facet(Dm))for(let o of r(this,t,s))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return Gw(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:s,length:n}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-s,l=e-s;for(;o>0;){let a=Gt(t,o,!1);if(r(t.slice(a,o))!=Ve.Word)break;o=a}for(;l<n;){let a=Gt(t,l);if(r(t.slice(l,a))!=Ve.Word)break;l=a}return o==l?null:U.range(o+s,l+s)}}$e.allowMultipleSelections=Ca;$e.tabSize=ne.define({combine:i=>i.length?i[0]:4});$e.lineSeparator=Xm;$e.readOnly=Wm;$e.phrases=ne.define({compare(i,e){let t=Object.keys(i),s=Object.keys(e);return t.length==s.length&&t.every(n=>i[n]==e[n])}});$e.languageData=Dm;$e.changeFilter=qm;$e.transactionFilter=Vm;$e.transactionExtender=jm;el.reconfigure=we.define();function Ts(i,e,t={}){let s={};for(let n of i)for(let r of Object.keys(n)){let o=n[r],l=s[r];if(l===void 0)s[r]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,r))s[r]=t[r](l,o);else throw new Error("Config merge conflict for field "+r)}for(let n in e)s[n]===void 0&&(s[n]=e[n]);return s}class Ps{eq(e){return this==e}range(e,t=e){return $a.create(e,t,this)}}Ps.prototype.startSide=Ps.prototype.endSide=0;Ps.prototype.point=!1;Ps.prototype.mapMode=yt.TrackDel;let $a=class Fm{constructor(e,t,s){this.from=e,this.to=t,this.value=s}static create(e,t,s){return new Fm(e,t,s)}};function Aa(i,e){return i.from-e.from||i.value.startSide-e.value.startSide}class _h{constructor(e,t,s,n){this.from=e,this.to=t,this.value=s,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,s,n=0){let r=s?this.to:this.from;for(let o=n,l=r.length;;){if(o==l)return o;let a=o+l>>1,h=r[a]-e||(s?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return h>=0?o:l;h>=0?l=a:o=a+1}}between(e,t,s,n){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(s,1e9,!1,r);r<o;r++)if(n(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,t){let s=[],n=[],r=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let h=this.value[a],u=this.from[a]+e,c=this.to[a]+e,d,f;if(u==c){let m=t.mapPos(u,h.startSide,h.mapMode);if(m==null||(d=f=m,h.startSide!=h.endSide&&(f=t.mapPos(u,h.endSide),f<d)))continue}else if(d=t.mapPos(u,h.startSide),f=t.mapPos(c,h.endSide),d>f||d==f&&h.startSide>0&&h.endSide<=0)continue;(f-d||h.endSide-h.startSide)<0||(o<0&&(o=d),h.point&&(l=Math.max(l,f-d)),s.push(h),n.push(d-o),r.push(f-o))}return{mapped:s.length?new _h(n,r,s,l):null,pos:o}}}class Ee{constructor(e,t,s,n){this.chunkPos=e,this.chunk=t,this.nextLayer=s,this.maxPoint=n}static create(e,t,s,n){return new Ee(e,t,s,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:s=!1,filterFrom:n=0,filterTo:r=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(s&&(t=t.slice().sort(Aa)),this.isEmpty)return t.length?Ee.of(t):this;let l=new Gm(this,null,-1).goto(0),a=0,h=[],u=new Qs;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let c=t[a++];u.addInner(c.from,c.to,c.value)||h.push(c)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!o||n>this.chunkEnd(l.chunkIndex)||r<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||n>l.to||r<l.from||o(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||h.push($a.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!h.length?Ee.empty:this.nextLayer.update({add:h,filter:o,filterFrom:n,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],s=[],n=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],h=e.touchesRange(l,l+a.length);if(h===!1)n=Math.max(n,a.maxPoint),t.push(a),s.push(e.mapPos(l));else if(h===!0){let{mapped:u,pos:c}=a.map(l,e);u&&(n=Math.max(n,u.maxPoint),t.push(u),s.push(c))}}let r=this.nextLayer.map(e);return t.length==0?r:new Ee(s,t,r||Ee.empty,n)}between(e,t,s){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let r=this.chunkPos[n],o=this.chunk[n];if(t>=r&&e<=r+o.length&&o.between(r,e-r,t-r,s)===!1)return}this.nextLayer.between(e,t,s)}}iter(e=0){return er.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return er.from(e).goto(t)}static compare(e,t,s,n,r=-1){let o=e.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=r),l=t.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=r),a=hc(o,l,s),h=new kn(o,a,r),u=new kn(l,a,r);s.iterGaps((c,d,f)=>uc(h,c,u,d,f,n)),s.empty&&s.length==0&&uc(h,0,u,0,0,n)}static eq(e,t,s=0,n){n==null&&(n=999999999);let r=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let l=hc(r,o),a=new kn(r,l,0).goto(s),h=new kn(o,l,0).goto(s);for(;;){if(a.to!=h.to||!Ra(a.active,h.active)||a.point&&(!h.point||!a.point.eq(h.point)))return!1;if(a.to>n)return!0;a.next(),h.next()}}static spans(e,t,s,n,r=-1){let o=new kn(e,null,r).goto(t),l=t,a=o.openStart;for(;;){let h=Math.min(o.to,s);if(o.point){let u=o.activeForPoint(o.to),c=o.pointFrom<t?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,a);n.point(l,h,o.point,u,c,o.pointRank),a=Math.min(o.openEnd(h),u.length)}else h>l&&(n.span(l,h,o.active,a),a=o.openEnd(h));if(o.to>s)return a+(o.point&&o.to>s?1:0);l=o.to,o.next()}}static of(e,t=!1){let s=new Qs;for(let n of e instanceof $a?[e]:t?Hw(e):e)s.add(n.from,n.to,n.value);return s.finish()}static join(e){if(!e.length)return Ee.empty;let t=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let n=e[s];n!=Ee.empty;n=n.nextLayer)t=new Ee(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}Ee.empty=new Ee([],[],null,-1);function Hw(i){if(i.length>1)for(let e=i[0],t=1;t<i.length;t++){let s=i[t];if(Aa(e,s)>0)return i.slice().sort(Aa);e=s}return i}Ee.empty.nextLayer=Ee.empty;class Qs{finishChunk(e){this.chunks.push(new _h(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,s){this.addInner(e,t,s)||(this.nextLayer||(this.nextLayer=new Qs)).add(e,t,s)}addInner(e,t,s){let n=e-this.lastTo||s.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=t,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let s=t.value.length-1;return this.last=t.value[s],this.lastFrom=t.from[s]+e,this.lastTo=t.to[s]+e,!0}finish(){return this.finishInner(Ee.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ee.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function hc(i,e,t){let s=new Map;for(let r of i)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&s.set(r.chunk[o],r.chunkPos[o]);let n=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let l=s.get(r.chunk[o]);l!=null&&(t?t.mapPos(l):l)==r.chunkPos[o]&&!(t!=null&&t.touchesRange(l,l+r.chunk[o].length))&&n.add(r.chunk[o])}return n}class Gm{constructor(e,t,s,n=0){this.layer=e,this.skip=t,this.minPoint=s,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,s){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!s||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],s=e+t.from[this.rangeIndex];if(this.from=s,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class er{constructor(e){this.heap=e}static from(e,t=null,s=-1){let n=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=s&&n.push(new Gm(o,t,s,r));return n.length==1?n[0]:new er(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let s of this.heap)s.goto(e,t);for(let s=this.heap.length>>1;s>=0;s--)vl(this.heap,s);return this.next(),this}forward(e,t){for(let s of this.heap)s.forward(e,t);for(let s=this.heap.length>>1;s>=0;s--)vl(this.heap,s);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),vl(this.heap,0)}}}function vl(i,e){for(let t=i[e];;){let s=(e<<1)+1;if(s>=i.length)break;let n=i[s];if(s+1<i.length&&n.compare(i[s+1])>=0&&(n=i[s+1],s++),t.compare(n)<0)break;i[s]=t,i[e]=n,e=s}}class kn{constructor(e,t,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=er.from(e,t,s)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Qr(this.active,e),Qr(this.activeTo,e),Qr(this.activeRank,e),this.minActive=cc(this.active,this.activeTo)}addActive(e){let t=0,{value:s,to:n,rank:r}=this.cursor;for(;t<this.activeRank.length&&(r-this.activeRank[t]||n-this.activeTo[t])>0;)t++;$r(this.active,t,s),$r(this.activeTo,t,n),$r(this.activeRank,t,r),e&&$r(e,t,this.cursor.from),this.minActive=cc(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),s&&Qr(s,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(s),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let n=s.length-1;n>=0&&s[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&t.push(this.active[s]);return t.reverse()}openEnd(e){let t=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)t++;return t}}function uc(i,e,t,s,n,r){i.goto(e),t.goto(s);let o=s+n,l=s,a=s-e;for(;;){let h=i.to+a-t.to,u=h||i.endSide-t.endSide,c=u<0?i.to+a:t.to,d=Math.min(c,o);if(i.point||t.point?i.point&&t.point&&(i.point==t.point||i.point.eq(t.point))&&Ra(i.activeForPoint(i.to),t.activeForPoint(t.to))||r.comparePoint(l,d,i.point,t.point):d>l&&!Ra(i.active,t.active)&&r.compareRange(l,d,i.active,t.active),c>o)break;(h||i.openEnd!=t.openEnd)&&r.boundChange&&r.boundChange(c),l=c,u<=0&&i.next(),u>=0&&t.next()}}function Ra(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!=e[t]&&!i[t].eq(e[t]))return!1;return!0}function Qr(i,e){for(let t=e,s=i.length-1;t<s;t++)i[t]=i[t+1];i.pop()}function $r(i,e,t){for(let s=i.length-1;s>=e;s--)i[s+1]=i[s];i[e]=t}function cc(i,e){let t=-1,s=1e9;for(let n=0;n<e.length;n++)(e[n]-s||i[n].endSide-i[t].endSide)<0&&(t=n,s=e[n]);return t}function Nh(i,e,t=i.length){let s=0;for(let n=0;n<t&&n<i.length;)i.charCodeAt(n)==9?(s+=e-s%e,n++):(s++,n=Gt(i,n));return s}function Ma(i,e,t,s){for(let n=0,r=0;;){if(r>=e)return n;if(n==i.length)break;r+=i.charCodeAt(n)==9?t-r%t:1,n=Gt(i,n)}return s===!0?-1:i.length}const Ta="",dc=typeof Symbol>"u"?"__"+Ta:Symbol.for(Ta),La=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ts{constructor(e,t){this.rules=[];let{finish:s}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function r(o,l,a,h){let u=[],c=/^@(\w+)\b/.exec(o[0]),d=c&&c[1]=="keyframes";if(c&&l==null)return a.push(o[0]+";");for(let f in l){let m=l[f];if(/&/.test(f))r(f.split(/,\s*/).map(g=>o.map(b=>g.replace(/&/,b))).reduce((g,b)=>g.concat(b)),m,a);else if(m&&typeof m=="object"){if(!c)throw new RangeError("The value of a property ("+f+") should be a primitive value.");r(n(f),m,u,d)}else m!=null&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||d)&&a.push((s&&!c&&!h?o.map(s):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)r(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=fc[dc]||1;return fc[dc]=e+1,Ta+e.toString(36)}static mount(e,t,s){let n=e[La],r=s&&s.nonce;n?r&&n.setNonce(r):n=new Kw(e,r),n.mount(Array.isArray(t)?t:[t],e)}}let mc=new Map;class Kw{constructor(e,t){let s=e.ownerDocument||e,n=s.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let r=mc.get(s);if(r)return e[La]=r;this.sheet=new n.CSSStyleSheet,mc.set(s,this)}else this.styleTag=s.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[La]=this}mount(e,t){let s=this.sheet,n=0,r=0;for(let o=0;o<e.length;o++){let l=e[o],a=this.modules.indexOf(l);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,l),s)for(let h=0;h<l.rules.length;h++)s.insertRule(l.rules[h],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=l.rules.length,r++}}if(s)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var is={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Jw=typeof navigator<"u"&&/Mac/.test(navigator.platform),eS=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var at=0;at<10;at++)is[48+at]=is[96+at]=String(at);for(var at=1;at<=24;at++)is[at+111]="F"+at;for(var at=65;at<=90;at++)is[at]=String.fromCharCode(at+32),tr[at]=String.fromCharCode(at);for(var xl in is)tr.hasOwnProperty(xl)||(tr[xl]=is[xl]);function tS(i){var e=Jw&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||eS&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?tr:is)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ut(){var i=arguments[0];typeof i=="string"&&(i=document.createElement(i));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=t[s];typeof n=="string"?i.setAttribute(s,n):n!=null&&(i[s]=n)}e++}for(;e<arguments.length;e++)Hm(i,arguments[e]);return i}function Hm(i,e){if(typeof e=="string")i.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)i.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Hm(i,e[t]);else throw new RangeError("Unsupported child node: "+e)}function ir(i){let e;return i.nodeType==11?e=i.getSelection?i:i.ownerDocument:e=i,e.getSelection()}function Ea(i,e){return e?i==e||i.contains(e.nodeType!=1?e.parentNode:e):!1}function io(i,e){if(!e.anchorNode)return!1;try{return Ea(i,e.anchorNode)}catch{return!1}}function sr(i){return i.nodeType==3?As(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function qn(i,e,t,s){return t?pc(i,e,t,s,-1)||pc(i,e,t,s,1):!1}function $s(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e}function vo(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}function pc(i,e,t,s,n){for(;;){if(i==t&&e==s)return!0;if(e==(n<0?0:Qi(i))){if(i.nodeName=="DIV")return!1;let r=i.parentNode;if(!r||r.nodeType!=1)return!1;e=$s(i)+(n<0?0:1),i=r}else if(i.nodeType==1){if(i=i.childNodes[e+(n<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;e=n<0?Qi(i):0}else return!1}}function Qi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function tl(i,e){let t=e?i.left:i.right;return{left:t,right:t,top:i.top,bottom:i.bottom}}function iS(i){let e=i.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function Km(i,e){let t=e.width/i.offsetWidth,s=e.height/i.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-i.offsetWidth)<1)&&(t=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(e.height-i.offsetHeight)<1)&&(s=1),{scaleX:t,scaleY:s}}function sS(i,e,t,s,n,r,o,l){let a=i.ownerDocument,h=a.defaultView||window;for(let u=i,c=!1;u&&!c;)if(u.nodeType==1){let d,f=u==a.body,m=1,g=1;if(f)d=iS(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(c=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let S=u.getBoundingClientRect();({scaleX:m,scaleY:g}=Km(u,S)),d={left:S.left,right:S.left+u.clientWidth*m,top:S.top,bottom:S.top+u.clientHeight*g}}let b=0,y=0;if(n=="nearest")e.top<d.top?(y=e.top-(d.top+o),t>0&&e.bottom>d.bottom+y&&(y=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(y=e.bottom-d.bottom+o,t<0&&e.top-y<d.top&&(y=e.top-(d.top+o)));else{let S=e.bottom-e.top,$=d.bottom-d.top;y=(n=="center"&&S<=$?e.top+S/2-$/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-$+o)-d.top}if(s=="nearest"?e.left<d.left?(b=e.left-(d.left+r),t>0&&e.right>d.right+b&&(b=e.right-d.right+r)):e.right>d.right&&(b=e.right-d.right+r,t<0&&e.left<d.left+b&&(b=e.left-(d.left+r))):b=(s=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:s=="start"==l?e.left-r:e.right-(d.right-d.left)+r)-d.left,b||y)if(f)h.scrollBy(b,y);else{let S=0,$=0;if(y){let v=u.scrollTop;u.scrollTop+=y/g,$=(u.scrollTop-v)*g}if(b){let v=u.scrollLeft;u.scrollLeft+=b/m,S=(u.scrollLeft-v)*m}e={left:e.left-S,top:e.top-$,right:e.right-S,bottom:e.bottom-$},S&&Math.abs(S-b)<1&&(s="nearest"),$&&Math.abs($-y)<1&&(n="nearest")}if(f)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function nS(i){let e=i.ownerDocument,t,s;for(let n=i.parentNode;n&&!(n==e.body||t&&s);)if(n.nodeType==1)!s&&n.scrollHeight>n.clientHeight&&(s=n),!t&&n.scrollWidth>n.clientWidth&&(t=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:t,y:s}}class rS{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:s}=e;this.set(t,Math.min(e.anchorOffset,t?Qi(t):0),s,Math.min(e.focusOffset,s?Qi(s):0))}set(e,t,s,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=s,this.focusOffset=n}}let Zs=null;function Jm(i){if(i.setActive)return i.setActive();if(Zs)return i.focus(Zs);let e=[];for(let t=i;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(i.focus(Zs==null?{get preventScroll(){return Zs={preventScroll:!0},!0}}:void 0),!Zs){Zs=!1;for(let t=0;t<e.length;){let s=e[t++],n=e[t++],r=e[t++];s.scrollTop!=n&&(s.scrollTop=n),s.scrollLeft!=r&&(s.scrollLeft=r)}}}let gc;function As(i,e,t=e){let s=gc||(gc=document.createRange());return s.setEnd(i,t),s.setStart(i,e),s}function en(i,e,t,s){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};s&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=s);let r=new KeyboardEvent("keydown",n);r.synthetic=!0,i.dispatchEvent(r);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,i.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function oS(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function ep(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function lS(i,e){let t=e.focusNode,s=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=s)return!1;for(s=Math.min(s,Qi(t));;)if(s){if(t.nodeType!=1)return!1;let n=t.childNodes[s-1];n.contentEditable=="false"?s--:(t=n,s=Qi(t))}else{if(t==i)return!0;s=$s(t),t=t.parentNode}}function tp(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}function ip(i,e){for(let t=i,s=e;;){if(t.nodeType==3&&s>0)return{node:t,offset:s};if(t.nodeType==1&&s>0){if(t.contentEditable=="false")return null;t=t.childNodes[s-1],s=Qi(t)}else if(t.parentNode&&!vo(t))s=$s(t),t=t.parentNode;else return null}}function sp(i,e){for(let t=i,s=e;;){if(t.nodeType==3&&s<t.nodeValue.length)return{node:t,offset:s};if(t.nodeType==1&&s<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[s],s=0}else if(t.parentNode&&!vo(t))s=$s(t)+1,t=t.parentNode;else return null}}class bt{constructor(e,t,s=!0){this.node=e,this.offset=t,this.precise=s}static before(e,t){return new bt(e.parentNode,$s(e),t)}static after(e,t){return new bt(e.parentNode,$s(e)+1,t)}}const Dh=[];class _e{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let s of this.children){if(s==e)return t;t+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let s=this.dom,n=null,r;for(let o of this.children){if(o.flags&7){if(!o.dom&&(r=n?n.nextSibling:s.firstChild)){let l=_e.get(r);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(r)}o.sync(e,t),o.flags&=-8}if(r=n?n.nextSibling:s.firstChild,t&&!t.written&&t.node==s&&r!=o.dom&&(t.written=!0),o.dom.parentNode==s)for(;r&&r!=o.dom;)r=Oc(r);else s.insertBefore(o.dom,r);n=o.dom}for(r=n?n.nextSibling:s.firstChild,r&&t&&t.node==s&&(t.written=!0);r;)r=Oc(r)}else if(this.flags&1)for(let s of this.children)s.flags&7&&(s.sync(e,t),s.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let s;if(e==this.dom)s=this.dom.childNodes[t];else{let n=Qi(e)==0?0:t==0?-1:1;for(;;){let r=e.parentNode;if(r==this.dom)break;n==0&&r.firstChild!=r.lastChild&&(e==r.firstChild?n=-1:n=1),e=r}n<0?s=e:s=e.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!_e.get(s);)s=s.nextSibling;if(!s)return this.length;for(let n=0,r=0;;n++){let o=this.children[n];if(o.dom==s)return r;r+=o.length+o.breakAfter}}domBoundsAround(e,t,s=0){let n=-1,r=-1,o=-1,l=-1;for(let a=0,h=s,u=s;a<this.children.length;a++){let c=this.children[a],d=h+c.length;if(h<e&&d>t)return c.domBoundsAround(e,t,h);if(d>=e&&n==-1&&(n=a,r=h),h>t&&c.dom.parentNode==this.dom){o=a,l=u;break}u=d,h=d+c.breakAfter}return{from:r,to:l<0?s+this.length:l,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,s=Dh){this.markDirty();for(let n=e;n<t;n++){let r=this.children[n];r.parent==this&&s.indexOf(r)<0&&r.destroy()}s.length<250?this.children.splice(e,t-e,...s):this.children=[].concat(this.children.slice(0,e),s,this.children.slice(t));for(let n=0;n<s.length;n++)s[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new np(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,s,n,r,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}_e.prototype.breakAfter=0;function Oc(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class np{constructor(e,t,s){this.children=e,this.pos=t,this.i=s,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function rp(i,e,t,s,n,r,o,l,a){let{children:h}=i,u=h.length?h[e]:null,c=r.length?r[r.length-1]:null,d=c?c.breakAfter:o;if(!(e==s&&u&&!o&&!d&&r.length<2&&u.merge(t,n,r.length?c:null,t==0,l,a))){if(s<h.length){let f=h[s];f&&(n<f.length||f.breakAfter&&(c!=null&&c.breakAfter))?(e==s&&(f=f.split(n),n=0),!d&&c&&f.merge(0,n,c,!0,0,a)?r[r.length-1]=f:((n||f.children.length&&!f.children[0].length)&&f.merge(0,n,null,!1,0,a),r.push(f))):f!=null&&f.breakAfter&&(c?c.breakAfter=1:o=1),s++}for(u&&(u.breakAfter=o,t>0&&(!o&&r.length&&u.merge(t,u.length,r[0],!1,l,0)?u.breakAfter=r.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,l,0),e++));e<s&&r.length;)if(h[s-1].become(r[r.length-1]))s--,r.pop(),a=r.length?0:l;else if(h[e].become(r[0]))e++,r.shift(),l=r.length?0:a;else break;!r.length&&e&&s<h.length&&!h[e-1].breakAfter&&h[s].merge(0,0,h[e-1],!1,l,a)&&e--,(e<s||r.length)&&i.replaceChildren(e,s,r)}}function op(i,e,t,s,n,r){let o=i.childCursor(),{i:l,off:a}=o.findPos(t,1),{i:h,off:u}=o.findPos(e,-1),c=e-t;for(let d of s)c+=d.length;i.length+=c,rp(i,h,u,l,a,s,0,n,r)}let Mt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Za=typeof document<"u"?document:{documentElement:{style:{}}};const Ia=/Edge\/(\d+)/.exec(Mt.userAgent),lp=/MSIE \d/.test(Mt.userAgent),Ba=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mt.userAgent),il=!!(lp||Ba||Ia),yc=!il&&/gecko\/(\d+)/i.test(Mt.userAgent),Cl=!il&&/Chrome\/(\d+)/.exec(Mt.userAgent),bc="webkitFontSmoothing"in Za.documentElement.style,ap=!il&&/Apple Computer/.test(Mt.vendor),wc=ap&&(/Mobile\/\w+/.test(Mt.userAgent)||Mt.maxTouchPoints>2);var ie={mac:wc||/Mac/.test(Mt.platform),windows:/Win/.test(Mt.platform),linux:/Linux|X11/.test(Mt.platform),ie:il,ie_version:lp?Za.documentMode||6:Ba?+Ba[1]:Ia?+Ia[1]:0,gecko:yc,gecko_version:yc?+(/Firefox\/(\d+)/.exec(Mt.userAgent)||[0,0])[1]:0,chrome:!!Cl,chrome_version:Cl?+Cl[1]:0,ios:wc,android:/Android\b/.test(Mt.userAgent),webkit:bc,safari:ap,webkit_version:bc?+(/\bAppleWebKit\/(\d+)/.exec(Mt.userAgent)||[0,0])[1]:0,tabSize:Za.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const aS=256;class li extends _e{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,s){return this.flags&8||s&&(!(s instanceof li)||this.length-(t-e)+s.length>aS||s.flags&8)?!1:(this.text=this.text.slice(0,e)+(s?s.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new li(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new bt(this.dom,e)}domBoundsAround(e,t,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return hS(this.dom,e,t)}}class Ii extends _e{constructor(e,t=[],s=0){super(),this.mark=e,this.children=t,this.length=s;for(let n of t)n.setParent(this)}setAttrs(e){if(ep(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,s,n,r,o){return s&&(!(s instanceof Ii&&s.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0)?!1:(op(this,e,t,s?s.children.slice():[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],s=0,n=-1,r=0;for(let l of this.children){let a=s+l.length;a>e&&t.push(s<e?l.split(e-s):l),n<0&&s>=e&&(n=r),s=a,r++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Ii(this.mark,t,o)}domAtPos(e){return hp(this,e)}coordsAt(e,t){return cp(this,e,t)}}function hS(i,e,t){let s=i.nodeValue.length;e>s&&(e=s);let n=e,r=e,o=0;e==0&&t<0||e==s&&t>=0?ie.chrome||ie.gecko||(e?(n--,o=1):r<s&&(r++,o=-1)):t<0?n--:r<s&&r++;let l=As(i,n,r).getClientRects();if(!l.length)return null;let a=l[(o?o<0:t>=0)?0:l.length-1];return ie.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,h=>h.width)||a),o?tl(a,o<0):a||null}class ys extends _e{static create(e,t,s){return new ys(e,t,s)}constructor(e,t,s){super(),this.widget=e,this.length=t,this.side=s,this.prevWidget=null}split(e){let t=ys.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,s,n,r,o){return s&&(!(s instanceof ys)||!this.widget.compare(s.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-t),!0)}become(e){return e instanceof ys&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ae.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,s=t&&t.state.doc,n=this.posAtStart;return s?s.slice(n,n+this.length):Ae.empty}domAtPos(e){return(this.length?e==0:this.side>0)?bt.before(this.dom):bt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let s=this.widget.coordsAt(this.dom,e,t);if(s)return s;let n=this.dom.getClientRects(),r=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?n.length-1:0;r=n[l],!(e>0?l==0:l==n.length-1||r.top<r.bottom);l+=o?-1:1);return tl(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class an extends _e{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof an&&e.side==this.side}split(){return new an(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?bt.before(this.dom):bt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ae.empty}get isHidden(){return!0}}li.prototype.children=ys.prototype.children=an.prototype.children=Dh;function hp(i,e){let t=i.dom,{children:s}=i,n=0;for(let r=0;n<s.length;n++){let o=s[n],l=r+o.length;if(!(l==r&&o.getSide()<=0)){if(e>r&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-r);if(e<=r)break;r=l}}for(let r=n;r>0;r--){let o=s[r-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let r=n;r<s.length;r++){let o=s[r];if(o.dom.parentNode==t)return o.domAtPos(0)}return new bt(t,0)}function up(i,e,t){let s,{children:n}=i;t>0&&e instanceof Ii&&n.length&&(s=n[n.length-1])instanceof Ii&&s.mark.eq(e.mark)?up(s,e.children[0],t-1):(n.push(e),e.setParent(i)),i.length+=e.length}function cp(i,e,t){let s=null,n=-1,r=null,o=-1;function l(h,u){for(let c=0,d=0;c<h.children.length&&d<=u;c++){let f=h.children[c],m=d+f.length;m>=u&&(f.children.length?l(f,u-d):(!r||r.isHidden&&(t>0||cS(r,f)))&&(m>u||d==m&&f.getSide()>0)?(r=f,o=u-d):(d<u||d==m&&f.getSide()<0&&!f.isHidden)&&(s=f,n=u-d)),d=m}}l(i,e);let a=(t<0?s:r)||s||r;return a?a.coordsAt(Math.max(0,a==s?n:o),t):uS(i)}function uS(i){let e=i.dom.lastChild;if(!e)return i.dom.getBoundingClientRect();let t=sr(e);return t[t.length-1]||null}function cS(i,e){let t=i.coordsAt(0,1),s=e.coordsAt(0,1);return t&&s&&s.top<t.bottom}function za(i,e){for(let t in i)t=="class"&&e.class?e.class+=" "+i.class:t=="style"&&e.style?e.style+=";"+i.style:e[t]=i[t];return e}const Sc=Object.create(null);function xo(i,e,t){if(i==e)return!0;i||(i=Sc),e||(e=Sc);let s=Object.keys(i),n=Object.keys(e);if(s.length-(t&&s.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let r of s)if(r!=t&&(n.indexOf(r)==-1||i[r]!==e[r]))return!1;return!0}function _a(i,e,t){let s=!1;if(e)for(let n in e)t&&n in t||(s=!0,n=="style"?i.style.cssText="":i.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(s=!0,n=="style"?i.style.cssText=t[n]:i.setAttribute(n,t[n]));return s}function dS(i){let e=Object.create(null);for(let t=0;t<i.attributes.length;t++){let s=i.attributes[t];e[s.name]=s.value}return e}class sl{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ct=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(Ct||(Ct={}));class ye extends Ps{constructor(e,t,s,n){super(),this.startSide=e,this.endSide=t,this.widget=s,this.spec=n}get heightRelevant(){return!1}static mark(e){return new pr(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),s=!!e.block;return t+=s&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ss(e,t,t,s,e.widget||null,!1)}static replace(e){let t=!!e.block,s,n;if(e.isBlockGap)s=-5e8,n=4e8;else{let{start:r,end:o}=dp(e,t);s=(r?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new ss(e,s,n,t,e.widget||null,!0)}static line(e){return new gr(e)}static set(e,t=!1){return Ee.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=Ee.empty;class pr extends ye{constructor(e){let{start:t,end:s}=dp(e);super(t?-1:5e8,s?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,s;return this==e||e instanceof pr&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((s=e.attrs)===null||s===void 0?void 0:s.class))&&xo(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}pr.prototype.point=!1;class gr extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof gr&&this.spec.class==e.spec.class&&xo(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}gr.prototype.mapMode=yt.TrackBefore;gr.prototype.point=!0;class ss extends ye{constructor(e,t,s,n,r,o){super(t,s,r,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?yt.TrackBefore:yt.TrackAfter:yt.TrackDel}get type(){return this.startSide!=this.endSide?Ct.WidgetRange:this.startSide<=0?Ct.WidgetBefore:Ct.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ss&&fS(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ss.prototype.point=!0;function dp(i,e=!1){let{inclusiveStart:t,inclusiveEnd:s}=i;return t==null&&(t=i.inclusive),s==null&&(s=i.inclusive),{start:t??e,end:s??e}}function fS(i,e){return i==e||!!(i&&e&&i.compare(e))}function so(i,e,t,s=0){let n=t.length-1;n>=0&&t[n]+s>=i?t[n]=Math.max(t[n],e):t.push(i,e)}class He extends _e{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,s,n,r,o){if(s){if(!(s instanceof He))return!1;this.dom||s.transferDOM(this)}return n&&this.setDeco(s?s.attrs:null),op(this,e,t,s?s.children.slice():[],r,o),!0}split(e){let t=new He;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:s,off:n}=this.childPos(e);n&&(t.append(this.children[s].split(n),0),this.children[s].merge(n,this.children[s].length,null,!1,0,0),s++);for(let r=s;r<this.children.length;r++)t.append(this.children[r],0);for(;s>0&&this.children[s-1].length==0;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){xo(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){up(this,e,t)}addLineDeco(e){let t=e.spec.attributes,s=e.spec.class;t&&(this.attrs=za(t,this.attrs||{})),s&&(this.attrs=za({class:s},this.attrs||{}))}domAtPos(e){return hp(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var s;this.dom?this.flags&4&&(ep(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(_a(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&_e.get(n)instanceof Ii;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((s=_e.get(n))===null||s===void 0?void 0:s.isEditable)==!1&&(!ie.ios||!this.children.some(r=>r instanceof li))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let s of this.children){if(!(s instanceof li)||/[^ -~]/.test(s.text))return null;let n=sr(s.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let s=cp(this,e,t);if(!this.children.length&&s&&this.parent){let{heightOracle:n}=this.parent.view.viewState,r=s.bottom-s.top;if(Math.abs(r-n.lineHeight)<2&&n.textHeight<r){let o=(r-n.textHeight)/2;return{top:s.top+o,bottom:s.bottom-o,left:s.left,right:s.left}}}return s}become(e){return e instanceof He&&this.children.length==0&&e.children.length==0&&xo(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let s=0,n=0;s<e.children.length;s++){let r=e.children[s],o=n+r.length;if(o>=t){if(r instanceof He)return r;if(o>t)break}n=o+r.breakAfter}return null}}class Zi extends _e{constructor(e,t,s){super(),this.widget=e,this.length=t,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(e,t,s,n,r,o){return s&&(!(s instanceof Zi)||!this.widget.compare(s.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?bt.before(this.dom):bt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let s=new Zi(this.widget,t,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return Dh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ae.empty}domBoundsAround(){return null}become(e){return e instanceof Zi&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let s=this.widget.coordsAt(this.dom,e,t);return s||(this.widget instanceof Na?null:tl(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:s}=this.deco;return t==s?!1:e<0?t<0:s>0}}class Na extends sl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Vn{constructor(e,t,s,n){this.doc=e,this.pos=t,this.end=s,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Zi&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new He),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ar(new an(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Zi)&&this.getLine()}buildText(e,t,s){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-s)),this.getLine().append(Ar(new li(this.text.slice(this.textOff,this.textOff+n)),t),s),this.atCursorPos=!0,this.textOff+=n,e-=n,s=0}}span(e,t,s,n){this.buildText(t-e,s,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,s,n,r,o){if(this.disallowBlockEffectsFor[o]&&s instanceof ss){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(s instanceof ss)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Zi(s.widget||hn.block,l,s));else{let a=ys.create(s.widget||hn.inline,l,l?0:s.startSide),h=this.atCursorPos&&!a.isEditable&&r<=n.length&&(e<t||s.startSide>0),u=!a.isEditable&&(e<t||r>n.length||s.startSide<=0),c=this.getLine();this.pendingBuffer==2&&!h&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),h&&(c.append(Ar(new an(1),n),r),r=n.length+Math.max(0,r-n.length)),c.append(Ar(a,n),r),this.atCursorPos=u,this.pendingBuffer=u?e<t||r>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,s,n,r){let o=new Vn(e,t,s,r);return o.openEnd=Ee.spans(n,t,s,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Ar(i,e){for(let t of e)i=new Ii(t,[i],i.length);return i}class hn extends sl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}hn.inline=new hn("span");hn.block=new hn("div");var We=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(We||(We={}));const Rs=We.LTR,Xh=We.RTL;function fp(i){let e=[];for(let t=0;t<i.length;t++)e.push(1<<+i[t]);return e}const mS=fp("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),pS=fp("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Da=Object.create(null),di=[];for(let i of["()","[]","{}"]){let e=i.charCodeAt(0),t=i.charCodeAt(1);Da[e]=t,Da[t]=-e}function mp(i){return i<=247?mS[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?pS[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const gS=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Hi{get dir(){return this.level%2?Xh:Rs}constructor(e,t,s){this.from=e,this.to=t,this.level=s}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,s,n){let r=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==s)return o;(r<0||(n!=0?n<0?l.from<t:l.to>t:e[r].level>l.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function pp(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++){let s=i[t],n=e[t];if(s.from!=n.from||s.to!=n.to||s.direction!=n.direction||!pp(s.inner,n.inner))return!1}return!0}const Be=[];function OS(i,e,t,s,n){for(let r=0;r<=s.length;r++){let o=r?s[r-1].to:e,l=r<s.length?s[r].from:t,a=r?256:n;for(let h=o,u=a,c=a;h<l;h++){let d=mp(i.charCodeAt(h));d==512?d=u:d==8&&c==4&&(d=16),Be[h]=d==4?2:d,d&7&&(c=d),u=d}for(let h=o,u=a,c=a;h<l;h++){let d=Be[h];if(d==128)h<l-1&&u==Be[h+1]&&u&24?d=Be[h]=u:Be[h]=256;else if(d==64){let f=h+1;for(;f<l&&Be[f]==64;)f++;let m=h&&u==8||f<t&&Be[f]==8?c==1?1:8:256;for(let g=h;g<f;g++)Be[g]=m;h=f-1}else d==8&&c==1&&(Be[h]=1);u=d,d&7&&(c=d)}}}function yS(i,e,t,s,n){let r=n==1?2:1;for(let o=0,l=0,a=0;o<=s.length;o++){let h=o?s[o-1].to:e,u=o<s.length?s[o].from:t;for(let c=h,d,f,m;c<u;c++)if(f=Da[d=i.charCodeAt(c)])if(f<0){for(let g=l-3;g>=0;g-=3)if(di[g+1]==-f){let b=di[g+2],y=b&2?n:b&4?b&1?r:n:0;y&&(Be[c]=Be[di[g]]=y),l=g;break}}else{if(di.length==189)break;di[l++]=c,di[l++]=d,di[l++]=a}else if((m=Be[c])==2||m==1){let g=m==n;a=g?0:1;for(let b=l-3;b>=0;b-=3){let y=di[b+2];if(y&2)break;if(g)di[b+2]|=2;else{if(y&4)break;di[b+2]|=4}}}}}function bS(i,e,t,s){for(let n=0,r=s;n<=t.length;n++){let o=n?t[n-1].to:i,l=n<t.length?t[n].from:e;for(let a=o;a<l;){let h=Be[a];if(h==256){let u=a+1;for(;;)if(u==l){if(n==t.length)break;u=t[n++].to,l=n<t.length?t[n].from:e}else if(Be[u]==256)u++;else break;let c=r==1,d=(u<e?Be[u]:s)==1,f=c==d?c?1:2:s;for(let m=u,g=n,b=g?t[g-1].to:i;m>a;)m==b&&(m=t[--g].from,b=g?t[g-1].to:i),Be[--m]=f;a=u}else r=h,a++}}}function Xa(i,e,t,s,n,r,o){let l=s%2?2:1;if(s%2==n%2)for(let a=e,h=0;a<t;){let u=!0,c=!1;if(h==r.length||a<r[h].from){let g=Be[a];g!=l&&(u=!1,c=g==16)}let d=!u&&l==1?[]:null,f=u?s:s+1,m=a;e:for(;;)if(h<r.length&&m==r[h].from){if(c)break e;let g=r[h];if(!u)for(let b=g.to,y=h+1;;){if(b==t)break e;if(y<r.length&&r[y].from==b)b=r[y++].to;else{if(Be[b]==l)break e;break}}if(h++,d)d.push(g);else{g.from>a&&o.push(new Hi(a,g.from,f));let b=g.direction==Rs!=!(f%2);qa(i,b?s+1:s,n,g.inner,g.from,g.to,o),a=g.to}m=g.to}else{if(m==t||(u?Be[m]!=l:Be[m]==l))break;m++}d?Xa(i,a,m,s+1,n,d,o):a<m&&o.push(new Hi(a,m,f)),a=m}else for(let a=t,h=r.length;a>e;){let u=!0,c=!1;if(!h||a>r[h-1].to){let g=Be[a-1];g!=l&&(u=!1,c=g==16)}let d=!u&&l==1?[]:null,f=u?s:s+1,m=a;e:for(;;)if(h&&m==r[h-1].to){if(c)break e;let g=r[--h];if(!u)for(let b=g.from,y=h;;){if(b==e)break e;if(y&&r[y-1].to==b)b=r[--y].from;else{if(Be[b-1]==l)break e;break}}if(d)d.push(g);else{g.to<a&&o.push(new Hi(g.to,a,f));let b=g.direction==Rs!=!(f%2);qa(i,b?s+1:s,n,g.inner,g.from,g.to,o),a=g.from}m=g.from}else{if(m==e||(u?Be[m-1]!=l:Be[m-1]==l))break;m--}d?Xa(i,m,a,s+1,n,d,o):m<a&&o.push(new Hi(m,a,f)),a=m}}function qa(i,e,t,s,n,r,o){let l=e%2?2:1;OS(i,n,r,s,l),yS(i,n,r,s,l),bS(n,r,s,l),Xa(i,n,r,e,t,s,o)}function wS(i,e,t){if(!i)return[new Hi(0,0,e==Xh?1:0)];if(e==Rs&&!t.length&&!gS.test(i))return gp(i.length);if(t.length)for(;i.length>Be.length;)Be[Be.length]=256;let s=[],n=e==Rs?0:1;return qa(i,n,n,t,0,i.length,s),s}function gp(i){return[new Hi(0,i,0)]}let Op="";function SS(i,e,t,s,n){var r;let o=s.head-i.from,l=Hi.find(e,o,(r=s.bidiLevel)!==null&&r!==void 0?r:-1,s.assoc),a=e[l],h=a.side(n,t);if(o==h){let d=l+=n?1:-1;if(d<0||d>=e.length)return null;a=e[l=d],o=a.side(!n,t),h=a.side(n,t)}let u=Gt(i.text,o,a.forward(n,t));(u<a.from||u>a.to)&&(u=h),Op=i.text.slice(Math.min(o,u),Math.max(o,u));let c=l==(n?e.length-1:0)?null:e[l+(n?1:-1)];return c&&u==h&&c.level+(n?0:1)<a.level?U.cursor(c.side(!n,t)+i.from,c.forward(n,t)?1:-1,c.level):U.cursor(u+i.from,a.forward(n,t)?-1:1,a.level)}function kS(i,e,t){for(let s=e;s<t;s++){let n=mp(i.charCodeAt(s));if(n==1)return Rs;if(n==2||n==4)return Xh}return Rs}const yp=ne.define(),bp=ne.define(),wp=ne.define(),Sp=ne.define(),Va=ne.define(),kp=ne.define(),vp=ne.define(),qh=ne.define(),Vh=ne.define(),xp=ne.define({combine:i=>i.some(e=>e)}),Cp=ne.define({combine:i=>i.some(e=>e)}),Pp=ne.define();class tn{constructor(e,t="nearest",s="nearest",n=5,r=5,o=!1){this.range=e,this.y=t,this.x=s,this.yMargin=n,this.xMargin=r,this.isSnapshot=o}map(e){return e.empty?this:new tn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new tn(U.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Rr=we.define({map:(i,e)=>i.map(e)}),Qp=we.define();function qt(i,e,t){let s=i.facet(Sp);s.length?s[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Li=ne.define({combine:i=>i.length?i[0]:!0});let vS=0;const Xs=ne.define({combine(i){return i.filter((e,t)=>{for(let s=0;s<t;s++)if(i[s].plugin==e.plugin)return!1;return!0})}});class ct{constructor(e,t,s,n,r){this.id=e,this.create=t,this.domEventHandlers=s,this.domEventObservers=n,this.baseExtensions=r(this),this.extension=this.baseExtensions.concat(Xs.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Xs.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:s,eventObservers:n,provide:r,decorations:o}=t||{};return new ct(vS++,e,s,n,l=>{let a=[];return o&&a.push(nr.of(h=>{let u=h.plugin(l);return u?o(u):ye.none})),r&&a.push(r(l)),a})}static fromClass(e,t){return ct.define((s,n)=>new e(s,n),t)}}class Pl{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(s){if(qt(t.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){qt(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(s){qt(e.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $p=ne.define(),jh=ne.define(),nr=ne.define(),Ap=ne.define(),Wh=ne.define(),Rp=ne.define();function kc(i,e){let t=i.state.facet(Rp);if(!t.length)return t;let s=t.map(r=>r instanceof Function?r(i):r),n=[];return Ee.spans(s,e.from,e.to,{point(){},span(r,o,l,a){let h=r-e.from,u=o-e.from,c=n;for(let d=l.length-1;d>=0;d--,a--){let f=l[d].spec.bidiIsolate,m;if(f==null&&(f=kS(e.text,h,u)),a>0&&c.length&&(m=c[c.length-1]).to==h&&m.direction==f)m.to=u,c=m.inner;else{let g={from:h,to:u,direction:f,inner:[]};c.push(g),c=g.inner}}}}),n}const Mp=ne.define();function Yh(i){let e=0,t=0,s=0,n=0;for(let r of i.state.facet(Mp)){let o=r(i);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(s=Math.max(s,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:t,top:s,bottom:n}}const An=ne.define();class ei{constructor(e,t,s,n){this.fromA=e,this.toA=t,this.fromB=s,this.toB=n}join(e){return new ei(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,s=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>s.toA)){if(n.toA<s.fromA)break;s=s.join(n),e.splice(t-1,1)}}return e.splice(t,0,s),e}static extendWithRanges(e,t){if(t.length==0)return e;let s=[];for(let n=0,r=0,o=0,l=0;;n++){let a=n==e.length?null:e[n],h=o-l,u=a?a.fromB:1e9;for(;r<t.length&&t[r]<u;){let c=t[r],d=t[r+1],f=Math.max(l,c),m=Math.min(u,d);if(f<=m&&new ei(f+h,m+h,f,m).addToSet(s),d>u)break;r+=2}if(!a)return s;new ei(a.fromA,a.toA,a.fromB,a.toB).addToSet(s),o=a.toA,l=a.toB}}}class Co{constructor(e,t,s){this.view=e,this.state=t,this.transactions=s,this.flags=0,this.startState=e.state,this.changes=et.empty(this.startState.doc.length);for(let r of s)this.changes=this.changes.compose(r.changes);let n=[];this.changes.iterChangedRanges((r,o,l,a)=>n.push(new ei(r,o,l,a))),this.changedRanges=n}static create(e,t,s){return new Co(e,t,s)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vc extends _e{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new He],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ei(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let s=e.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:h,toA:u})=>u<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!RS(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let r=n>-1?CS(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:u}=this.hasComposition;s=new ei(h,u,e.changes.mapPos(h,-1),e.changes.mapPos(u,1)).addToSet(s.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(ie.ie||ie.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),a=$S(o,l,e.changes);return s=ei.extendWithRanges(s,a),!(this.flags&7)&&s.length==0?!1:(this.updateInner(s,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,s);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ie.chrome||ie.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Zi&&o.widget instanceof Na&&r.push(o.dom);n.updateGaps(r)}updateChildren(e,t,s){let n=s?s.range.addToSet(e.slice()):e,r=this.childCursor(t);for(let o=n.length-1;;o--){let l=o>=0?n[o]:null;if(!l)break;let{fromA:a,toA:h,fromB:u,toB:c}=l,d,f,m,g;if(s&&s.range.fromB<c&&s.range.toB>u){let v=Vn.build(this.view.state.doc,u,s.range.fromB,this.decorations,this.dynamicDecorationMap),P=Vn.build(this.view.state.doc,s.range.toB,c,this.decorations,this.dynamicDecorationMap);f=v.breakAtStart,m=v.openStart,g=P.openEnd;let M=this.compositionView(s);P.breakAtStart?M.breakAfter=1:P.content.length&&M.merge(M.length,M.length,P.content[0],!1,P.openStart,0)&&(M.breakAfter=P.content[0].breakAfter,P.content.shift()),v.content.length&&M.merge(0,0,v.content[v.content.length-1],!0,0,v.openEnd)&&v.content.pop(),d=v.content.concat(M).concat(P.content)}else({content:d,breakAtStart:f,openStart:m,openEnd:g}=Vn.build(this.view.state.doc,u,c,this.decorations,this.dynamicDecorationMap));let{i:b,off:y}=r.findPos(h,1),{i:S,off:$}=r.findPos(a,-1);rp(this,S,$,b,y,d,f,m,g)}s&&this.fixCompositionDOM(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let s of t.effects)s.is(Qp)&&(this.editContextFormatting=s.value)}compositionView(e){let t=new li(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Ii(n,[t],t.length);let s=new He;return s.append(t,0),s}fixCompositionDOM(e){let t=(r,o)=>{o.flags|=8|(o.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(o);let l=_e.get(r);l&&l!=o&&(l.dom=null),o.setDOM(r)},s=this.childPos(e.range.fromB,1),n=this.children[s.i];t(e.line,n);for(let r=e.marks.length-1;r>=-1;r--)s=n.childPos(s.off,1),n=n.children[s.i],t(r>=0?e.marks[r].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,n=s==this.dom,r=!n&&!(this.view.state.facet(Li)||this.dom.tabIndex>-1)&&io(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(n||t||r))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),h=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(ie.gecko&&l.empty&&!this.hasComposition&&xS(a)){let c=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(c,a.node.childNodes[a.offset]||null)),a=h=new bt(c,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!qn(a.node,a.offset,u.anchorNode,u.anchorOffset)||!qn(h.node,h.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,l))&&(this.view.observer.ignore(()=>{ie.android&&ie.chrome&&this.dom.contains(u.focusNode)&&AS(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let c=ir(this.view.root);if(c)if(l.empty){if(ie.gecko){let d=PS(a.node,a.offset);if(d&&d!=3){let f=(d==1?ip:sp)(a.node,a.offset);f&&(a=new bt(f.node,f.offset))}}c.collapse(a.node,a.offset),l.bidiLevel!=null&&c.caretBidiLevel!==void 0&&(c.caretBidiLevel=l.bidiLevel)}else if(c.extend){c.collapse(a.node,a.offset);try{c.extend(h.node,h.offset)}catch{}}else{let d=document.createRange();l.anchor>l.head&&([a,h]=[h,a]),d.setEnd(h.node,h.offset),d.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(d)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(a,h)),this.impreciseAnchor=a.precise?null:new bt(u.anchorNode,u.anchorOffset),this.impreciseHead=h.precise?null:new bt(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&qn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,s=ir(e.root),{anchorNode:n,anchorOffset:r}=e.observer.selectionRange;if(!s||!t.empty||!t.assoc||!s.modify)return;let o=He.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let a=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!a||!h||a.bottom>h.top)return;let u=this.domAtPos(t.head+t.assoc);s.collapse(u.node,u.offset),s.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let c=e.observer.selectionRange;e.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=t.from&&s.collapse(n,r)}moveToLine(e){let t=this.dom,s;if(e.node!=t)return e;for(let n=e.offset;!s&&n<t.childNodes.length;n++){let r=_e.get(t.childNodes[n]);r instanceof He&&(s=r.domAtPos(0))}for(let n=e.offset-1;!s&&n>=0;n--){let r=_e.get(t.childNodes[n]);r instanceof He&&(s=r.domAtPos(r.length))}return s?new bt(s.node,s.offset,!0):e}nearest(e){for(let t=e;t;){let s=_e.get(t);if(s&&s.rootView==this)return s;t=t.parentNode}return null}posFromDOM(e,t){let s=this.nearest(e);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(e,t)+s.posAtStart}domAtPos(e){let{i:t,off:s}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(s<n.length||n instanceof He)break;t++,s=0}return this.children[t].domAtPos(s)}coordsAt(e,t){let s=null,n=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],a=r-l.breakAfter,h=a-l.length;if(a<e)break;if(h<=e&&(h<e||l.covers(-1))&&(a>e||l.covers(1))&&(!s||l instanceof He&&!(s instanceof He&&t>=0)))s=l,n=h;else if(s&&h==e&&a==e&&l instanceof Zi&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(s=null)}r=h}return s?s.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:s}=this.childPos(e,1),n=this.children[t];if(!(n instanceof He))return null;for(;n.children.length;){let{i:l,off:a}=n.childPos(s,1);for(;;l++){if(l==n.children.length)return null;if((n=n.children[l]).length)break}s=a}if(!(n instanceof li))return null;let r=Gt(n.text,s);if(r==s)return null;let o=As(n.dom,s,r).getClientRects();for(let l=0;l<o.length;l++){let a=o[l];if(l==o.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let t=[],{from:s,to:n}=e,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==We.LTR;for(let h=0,u=0;u<this.children.length;u++){let c=this.children[u],d=h+c.length;if(d>n)break;if(h>=s){let f=c.dom.getBoundingClientRect();if(t.push(f.height),o){let m=c.dom.lastChild,g=m?sr(m):[];if(g.length){let b=g[g.length-1],y=a?b.right-f.left:f.right-b.left;y>l&&(l=y,this.minWidth=r,this.minWidthFrom=h,this.minWidthTo=d)}}}h=d+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?We.RTL:We.LTR}measureTextSize(){for(let r of this.children)if(r instanceof He){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,s,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=sr(e.firstChild)[0];t=e.getBoundingClientRect().height,s=r?r.width/27:7,n=r?r.height:t,e.remove()}),{lineHeight:t,charWidth:s,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new np(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let s=0,n=0;;n++){let r=n==t.viewports.length?null:t.viewports[n],o=r?r.from-1:this.length;if(o>s){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(s).top)/this.view.scaleY;e.push(ye.replace({widget:new Na(l),block:!0,inclusive:!0,isBlockGap:!0}).range(s,o))}if(!r)break;s=r.to+1}return ye.set(e)}updateDeco(){let e=1,t=this.view.state.facet(nr).map(r=>(this.dynamicDecorationMap[e++]=typeof r=="function")?r(this.view):r),s=!1,n=this.view.state.facet(Ap).map((r,o)=>{let l=typeof r=="function";return l&&(s=!0),l?r(this.view):r});for(n.length&&(this.dynamicDecorationMap[e++]=s,t.push(Ee.join(n))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(Pp))try{if(h(this.view,e.range,e))return!0}catch(u){qt(this.view.state,u,"scroll handler")}let{range:t}=e,s=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!s)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(s={left:Math.min(s.left,n.left),top:Math.min(s.top,n.top),right:Math.max(s.right,n.right),bottom:Math.max(s.bottom,n.bottom)});let r=Yh(this.view),o={left:s.left-r.left,top:s.top-r.top,right:s.right+r.right,bottom:s.bottom+r.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;sS(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==We.LTR)}}function xS(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}function Tp(i,e){let t=i.observer.selectionRange;if(!t.focusNode)return null;let s=ip(t.focusNode,t.focusOffset),n=sp(t.focusNode,t.focusOffset),r=s||n;if(n&&s&&n.node!=s.node){let l=_e.get(n.node);if(!l||l instanceof li&&l.text!=n.node.nodeValue)r=n;else if(i.docView.lastCompositionAfterCursor){let a=_e.get(s.node);!a||a instanceof li&&a.text!=s.node.nodeValue||(r=n)}}if(i.docView.lastCompositionAfterCursor=r!=s,!r)return null;let o=e-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function CS(i,e,t){let s=Tp(i,t);if(!s)return null;let{node:n,from:r,to:o}=s,l=n.nodeValue;if(/[\n\r]/.test(l)||i.state.doc.sliceString(s.from,s.to)!=l)return null;let a=e.invertedDesc,h=new ei(a.mapPos(r),a.mapPos(o),r,o),u=[];for(let c=n.parentNode;;c=c.parentNode){let d=_e.get(c);if(d instanceof Ii)u.push({node:c,deco:d.mark});else{if(d instanceof He||c.nodeName=="DIV"&&c.parentNode==i.contentDOM)return{range:h,text:n,marks:u,line:c};if(c!=i.contentDOM)u.push({node:c,deco:new pr({inclusive:!0,attributes:dS(c),tagName:c.tagName.toLowerCase()})});else return null}}}function PS(i,e){return i.nodeType!=1?0:(e&&i.childNodes[e-1].contentEditable=="false"?1:0)|(e<i.childNodes.length&&i.childNodes[e].contentEditable=="false"?2:0)}let QS=class{constructor(){this.changes=[]}compareRange(e,t){so(e,t,this.changes)}comparePoint(e,t){so(e,t,this.changes)}boundChange(e){so(e,e,this.changes)}};function $S(i,e,t){let s=new QS;return Ee.compare(i,e,t,s),s.changes}function AS(i,e){for(let t=i;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function RS(i,e){let t=!1;return e&&i.iterChangedRanges((s,n)=>{s<e.to&&n>e.from&&(t=!0)}),t}function MS(i,e,t=1){let s=i.charCategorizer(e),n=i.doc.lineAt(e),r=e-n.from;if(n.length==0)return U.cursor(e);r==0?t=1:r==n.length&&(t=-1);let o=r,l=r;t<0?o=Gt(n.text,r,!1):l=Gt(n.text,r);let a=s(n.text.slice(o,l));for(;o>0;){let h=Gt(n.text,o,!1);if(s(n.text.slice(h,o))!=a)break;o=h}for(;l<n.length;){let h=Gt(n.text,l);if(s(n.text.slice(l,h))!=a)break;l=h}return U.range(o+n.from,l+n.from)}function TS(i,e){return e.left>i?e.left-i:Math.max(0,i-e.right)}function LS(i,e){return e.top>i?e.top-i:Math.max(0,i-e.bottom)}function Ql(i,e){return i.top<e.bottom-1&&i.bottom>e.top+1}function xc(i,e){return e<i.top?{top:e,left:i.left,right:i.right,bottom:i.bottom}:i}function Cc(i,e){return e>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:e}:i}function ja(i,e,t){let s,n,r,o,l=!1,a,h,u,c;for(let m=i.firstChild;m;m=m.nextSibling){let g=sr(m);for(let b=0;b<g.length;b++){let y=g[b];n&&Ql(n,y)&&(y=xc(Cc(y,n.bottom),n.top));let S=TS(e,y),$=LS(t,y);if(S==0&&$==0)return m.nodeType==3?Pc(m,e,t):ja(m,e,t);(!s||o>$||o==$&&r>S)&&(s=m,n=y,r=S,o=$,l=S?e<y.left?b>0:b<g.length-1:!0),S==0?t>y.bottom&&(!u||u.bottom<y.bottom)?(a=m,u=y):t<y.top&&(!c||c.top>y.top)&&(h=m,c=y):u&&Ql(u,y)?u=Cc(u,y.bottom):c&&Ql(c,y)&&(c=xc(c,y.top))}}if(u&&u.bottom>=t?(s=a,n=u):c&&c.top<=t&&(s=h,n=c),!s)return{node:i,offset:0};let d=Math.max(n.left,Math.min(n.right,e));if(s.nodeType==3)return Pc(s,d,t);if(l&&s.contentEditable!="false")return ja(s,d,t);let f=Array.prototype.indexOf.call(i.childNodes,s)+(e>=(n.left+n.right)/2?1:0);return{node:i,offset:f}}function Pc(i,e,t){let s=i.nodeValue.length,n=-1,r=1e9,o=0;for(let l=0;l<s;l++){let a=As(i,l,l+1).getClientRects();for(let h=0;h<a.length;h++){let u=a[h];if(u.top==u.bottom)continue;o||(o=e-u.left);let c=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&c<r){let d=e>=(u.left+u.right)/2,f=d;if((ie.chrome||ie.gecko)&&As(i,l).getBoundingClientRect().left==u.right&&(f=!d),c<=0)return{node:i,offset:l+(f?1:0)};n=l+(f?1:0),r=c}}}return{node:i,offset:n>-1?n:o>0?i.nodeValue.length:0}}function Lp(i,e,t,s=-1){var n,r;let o=i.contentDOM.getBoundingClientRect(),l=o.top+i.viewState.paddingTop,a,{docHeight:h}=i.viewState,{x:u,y:c}=e,d=c-l;if(d<0)return 0;if(d>h)return i.state.doc.length;for(let v=i.viewState.heightOracle.textHeight/2,P=!1;a=i.elementAtHeight(d),a.type!=Ct.Text;)for(;d=s>0?a.bottom+v:a.top-v,!(d>=0&&d<=h);){if(P)return t?null:0;P=!0,s=-s}c=l+d;let f=a.from;if(f<i.viewport.from)return i.viewport.from==0?0:t?null:Qc(i,o,a,u,c);if(f>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:t?null:Qc(i,o,a,u,c);let m=i.dom.ownerDocument,g=i.root.elementFromPoint?i.root:m,b=g.elementFromPoint(u,c);b&&!i.contentDOM.contains(b)&&(b=null),b||(u=Math.max(o.left+1,Math.min(o.right-1,u)),b=g.elementFromPoint(u,c),b&&!i.contentDOM.contains(b)&&(b=null));let y,S=-1;if(b&&((n=i.docView.nearest(b))===null||n===void 0?void 0:n.isEditable)!=!1){if(m.caretPositionFromPoint){let v=m.caretPositionFromPoint(u,c);v&&({offsetNode:y,offset:S}=v)}else if(m.caretRangeFromPoint){let v=m.caretRangeFromPoint(u,c);v&&({startContainer:y,startOffset:S}=v,(!i.contentDOM.contains(y)||ie.safari&&ES(y,S,u)||ie.chrome&&ZS(y,S,u))&&(y=void 0))}y&&(S=Math.min(Qi(y),S))}if(!y||!i.docView.dom.contains(y)){let v=He.find(i.docView,f);if(!v)return d>a.top+a.height/2?a.to:a.from;({node:y,offset:S}=ja(v.dom,u,c))}let $=i.docView.nearest(y);if(!$)return null;if($.isWidget&&((r=$.dom)===null||r===void 0?void 0:r.nodeType)==1){let v=$.dom.getBoundingClientRect();return e.y<v.top||e.y<=v.bottom&&e.x<=(v.left+v.right)/2?$.posAtStart:$.posAtEnd}else return $.localPosFromDOM(y,S)+$.posAtStart}function Qc(i,e,t,s,n){let r=Math.round((s-e.left)*i.defaultCharacterWidth);if(i.lineWrapping&&t.height>i.defaultLineHeight*1.5){let l=i.viewState.heightOracle.textHeight,a=Math.floor((n-t.top-(i.defaultLineHeight-l)*.5)/l);r+=a*i.viewState.heightOracle.lineLength}let o=i.state.sliceDoc(t.from,t.to);return t.from+Ma(o,r,i.state.tabSize)}function ES(i,e,t){let s,n=i;if(i.nodeType!=3||e!=(s=i.nodeValue.length))return!1;for(;;){let r=n.nextSibling;if(r){if(r.nodeName=="BR")break;return!1}else{let o=n.parentNode;if(!o||o.nodeName=="DIV")break;n=o}}return As(i,s-1,s).getBoundingClientRect().right>t}function ZS(i,e,t){if(e!=0)return!1;for(let n=i;;){let r=n.parentNode;if(!r||r.nodeType!=1||r.firstChild!=n)return!1;if(r.classList.contains("cm-line"))break;n=r}let s=i.nodeType==1?i.getBoundingClientRect():As(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return t-s.left>5}function Wa(i,e,t){let s=i.lineBlockAt(e);if(Array.isArray(s.type)){let n;for(let r of s.type){if(r.from>e)break;if(!(r.to<e)){if(r.from<e&&r.to>e)return r;(!n||r.type==Ct.Text&&(n.type!=r.type||(t<0?r.from<e:r.to>e)))&&(n=r)}}return n||s}return s}function IS(i,e,t,s){let n=Wa(i,e.head,e.assoc||-1),r=!s||n.type!=Ct.Text||!(i.lineWrapping||n.widgetLineBreaks)?null:i.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(r){let o=i.dom.getBoundingClientRect(),l=i.textDirectionAt(n.from),a=i.posAtCoords({x:t==(l==We.LTR)?o.right-1:o.left+1,y:(r.top+r.bottom)/2});if(a!=null)return U.cursor(a,t?-1:1)}return U.cursor(t?n.to:n.from,t?-1:1)}function $c(i,e,t,s){let n=i.state.doc.lineAt(e.head),r=i.bidiSpans(n),o=i.textDirectionAt(n.from);for(let l=e,a=null;;){let h=SS(n,r,o,l,t),u=Op;if(!h){if(n.number==(t?i.state.doc.lines:1))return l;u=`
`,n=i.state.doc.line(n.number+(t?1:-1)),r=i.bidiSpans(n),h=i.visualLineSide(n,!t)}if(a){if(!a(u))return l}else{if(!s)return h;a=s(u)}l=h}}function BS(i,e,t){let s=i.state.charCategorizer(e),n=s(t);return r=>{let o=s(r);return n==Ve.Space&&(n=o),n==o}}function zS(i,e,t,s){let n=e.head,r=t?1:-1;if(n==(t?i.state.doc.length:0))return U.cursor(n,e.assoc);let o=e.goalColumn,l,a=i.contentDOM.getBoundingClientRect(),h=i.coordsAtPos(n,e.assoc||-1),u=i.documentTop;if(h)o==null&&(o=h.left-a.left),l=r<0?h.top:h.bottom;else{let f=i.viewState.lineBlockAt(n);o==null&&(o=Math.min(a.right-a.left,i.defaultCharacterWidth*(n-f.from))),l=(r<0?f.top:f.bottom)+u}let c=a.left+o,d=s??i.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let m=l+(d+f)*r,g=Lp(i,{x:c,y:m},!1,r);if(m<a.top||m>a.bottom||(r<0?g<n:g>n)){let b=i.docView.coordsForChar(g),y=!b||m<b.top?-1:1;return U.cursor(g,y,void 0,o)}}}function no(i,e,t){for(;;){let s=0;for(let n of i)n.between(e-1,e+1,(r,o,l)=>{if(e>r&&e<o){let a=s||t||(e-r<o-e?-1:1);e=a<0?r:o,s=a}});if(!s)return e}}function $l(i,e,t){let s=no(i.state.facet(Wh).map(n=>n(i)),t.from,e.head>t.from?-1:1);return s==t.from?t:U.cursor(s,s<t.from?1:-1)}const Rn="";class _S{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet($e.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Rn}readRange(e,t){if(!e)return this;let s=e.parentNode;for(let n=e;;){this.findPointBefore(s,n);let r=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==t)break;let l=_e.get(n),a=_e.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:vo(n))||vo(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>r)&&this.lineBreak(),n=o}return this.findPointBefore(s,t),this}readTextNode(e){let t=e.nodeValue;for(let s of this.points)s.node==e&&(s.pos=this.text.length+Math.min(s.offset,t.length));for(let s=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let r=-1,o=1,l;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,s),o=this.lineSeparator.length):(l=n.exec(t))&&(r=l.index,o=l[0].length),this.append(t.slice(s,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);s=r+o}}readNode(e){if(e.cmIgnore)return;let t=_e.get(e),s=t&&t.overrideDOMText;if(s!=null){this.findPointInside(e,s.length);for(let n=s.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let s of this.points)s.node==e&&e.childNodes[s.offset]==t&&(s.pos=this.text.length)}findPointInside(e,t){for(let s of this.points)(e.nodeType==3?s.node==e:e.contains(s.node))&&(s.pos=this.text.length+(NS(e,s.node,s.offset)?t:0))}}function NS(i,e,t){for(;;){if(!e||t<Qi(e))return!1;if(e==i)return!0;t=$s(e)+1,e=e.parentNode}}class Ac{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class DS{constructor(e,t,s,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,s,0))){let l=r||o?[]:VS(e),a=new _S(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=jS(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=r&&r.node==l.focusNode&&r.offset==l.focusOffset||!Ea(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),h=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!Ea(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),u=e.viewport;if((ie.ios||ie.chrome)&&e.state.selection.main.empty&&a!=h&&(u.from>0||u.to<e.state.doc.length)){let c=Math.min(a,h),d=Math.max(a,h),f=u.from-c,m=u.to-d;(f==0||f==1||c==0)&&(m==0||m==-1||d==e.state.doc.length)&&(a=0,h=e.state.doc.length)}this.newSel=U.single(h,a)}}}function Ep(i,e){let t,{newSel:s}=e,n=i.state.selection.main,r=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=n.from,h=null;(r===8||ie.android&&e.text.length<l-o)&&(a=n.to,h="end");let u=qS(i.state.doc.sliceString(o,l,Rn),e.text,a-o,h);u&&(ie.chrome&&r==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Rn+Rn&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:Ae.of(e.text.slice(u.from,u.toB).split(Rn))})}else s&&(!i.hasFocus&&i.state.facet(Li)||s.main.eq(n))&&(s=null);if(!t&&!s)return!1;if(!t&&e.typeOver&&!n.empty&&s&&s.main.empty?t={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,n.to)}:(ie.mac||ie.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(s&&t.insert.length==2&&(s=U.single(s.main.anchor-1,s.main.head-1)),t={from:t.from,to:t.to,insert:Ae.of([t.insert.toString().replace("."," ")])}):t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,t.from).append(t.insert).append(i.state.doc.slice(t.to,n.to))}:ie.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&i.lineWrapping&&(s&&(s=U.single(s.main.anchor-1,s.main.head-1)),t={from:n.from,to:n.to,insert:Ae.of([" "])}),t)return Uh(i,t,s,r);if(s&&!s.main.eq(n)){let o=!1,l="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(o=!0),l=i.inputState.lastSelectionOrigin),i.dispatch({selection:s,scrollIntoView:o,userEvent:l}),!0}else return!1}function Uh(i,e,t,s=-1){if(ie.ios&&i.inputState.flushIOSKey(e))return!0;let n=i.state.selection.main;if(ie.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&i.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&en(i.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||s==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&en(i.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&en(i.contentDOM,"Delete",46)))return!0;let r=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let o,l=()=>o||(o=XS(i,e,t));return i.state.facet(kp).some(a=>a(i,e.from,e.to,r,l))||i.dispatch(l()),!0}function XS(i,e,t){let s,n=i.state,r=n.selection.main;if(e.from>=r.from&&e.to<=r.to&&e.to-e.from>=(r.to-r.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&i.inputState.composing<0){let l=r.from<e.from?n.sliceDoc(r.from,e.from):"",a=r.to>e.to?n.sliceDoc(e.to,r.to):"";s=n.replaceSelection(i.state.toText(l+e.insert.sliceString(0,void 0,i.state.lineBreak)+a))}else{let l=n.changes(e),a=t&&t.main.to<=l.newLength?t.main:void 0;if(n.selection.ranges.length>1&&i.inputState.composing>=0&&e.to<=r.to&&e.to>=r.to-10){let h=i.state.sliceDoc(e.from,e.to),u,c=t&&Tp(i,t.main.head);if(c){let m=e.insert.length-(e.to-e.from);u={from:c.from,to:c.to-m}}else u=i.state.doc.lineAt(r.head);let d=r.to-e.to,f=r.to-r.from;s=n.changeByRange(m=>{if(m.from==r.from&&m.to==r.to)return{changes:l,range:a||m.map(l)};let g=m.to-d,b=g-h.length;if(m.to-m.from!=f||i.state.sliceDoc(b,g)!=h||m.to>=u.from&&m.from<=u.to)return{range:m};let y=n.changes({from:b,to:g,insert:e.insert}),S=m.to-r.to;return{changes:y,range:a?U.range(Math.max(0,a.anchor+S),Math.max(0,a.head+S)):m.map(y)}})}else s={changes:l,selection:a&&n.selection.replaceRange(a)}}let o="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,o+=".compose",i.inputState.compositionFirstChange&&(o+=".start",i.inputState.compositionFirstChange=!1)),n.update(s,{userEvent:o,scrollIntoView:!0})}function qS(i,e,t,s){let n=Math.min(i.length,e.length),r=0;for(;r<n&&i.charCodeAt(r)==e.charCodeAt(r);)r++;if(r==n&&i.length==e.length)return null;let o=i.length,l=e.length;for(;o>0&&l>0&&i.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(s=="end"){let a=Math.max(0,r-Math.min(o,l));t-=o+a-r}if(o<r&&i.length<e.length){let a=t<=r&&t>=o?r-t:0;r-=a,l=r+(l-o),o=r}else if(l<r){let a=t<=r&&t>=l?r-t:0;r-=a,o=r+(o-l),l=r}return{from:r,toA:o,toB:l}}function VS(i){let e=[];if(i.root.activeElement!=i.contentDOM)return e;let{anchorNode:t,anchorOffset:s,focusNode:n,focusOffset:r}=i.observer.selectionRange;return t&&(e.push(new Ac(t,s)),(n!=t||r!=s)&&e.push(new Ac(n,r))),e}function jS(i,e){if(i.length==0)return null;let t=i[0].pos,s=i.length==2?i[1].pos:t;return t>-1&&s>-1?U.single(t+e,s+e):null}class WS{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ie.safari&&e.contentDOM.addEventListener("input",()=>null),ie.gecko&&ak(e.contentDOM.ownerDocument)}handleEvent(e){!ek(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let s=this.handlers[e];if(s){for(let n of s.observers)n(this.view,t);for(let n of s.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=YS(e),s=this.handlers,n=this.view.contentDOM;for(let r in t)if(r!="scroll"){let o=!t[r].handlers.length,l=s[r];l&&o!=!l.handlers.length&&(n.removeEventListener(r,this.handleEvent),l=null),l||n.addEventListener(r,this.handleEvent,{passive:o})}for(let r in s)r!="scroll"&&!t[r]&&n.removeEventListener(r,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Ip.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ie.android&&ie.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ie.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Zp.find(s=>s.keyCode==e.keyCode))&&!e.ctrlKey||US.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,en(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ie.safari&&!ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Rc(i,e){return(t,s)=>{try{return e.call(i,s,t)}catch(n){qt(t.state,n)}}}function YS(i){let e=Object.create(null);function t(s){return e[s]||(e[s]={observers:[],handlers:[]})}for(let s of i){let n=s.spec,r=n&&n.plugin.domEventHandlers,o=n&&n.plugin.domEventObservers;if(r)for(let l in r){let a=r[l];a&&t(l).handlers.push(Rc(s.value,a))}if(o)for(let l in o){let a=o[l];a&&t(l).observers.push(Rc(s.value,a))}}for(let s in ai)t(s).handlers.push(ai[s]);for(let s in ii)t(s).observers.push(ii[s]);return e}const Zp=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],US="dthko",Ip=[16,17,18,20,91,92,224,225],Mr=6;function Tr(i){return Math.max(0,i)*.7+8}function FS(i,e){return Math.max(Math.abs(i.clientX-e.clientX),Math.abs(i.clientY-e.clientY))}class GS{constructor(e,t,s,n){this.view=e,this.startEvent=t,this.style=s,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=nS(e.contentDOM),this.atoms=e.state.facet(Wh).map(o=>o(e));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet($e.allowMultipleSelections)&&HS(e,t),this.dragging=JS(e,t)&&_p(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&FS(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,s=0,n=0,r=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:r,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=Yh(this.view);e.clientX-a.left<=n+Mr?t=-Tr(n-e.clientX):e.clientX+a.right>=o-Mr&&(t=Tr(e.clientX-o)),e.clientY-a.top<=r+Mr?s=-Tr(r-e.clientY):e.clientY+a.bottom>=l-Mr&&(s=Tr(e.clientY-l)),this.setScrollSpeed(t,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let s=0;s<e.ranges.length;s++){let n=e.ranges[s],r=null;if(n.empty){let o=no(this.atoms,n.from,0);o!=n.from&&(r=U.cursor(o,-1))}else{let o=no(this.atoms,n.from,-1),l=no(this.atoms,n.to,1);(o!=n.from||l!=n.to)&&(r=U.range(n.from==n.anchor?o:l,n.from==n.head?o:l))}r&&(t||(t=e.ranges.slice()),t[s]=r)}return t?U.create(t,e.mainIndex):e}select(e){let{view:t}=this,s=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!s.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function HS(i,e){let t=i.state.facet(yp);return t.length?t[0](e):ie.mac?e.metaKey:e.ctrlKey}function KS(i,e){let t=i.state.facet(bp);return t.length?t[0](e):ie.mac?!e.altKey:!e.ctrlKey}function JS(i,e){let{main:t}=i.state.selection;if(t.empty)return!1;let s=ir(i.root);if(!s||s.rangeCount==0)return!0;let n=s.getRangeAt(0).getClientRects();for(let r=0;r<n.length;r++){let o=n[r];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function ek(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,s;t!=i.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(s=_e.get(t))&&s.ignoreEvent(e))return!1;return!0}const ai=Object.create(null),ii=Object.create(null),Bp=ie.ie&&ie.ie_version<15||ie.ios&&ie.webkit_version<604;function tk(i){let e=i.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{i.focus(),t.remove(),zp(i,t.value)},50)}function nl(i,e,t){for(let s of i.facet(e))t=s(t,i);return t}function zp(i,e){e=nl(i.state,qh,e);let{state:t}=i,s,n=1,r=t.toText(e),o=r.lines==t.selection.ranges.length;if(Ya!=null&&t.selection.ranges.every(a=>a.empty)&&Ya==r.toString()){let a=-1;s=t.changeByRange(h=>{let u=t.doc.lineAt(h.from);if(u.from==a)return{range:h};a=u.from;let c=t.toText((o?r.line(n++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:c},range:U.cursor(h.from+c.length)}})}else o?s=t.changeByRange(a=>{let h=r.line(n++);return{changes:{from:a.from,to:a.to,insert:h.text},range:U.cursor(a.from+h.length)}}):s=t.replaceSelection(r);i.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}ii.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft};ai.keydown=(i,e)=>(i.inputState.setSelectionOrigin("select"),e.keyCode==27&&i.inputState.tabFocusMode!=0&&(i.inputState.tabFocusMode=Date.now()+2e3),!1);ii.touchstart=(i,e)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};ii.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};ai.mousedown=(i,e)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let s of i.state.facet(wp))if(t=s(i,e),t)break;if(!t&&e.button==0&&(t=nk(i,e)),t){let s=!i.hasFocus;i.inputState.startMouseSelection(new GS(i,e,t,s)),s&&i.observer.ignore(()=>{Jm(i.contentDOM);let r=i.root.activeElement;r&&!r.contains(i.contentDOM)&&r.blur()});let n=i.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}return!1};function Mc(i,e,t,s){if(s==1)return U.cursor(e,t);if(s==2)return MS(i.state,e,t);{let n=He.find(i.docView,e),r=i.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:r.from,l=n?n.posAtEnd:r.to;return l<i.state.doc.length&&l==r.to&&l++,U.range(o,l)}}let Tc=(i,e,t)=>e>=t.top&&e<=t.bottom&&i>=t.left&&i<=t.right;function ik(i,e,t,s){let n=He.find(i.docView,e);if(!n)return 1;let r=e-n.posAtStart;if(r==0)return 1;if(r==n.length)return-1;let o=n.coordsAt(r,-1);if(o&&Tc(t,s,o))return-1;let l=n.coordsAt(r,1);return l&&Tc(t,s,l)?1:o&&o.bottom>=s?-1:1}function Lc(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:ik(i,t,e.clientX,e.clientY)}}const sk=ie.ie&&ie.ie_version<=11;let Ec=null,Zc=0,Ic=0;function _p(i){if(!sk)return i.detail;let e=Ec,t=Ic;return Ec=i,Ic=Date.now(),Zc=!e||t>Date.now()-400&&Math.abs(e.clientX-i.clientX)<2&&Math.abs(e.clientY-i.clientY)<2?(Zc+1)%3:1}function nk(i,e){let t=Lc(i,e),s=_p(e),n=i.state.selection;return{update(r){r.docChanged&&(t.pos=r.changes.mapPos(t.pos),n=n.map(r.changes))},get(r,o,l){let a=Lc(i,r),h,u=Mc(i,a.pos,a.bias,s);if(t.pos!=a.pos&&!o){let c=Mc(i,t.pos,t.bias,s),d=Math.min(c.from,u.from),f=Math.max(c.to,u.to);u=d<u.from?U.range(d,f):U.range(f,d)}return o?n.replaceRange(n.main.extend(u.from,u.to)):l&&s==1&&n.ranges.length>1&&(h=rk(n,a.pos))?h:l?n.addRange(u):U.create([u])}}}function rk(i,e){for(let t=0;t<i.ranges.length;t++){let{from:s,to:n}=i.ranges[t];if(s<=e&&n>=e)return U.create(i.ranges.slice(0,t).concat(i.ranges.slice(t+1)),i.mainIndex==t?0:i.mainIndex-(i.mainIndex>t?1:0))}return null}ai.dragstart=(i,e)=>{let{selection:{main:t}}=i.state;if(e.target.draggable){let n=i.docView.nearest(e.target);if(n&&n.isWidget){let r=n.posAtStart,o=r+n.length;(r>=t.to||o<=t.from)&&(t=U.range(r,o))}}let{inputState:s}=i;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",nl(i.state,Vh,i.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ai.dragend=i=>(i.inputState.draggedContent=null,!1);function Bc(i,e,t,s){if(t=nl(i.state,qh,t),!t)return;let n=i.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:r}=i.inputState,o=s&&r&&KS(i,e)?{from:r.from,to:r.to}:null,l={from:n,insert:t},a=i.state.changes(o?[o,l]:l);i.focus(),i.dispatch({changes:a,selection:{anchor:a.mapPos(n,-1),head:a.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"}),i.inputState.draggedContent=null}ai.drop=(i,e)=>{if(!e.dataTransfer)return!1;if(i.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let s=Array(t.length),n=0,r=()=>{++n==t.length&&Bc(i,e,s.filter(o=>o!=null).join(i.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=r,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(s[o]=l.result),r()},l.readAsText(t[o])}return!0}else{let s=e.dataTransfer.getData("Text");if(s)return Bc(i,e,s,!0),!0}return!1};ai.paste=(i,e)=>{if(i.state.readOnly)return!0;i.observer.flush();let t=Bp?null:e.clipboardData;return t?(zp(i,t.getData("text/plain")||t.getData("text/uri-list")),!0):(tk(i),!1)};function ok(i,e){let t=i.dom.parentNode;if(!t)return;let s=t.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=e,s.focus(),s.selectionEnd=e.length,s.selectionStart=0,setTimeout(()=>{s.remove(),i.focus()},50)}function lk(i){let e=[],t=[],s=!1;for(let n of i.selection.ranges)n.empty||(e.push(i.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:r}of i.selection.ranges){let o=i.doc.lineAt(r);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(i.doc.length,o.to+1)})),n=o.number}s=!0}return{text:nl(i,Vh,e.join(i.lineBreak)),ranges:t,linewise:s}}let Ya=null;ai.copy=ai.cut=(i,e)=>{let{text:t,ranges:s,linewise:n}=lk(i.state);if(!t&&!n)return!1;Ya=n?t:null,e.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let r=Bp?null:e.clipboardData;return r?(r.clearData(),r.setData("text/plain",t),!0):(ok(i,t),!1)};const Np=_i.define();function Dp(i,e){let t=[];for(let s of i.facet(vp)){let n=s(i,e);n&&t.push(n)}return t.length?i.update({effects:t,annotations:Np.of(!0)}):null}function Xp(i){setTimeout(()=>{let e=i.hasFocus;if(e!=i.inputState.notifiedFocused){let t=Dp(i.state,e);t?i.dispatch(t):i.update([])}},10)}ii.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),Xp(i)};ii.blur=i=>{i.observer.clearSelectionRange(),Xp(i)};ii.compositionstart=ii.compositionupdate=i=>{i.observer.editContext||(i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0))};ii.compositionend=i=>{i.observer.editContext||(i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,ie.chrome&&ie.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50))};ii.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};ai.beforeinput=(i,e)=>{var t,s;if(e.inputType=="insertReplacementText"&&i.observer.editContext){let r=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(r&&o.length){let l=o[0],a=i.posAtDOM(l.startContainer,l.startOffset),h=i.posAtDOM(l.endContainer,l.endOffset);return Uh(i,{from:a,to:h,insert:i.state.toText(r)},null),!0}}let n;if(ie.chrome&&ie.android&&(n=Zp.find(r=>r.inputType==e.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let r=((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return ie.ios&&e.inputType=="deleteContentForward"&&i.observer.flushSoon(),ie.safari&&e.inputType=="insertText"&&i.inputState.composing>=0&&setTimeout(()=>ii.compositionend(i,e),20),!1};const zc=new Set;function ak(i){zc.has(i)||(zc.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const _c=["pre-wrap","normal","pre-line","break-spaces"];let un=!1;function Nc(){un=!1}class hk{constructor(e){this.lineWrapping=e,this.doc=Ae.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let s=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((t-e-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return _c.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let s=0;s<e.length;s++){let n=e[s];n<0?s++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,s,n,r,o){let l=_c.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=s,this.textHeight=n,this.lineLength=r,a){this.heightSamples={};for(let h=0;h<o.length;h++){let u=o[h];u<0?h++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class uk{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Si{constructor(e,t,s,n,r){this.from=e,this.length=t,this.top=s,this.height=n,this._content=r}get type(){return typeof this._content=="number"?Ct.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ss?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Si(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Xe=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(Xe||(Xe={}));const ro=.001;class Pt{constructor(e,t,s=2){this.length=e,this.height=t,this.flags=s}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ro&&(un=!0),this.height=e)}replace(e,t,s){return Pt.of(s)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,s,n){let r=this,o=s.doc;for(let l=n.length-1;l>=0;l--){let{fromA:a,toA:h,fromB:u,toB:c}=n[l],d=r.lineAt(a,Xe.ByPosNoHeight,s.setDoc(t),0,0),f=d.to>=h?d:r.lineAt(h,Xe.ByPosNoHeight,s,0,0);for(c+=f.to-h,h=f.to;l>0&&d.from<=n[l-1].toA;)a=n[l-1].fromA,u=n[l-1].fromB,l--,a<d.from&&(d=r.lineAt(a,Xe.ByPosNoHeight,s,0,0));u+=d.from-a,a=d.from;let m=Fh.build(s.setDoc(o),e,u,c);r=Po(r,r.replace(a,h,m))}return r.updateHeight(s,0)}static empty(){return new Nt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,s=e.length,n=0,r=0;for(;;)if(t==s)if(n>r*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),s+=1+l.break,n-=l.size}else if(r>n*2){let l=e[s];l.break?e.splice(s,1,l.left,null,l.right):e.splice(s,1,l.left,l.right),s+=2+l.break,r-=l.size}else break;else if(n<r){let l=e[t++];l&&(n+=l.size)}else{let l=e[--s];l&&(r+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,s++),new ck(Pt.of(e.slice(0,t)),o,Pt.of(e.slice(s)))}}function Po(i,e){return i==e?i:(i.constructor!=e.constructor&&(un=!0),e)}Pt.prototype.size=1;class qp extends Pt{constructor(e,t,s){super(e,t),this.deco=s}blockAt(e,t,s,n){return new Si(n,this.length,s,this.height,this.deco||0)}lineAt(e,t,s,n,r){return this.blockAt(0,s,n,r)}forEachLine(e,t,s,n,r,o){e<=r+this.length&&t>=r&&o(this.blockAt(0,s,n,r))}updateHeight(e,t=0,s=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Nt extends qp{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,s,n){return new Si(n,this.length,s,this.height,this.breaks)}replace(e,t,s){let n=s[0];return s.length==1&&(n instanceof Nt||n instanceof lt&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof lt?n=new Nt(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Pt.of(s)}updateHeight(e,t=0,s=!1,n){return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(s||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class lt extends Pt{constructor(e){super(e,0)}heightMetrics(e,t){let s=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,r=n-s+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*r);o=a/r,this.length>r+1&&(l=(this.height-a)/(this.length-r-1))}else o=this.height/r;return{firstLine:s,lastLine:n,perLine:o,perChar:l}}blockAt(e,t,s,n){let{firstLine:r,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(t,n);if(t.lineWrapping){let h=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-s)/this.height))*this.length)),u=t.doc.lineAt(h),c=l+u.length*a,d=Math.max(s,e-c/2);return new Si(u.from,u.length,d,c,0)}else{let h=Math.max(0,Math.min(o-r,Math.floor((e-s)/l))),{from:u,length:c}=t.doc.line(r+h);return new Si(u,c,s+l*h,l,0)}}lineAt(e,t,s,n,r){if(t==Xe.ByHeight)return this.blockAt(e,s,n,r);if(t==Xe.ByPosNoHeight){let{from:f,to:m}=s.doc.lineAt(e);return new Si(f,m-f,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(s,r),h=s.doc.lineAt(e),u=l+h.length*a,c=h.number-o,d=n+l*c+a*(h.from-r-c);return new Si(h.from,h.length,Math.max(n,Math.min(d,n+this.height-u)),u,0)}forEachLine(e,t,s,n,r,o){e=Math.max(e,r),t=Math.min(t,r+this.length);let{firstLine:l,perLine:a,perChar:h}=this.heightMetrics(s,r);for(let u=e,c=n;u<=t;){let d=s.doc.lineAt(u);if(u==e){let m=d.number-l;c+=a*m+h*(e-r-m)}let f=a+h*d.length;o(new Si(d.from,d.length,c,f,0)),c+=f,u=d.to+1}}replace(e,t,s){let n=this.length-t;if(n>0){let r=s[s.length-1];r instanceof lt?s[s.length-1]=new lt(r.length+n):s.push(null,new lt(n-1))}if(e>0){let r=s[0];r instanceof lt?s[0]=new lt(e+r.length):s.unshift(new lt(e-1),null)}return Pt.of(s)}decomposeLeft(e,t){t.push(new lt(e-1),null)}decomposeRight(e,t){t.push(null,new lt(this.length-e-1))}updateHeight(e,t=0,s=!1,n){let r=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],l=Math.max(t,n.from),a=-1;for(n.from>t&&o.push(new lt(n.from-t-1).updateHeight(e,t));l<=r&&n.more;){let u=e.doc.lineAt(l).length;o.length&&o.push(null);let c=n.heights[n.index++];a==-1?a=c:Math.abs(c-a)>=ro&&(a=-2);let d=new Nt(u,c);d.outdated=!1,o.push(d),l+=u+1}l<=r&&o.push(null,new lt(r-l).updateHeight(e,l));let h=Pt.of(o);return(a<0||Math.abs(h.height-this.height)>=ro||Math.abs(a-this.heightMetrics(e,t).perLine)>=ro)&&(un=!0),Po(this,h)}else(s||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ck extends Pt{constructor(e,t,s){super(e.length+t+s.length,e.height+s.height,t|(e.outdated||s.outdated?2:0)),this.left=e,this.right=s,this.size=e.size+s.size}get break(){return this.flags&1}blockAt(e,t,s,n){let r=s+this.left.height;return e<r?this.left.blockAt(e,t,s,n):this.right.blockAt(e,t,r,n+this.left.length+this.break)}lineAt(e,t,s,n,r){let o=n+this.left.height,l=r+this.left.length+this.break,a=t==Xe.ByHeight?e<o:e<l,h=a?this.left.lineAt(e,t,s,n,r):this.right.lineAt(e,t,s,o,l);if(this.break||(a?h.to<l:h.from>l))return h;let u=t==Xe.ByPosNoHeight?Xe.ByPosNoHeight:Xe.ByPos;return a?h.join(this.right.lineAt(l,u,s,o,l)):this.left.lineAt(l,u,s,n,r).join(h)}forEachLine(e,t,s,n,r,o){let l=n+this.left.height,a=r+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,s,n,r,o),t>=a&&this.right.forEachLine(e,t,s,l,a,o);else{let h=this.lineAt(a,Xe.ByPos,s,n,r);e<h.from&&this.left.forEachLine(e,h.from-1,s,n,r,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,s,l,a,o)}}replace(e,t,s){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,s),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,s));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let l of s)r.push(l);if(e>0&&Dc(r,o-1),t<this.length){let l=r.length;this.decomposeRight(t,r),Dc(r,l)}return Pt.of(r)}decomposeLeft(e,t){let s=this.left.length;if(e<=s)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(s++,e>=s&&t.push(null)),e>s&&this.right.decomposeLeft(e-s,t)}decomposeRight(e,t){let s=this.left.length,n=s+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<s&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Pt.of(this.break?[e,null,t]:[e,t]):(this.left=Po(this.left,e),this.right=Po(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,s=!1,n){let{left:r,right:o}=this,l=t+r.length+this.break,a=null;return n&&n.from<=t+r.length&&n.more?a=r=r.updateHeight(e,t,s,n):r.updateHeight(e,t,s),n&&n.from<=l+o.length&&n.more?a=o=o.updateHeight(e,l,s,n):o.updateHeight(e,l,s),a?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Dc(i,e){let t,s;i[e]==null&&(t=i[e-1])instanceof lt&&(s=i[e+1])instanceof lt&&i.splice(e-1,3,new lt(t.length+1+s.length))}const dk=5;class Fh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let s=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Nt?n.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new Nt(s-this.pos,-1)),this.writtenTo=s,t>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,s){if(e<t||s.heightRelevant){let n=s.widget?s.widget.estimatedHeight:0,r=s.widget?s.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;s.block?this.addBlock(new qp(o,n,s)):(o||r||n>=dk)&&this.addLineDeco(n,r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Nt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let s=new lt(t-e);return this.oracle.doc.lineAt(e).to==t&&(s.flags|=4),s}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Nt)return e;let t=new Nt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,s){let n=this.ensureLine();n.length+=s,n.collapsed+=s,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+s}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Nt)&&!this.isCovered?this.nodes.push(new Nt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let s=e;for(let n of this.nodes)n instanceof Nt&&n.updateHeight(this.oracle,s),s+=n?n.length:1;return this.nodes}static build(e,t,s,n){let r=new Fh(s,e);return Ee.spans(t,s,n,r,0),r.finish(s)}}function fk(i,e,t){let s=new mk;return Ee.compare(i,e,t,s,0),s.changes}class mk{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,s,n){(e<t||s&&s.heightRelevant||n&&n.heightRelevant)&&so(e,t,this.changes,5)}}function pk(i,e){let t=i.getBoundingClientRect(),s=i.ownerDocument,n=s.defaultView||window,r=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(n.innerHeight,t.bottom);for(let h=i.parentNode;h&&h!=s.body;)if(h.nodeType==1){let u=h,c=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&c.overflow!="visible"){let d=u.getBoundingClientRect();r=Math.max(r,d.left),o=Math.min(o,d.right),l=Math.max(l,d.top),a=Math.min(h==i.parentNode?n.innerHeight:a,d.bottom)}h=c.position=="absolute"||c.position=="fixed"?u.offsetParent:u.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:r-t.left,right:Math.max(r,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function gk(i){let e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function Ok(i,e){let t=i.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Al{constructor(e,t,s,n){this.from=e,this.to=t,this.size=s,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++){let n=e[s],r=t[s];if(n.from!=r.from||n.to!=r.to||n.size!=r.size)return!1}return!0}draw(e,t){return ye.replace({widget:new yk(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class yk extends sl{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Xc{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qc,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=We.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(jh).some(s=>typeof s!="function"&&s.class=="cm-lineWrapping");this.heightOracle=new hk(t),this.stateDeco=e.facet(nr).filter(s=>typeof s!="function"),this.heightMap=Pt.empty().applyChanges(this.stateDeco,Ae.empty,this.heightOracle.setDoc(e.doc),[new ei(0,0,0,e.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let s=0;s<=1;s++){let n=s?t.head:t.anchor;if(!e.some(({from:r,to:o})=>n>=r&&n<=o)){let{from:r,to:o}=this.lineBlockAt(n);e.push(new Lr(r,o))}}return this.viewports=e.sort((s,n)=>s.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?qc:new Gh(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Mn(e,this.scaler))})}update(e,t=null){this.state=e.state;let s=this.stateDeco;this.stateDeco=this.state.facet(nr).filter(u=>typeof u!="function");let n=e.changedRanges,r=ei.extendWithRanges(n,fk(s,this.stateDeco,e?e.changes:et.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Nc(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),(this.heightMap.height!=o||un)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let a=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let h=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Cp)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,s=window.getComputedStyle(t),n=this.heightOracle,r=s.whiteSpace;this.defaultTextDirection=s.direction=="rtl"?We.RTL:We.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),l=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let h=0,u=0;if(l.width&&l.height){let{scaleX:v,scaleY:P}=Km(t,l);(v>.005&&Math.abs(this.scaleX-v)>.005||P>.005&&Math.abs(this.scaleY-P)>.005)&&(this.scaleX=v,this.scaleY=P,h|=16,o=a=!0)}let c=(parseInt(s.paddingTop)||0)*this.scaleY,d=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=c||this.paddingBottom!=d)&&(this.paddingTop=c,this.paddingBottom=d,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=tp(e.scrollDOM);let m=(this.printing?Ok:pk)(t,this.paddingTop),g=m.top-this.pixelViewport.top,b=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(a=!0)),!this.inView&&!this.scrollTarget&&!gk(e.dom))return 0;let S=l.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),a){let v=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(v)&&(o=!0),o||n.lineWrapping&&Math.abs(S-this.contentDOMWidth)>n.charWidth){let{lineHeight:P,charWidth:M,textHeight:E}=e.docView.measureTextSize();o=P>0&&n.refresh(r,P,M,E,S/M,v),o&&(e.docView.minWidth=0,h|=16)}g>0&&b>0?u=Math.max(g,b):g<0&&b<0&&(u=Math.min(g,b)),Nc();for(let P of this.viewports){let M=P.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(P);this.heightMap=(o?Pt.empty().applyChanges(this.stateDeco,Ae.empty,this.heightOracle,[new ei(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new uk(P.from,M))}un&&(h|=2)}let $=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),h|=this.updateForViewport()),(h&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let s=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new Lr(n.lineAt(o-s*1e3,Xe.ByHeight,r,0,0).from,n.lineAt(l+(1-s)*1e3,Xe.ByHeight,r,0,0).to);if(t){let{head:h}=t.range;if(h<a.from||h>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),c=n.lineAt(h,Xe.ByPos,r,0,0),d;t.y=="center"?d=(c.top+c.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&h<a.from?d=c.top:d=c.bottom-u,a=new Lr(n.lineAt(d-1e3/2,Xe.ByHeight,r,0,0).from,n.lineAt(d+u+1e3/2,Xe.ByHeight,r,0,0).to)}}return a}mapViewport(e,t){let s=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new Lr(this.heightMap.lineAt(s,Xe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Xe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},s=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,Xe.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(t,Xe.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||n<=o-Math.max(10,Math.min(-s,250)))&&(t==this.state.doc.length||r>=l+Math.max(10,Math.min(s,250)))&&n>o-2*1e3&&r<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let s=[];for(let n of e)t.touchesRange(n.from,n.to)||s.push(new Al(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return s}ensureLineGaps(e,t){let s=this.heightOracle.lineWrapping,n=s?1e4:2e3,r=n>>1,o=n<<1;if(this.defaultTextDirection!=We.LTR&&!s)return[];let l=[],a=(u,c,d,f)=>{if(c-u<r)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let y of g)if(y>u&&y<c){a(u,y-10,d,f),a(y+10,c,d,f);return}let b=wk(e,y=>y.from>=d.from&&y.to<=d.to&&Math.abs(y.from-u)<r&&Math.abs(y.to-c)<r&&!g.some(S=>y.from<S&&y.to>S));if(!b){if(c<d.to&&t&&s&&t.visibleRanges.some($=>$.from<=c&&$.to>=c)){let $=t.moveToLineBoundary(U.cursor(c),!1,!0).head;$>u&&(c=$)}let y=this.gapSize(d,u,c,f),S=s||y<2e6?y:2e6;b=new Al(u,c,y,S)}l.push(b)},h=u=>{if(u.length<o||u.type!=Ct.Text)return;let c=bk(u.from,u.to,this.stateDeco);if(c.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,m;if(s){let g=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,y;if(d!=null){let S=Zr(c,d),$=((this.visibleBottom-this.visibleTop)/2+g)/u.height;b=S-$,y=S+$}else b=(this.visibleTop-u.top-g)/u.height,y=(this.visibleBottom-u.top+g)/u.height;f=Er(c,b),m=Er(c,y)}else{let g=c.total*this.heightOracle.charWidth,b=n*this.heightOracle.charWidth,y=0;if(g>2e6)for(let M of e)M.from>=u.from&&M.from<u.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=M.size-M.displaySize);let S=this.pixelViewport.left+y,$=this.pixelViewport.right+y,v,P;if(d!=null){let M=Zr(c,d),E=(($-S)/2+b)/g;v=M-E,P=M+E}else v=(S-b)/g,P=($+b)/g;f=Er(c,v),m=Er(c,P)}f>u.from&&a(u.from,f,u,c),m<u.to&&a(m,u.to,u,c)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(h):h(u);return l}gapSize(e,t,s,n){let r=Zr(n,s)-Zr(n,t);return this.heightOracle.lineWrapping?e.height*r:n.total*this.heightOracle.charWidth*r}updateLineGaps(e){Al.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let s=[];Ee.spans(t,this.viewport.from,this.viewport.to,{span(r,o){s.push({from:r,to:o})},point(){}},20);let n=0;if(s.length!=this.visibleRanges.length)n=12;else for(let r=0;r<s.length&&!(n&8);r++){let o=this.visibleRanges[r],l=s[r];(o.from!=l.from||o.to!=l.to)&&(n|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(n|=8))}return this.visibleRanges=s,n}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Mn(this.heightMap.lineAt(e,Xe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Mn(this.heightMap.lineAt(this.scaler.fromDOM(e),Xe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Mn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Lr{constructor(e,t){this.from=e,this.to=t}}function bk(i,e,t){let s=[],n=i,r=0;return Ee.spans(t,i,e,{span(){},point(o,l){o>n&&(s.push({from:n,to:o}),r+=o-n),n=l}},20),n<e&&(s.push({from:n,to:e}),r+=e-n),{total:r,ranges:s}}function Er({total:i,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let s=Math.floor(i*t);for(let n=0;;n++){let{from:r,to:o}=e[n],l=o-r;if(s<=l)return r+s;s-=l}}function Zr(i,e){let t=0;for(let{from:s,to:n}of i.ranges){if(e<=n){t+=e-s;break}t+=n-s}return t/i.total}function wk(i,e){for(let t of i)if(e(t))return t}const qc={toDOM(i){return i},fromDOM(i){return i},scale:1,eq(i){return i==this}};class Gh{constructor(e,t,s){let n=0,r=0,o=0;this.viewports=s.map(({from:l,to:a})=>{let h=t.lineAt(l,Xe.ByPos,e,0,0).top,u=t.lineAt(a,Xe.ByPos,e,0,0).bottom;return n+=u-h,{from:l,to:a,top:h,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let l of this.viewports)l.domTop=o+(l.top-r)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),r=l.bottom}toDOM(e){for(let t=0,s=0,n=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return n+(e-s)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);s=r.bottom,n=r.domBottom}}fromDOM(e){for(let t=0,s=0,n=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return s+(e-n)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);s=r.bottom,n=r.domBottom}}eq(e){return e instanceof Gh?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,s)=>t.from==e.viewports[s].from&&t.to==e.viewports[s].to):!1}}function Mn(i,e){if(e.scale==1)return i;let t=e.toDOM(i.top),s=e.toDOM(i.bottom);return new Si(i.from,i.length,t,s-t,Array.isArray(i._content)?i._content.map(n=>Mn(n,e)):i._content)}const Ir=ne.define({combine:i=>i.join(" ")}),Ua=ne.define({combine:i=>i.indexOf(!0)>-1}),Fa=ts.newName(),Vp=ts.newName(),jp=ts.newName(),Wp={"&light":"."+Vp,"&dark":"."+jp};function Ga(i,e,t){return new ts(e,{finish(s){return/&/.test(s)?s.replace(/&\w*/,n=>{if(n=="&")return i;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):i+" "+s}})}const Sk=Ga("."+Fa,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Wp),kk={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Rl=ie.ie&&ie.ie_version<=11;class vk{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new rS,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let s of t)this.queue.push(s);(ie.ie&&ie.ie_version<=11||ie.ios&&e.composing)&&t.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ie.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ie.chrome&&ie.chrome_version<126)&&(this.editContext=new Ck(e),e.state.facet(Li)&&(e.contentDOM.editContext=this.editContext.editContext)),Rl&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,s)=>t!=e[s]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,n=this.selectionRange;if(s.state.facet(Li)?s.root.activeElement!=this.dom:!io(this.dom,n))return;let r=n.anchorNode&&s.docView.nearest(n.anchorNode);if(r&&r.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ie.ie&&ie.ie_version<=11||ie.android&&ie.chrome)&&!s.state.selection.main.empty&&n.focusNode&&qn(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ir(e.root);if(!t)return!1;let s=ie.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&xk(this.view,t)||t;if(!s||this.selectionRange.eq(s))return!1;let n=io(this.dom,s);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&lS(this.dom,s)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(s),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let s=this.dom;s;)if(s.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==s?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=t)s.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,kk),Rl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Rl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var s;if(!this.delayedAndroidKey){let n=()=>{let r=this.delayedAndroidKey;r&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=r.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&r.force&&en(this.dom,r.key,r.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((s=this.delayedAndroidKey)===null||s===void 0)&&s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,s=-1,n=!1;for(let r of e){let o=this.readMutation(r);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:s}=o:(t=Math.min(o.from,t),s=Math.max(o.to,s)))}return{from:t,to:s,typeOver:n}}readChange(){let{from:e,to:t,typeOver:s}=this.processRecords(),n=this.selectionChanged&&io(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new DS(this.view,e,t,s);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let s=this.view.state,n=Ep(this.view,t);return this.view.state==s&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let s=Vc(t,e.previousSibling||e.target.previousSibling,-1),n=Vc(t,e.nextSibling||e.target.nextSibling,1);return{from:s?t.posAfter(s):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Li)!=e.state.facet(Li)&&(e.view.contentDOM.editContext=e.state.facet(Li)?this.editContext.editContext:null))}destroy(){var e,t,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(s=this.resizeScroll)===null||s===void 0||s.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Vc(i,e,t){for(;e;){let s=_e.get(e);if(s&&s.parent==i)return s;let n=e.parentNode;e=n!=i.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function jc(i,e){let t=e.startContainer,s=e.startOffset,n=e.endContainer,r=e.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor);return qn(o.node,o.offset,n,r)&&([t,s,n,r]=[n,r,t,s]),{anchorNode:t,anchorOffset:s,focusNode:n,focusOffset:r}}function xk(i,e){if(e.getComposedRanges){let n=e.getComposedRanges(i.root)[0];if(n)return jc(i,n)}let t=null;function s(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return i.contentDOM.addEventListener("beforeinput",s,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",s,!0),t?jc(i,t):null}class Ck{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=s=>{let n=e.state.selection.main,{anchor:r,head:o}=n,l=this.toEditorPos(s.updateRangeStart),a=this.toEditorPos(s.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:l,drifted:!1});let h={from:l,to:a,insert:Ae.of(s.text.split(`
`))};if(h.from==this.from&&r<this.from?h.from=r:h.to==this.to&&r>this.to&&(h.to=r),h.from==h.to&&!h.insert.length){let u=U.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));u.main.eq(n)||e.dispatch({selection:u,userEvent:"select"});return}if((ie.mac||ie.android)&&h.from==o-1&&/^\. ?$/.test(s.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:a,insert:Ae.of([s.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let u=this.to-this.from+(h.to-h.from+h.insert.length);Uh(e,h,U.single(this.toEditorPos(s.selectionStart,u),this.toEditorPos(s.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=s=>{let n=[],r=null;for(let o=this.toEditorPos(s.rangeStart),l=this.toEditorPos(s.rangeEnd);o<l;o++){let a=e.coordsForChar(o);r=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||r||new DOMRect,n.push(r)}t.updateCharacterBounds(s.rangeStart,n)},this.handlers.textformatupdate=s=>{let n=[];for(let r of s.getTextFormats()){let o=r.underlineStyle,l=r.underlineThickness;if(o!="None"&&l!="None"){let a=this.toEditorPos(r.rangeStart),h=this.toEditorPos(r.rangeEnd);if(a<h){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;n.push(ye.mark({attributes:{style:u}}).range(a,h))}}}e.dispatch({effects:Qp.of(ye.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(e.state)}};for(let s in this.handlers)t.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let n=ir(s.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,s=!1,n=this.pendingContextChange;return e.changes.iterChanges((r,o,l,a,h)=>{if(s)return;let u=h.length-(o-r);if(n&&o>=n.to)if(n.from==r&&n.to==o&&n.insert.eq(h)){n=this.pendingContextChange=null,t+=u,this.to+=u;return}else n=null,this.revertPending(e.state);if(r+=t,o+=t,o<=this.from)this.from+=u,this.to+=u;else if(r<this.to){if(r<this.from||o>this.to||this.to-this.from+h.length>3e4){s=!0;return}this.editContext.updateText(this.toContextPos(r),this.toContextPos(o),h.toString()),this.to+=u}t+=u}),n&&!s&&this.revertPending(e.state),!s}update(e){let t=this.pendingContextChange,s=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(s.from,s.to)&&e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(s,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let s=this.composing;return s&&s.drifted?s.editorBase+(e-s.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class re{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:s}=e;this.dispatchTransactions=e.dispatchTransactions||s&&(n=>n.forEach(r=>s(r,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||oS(e.parent)||document,this.viewState=new Xc(e.state||$e.create(e)),e.scrollTo&&e.scrollTo.is(Rr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Xs).map(n=>new Pl(n));for(let n of this.plugins)n.update(this);this.observer=new vk(this),this.inputState=new WS(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vc(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Ke?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,s=!1,n,r=this.state;for(let d of e){if(d.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=d.state}if(this.destroyed){this.viewState.state=r;return}let o=this.hasFocus,l=0,a=null;e.some(d=>d.annotation(Np))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=Dp(r,o),a||(l=1));let h=this.observer.delayedAndroidKey,u=null;if(h?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(u=null)):this.observer.clear(),r.facet($e.phrases)!=this.state.facet($e.phrases))return this.setState(r);n=Co.create(this,r,e),n.flags|=l;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(c&&(c=c.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;c=new tn(f.empty?f:U.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(Rr)&&(c=f.value.clip(this.state))}this.viewState.update(n,c),this.bidiCache=Qo.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(An)!=this.styleModules&&this.mountStyles(),s=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Ir)!=n.state.facet(Ir)&&(this.viewState.mustMeasureContent=!0),(t||s||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let d of this.state.facet(Va))try{d(n)}catch(f){qt(this.state,f,"update listener")}(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!Ep(this,u)&&h.force&&en(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let s of this.plugins)s.destroy(this);this.viewState=new Xc(e),this.plugins=e.facet(Xs).map(s=>new Pl(s)),this.pluginMap.clear();for(let s of this.plugins)s.update(this);this.docView.destroy(),this.docView=new vc(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Xs),s=e.state.facet(Xs);if(t!=s){let n=[];for(let r of s){let o=t.indexOf(r);if(o<0)n.push(new Pl(r));else{let l=this.plugins[o];l.mustUpdate=e,n.push(l)}}for(let r of this.plugins)r.mustUpdate!=e&&r.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=s&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(s){qt(this.state,s,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,s=this.scrollDOM,n=s.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(tp(s))r=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(n);r=f.from,o=f.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];a&4||([this.measureRequests,h]=[h,this.measureRequests]);let u=h.map(f=>{try{return f.read(this)}catch(m){return qt(this.state,m),Wc}}),c=Co.create(this,this.state,[]),d=!1;c.flags|=a,t?t.flags|=a:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),d=this.docView.update(c),d&&this.docViewUpdate());for(let f=0;f<h.length;f++)if(u[f]!=Wc)try{let m=h[f];m.write&&m.write(u[f],this)}catch(m){qt(this.state,m)}if(d&&this.docView.updateSelection(!0),!c.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(m>1||m<-1){n=n+m,s.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(Va))l(t)}get themeClasses(){return Fa+" "+(this.state.facet(Ua)?jp:Vp)+" "+this.state.facet(Ir)}updateAttrs(){let e=Yc(this,$p,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Li)?"true":"false",class:"cm-content",style:`${ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Yc(this,jh,t);let s=this.observer.ignore(()=>{let n=_a(this.contentDOM,this.contentAttrs,t),r=_a(this.dom,this.editorAttrs,e);return n||r});return this.editorAttrs=e,this.contentAttrs=t,s}showAnnouncements(e){let t=!0;for(let s of e)for(let n of s.effects)if(n.is(re.announce)){t&&(this.announceDOM.textContent=""),t=!1;let r=this.announceDOM.appendChild(document.createElement("div"));r.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(An);let e=this.state.facet(re.cspNonce);ts.mount(this.root,this.styleModules.concat(Sk).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(s=>s.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,s){return $l(this,e,$c(this,e,t,s))}moveByGroup(e,t){return $l(this,e,$c(this,e,t,s=>BS(this,e.head,s)))}visualLineSide(e,t){let s=this.bidiSpans(e),n=this.textDirectionAt(e.from),r=s[t?s.length-1:0];return U.cursor(r.side(t,n)+e.from,r.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,s=!0){return IS(this,e,t,s)}moveVertically(e,t,s){return $l(this,e,zS(this,e,t,s))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Lp(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let s=this.docView.coordsAt(e,t);if(!s||s.left==s.right)return s;let n=this.state.doc.lineAt(e),r=this.bidiSpans(n),o=r[Hi.find(r,e-n.from,-1,t)];return tl(s,o.dir==We.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(xp)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Pk)return gp(e.length);let t=this.textDirectionAt(e.from),s;for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t&&(r.fresh||pp(r.isolates,s=kc(this,e))))return r.order;s||(s=kc(this,e));let n=wS(e.text,t,s);return this.bidiCache.push(new Qo(e.from,e.to,t,s,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Jm(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Rr.of(new tn(typeof e=="number"?U.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,s=this.viewState.scrollAnchorAt(e);return Rr.of(new tn(U.cursor(s.from),"start","start",s.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ct.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ct.define(()=>({}),{eventObservers:e})}static theme(e,t){let s=ts.newName(),n=[Ir.of(s),An.of(Ga(`.${s}`,e))];return t&&t.dark&&n.push(Ua.of(!0)),n}static baseTheme(e){return as.lowest(An.of(Ga("."+Fa,e,Wp)))}static findFromDOM(e){var t;let s=e.querySelector(".cm-content"),n=s&&_e.get(s)||_e.get(e);return((t=n==null?void 0:n.rootView)===null||t===void 0?void 0:t.view)||null}}re.styleModule=An;re.inputHandler=kp;re.clipboardInputFilter=qh;re.clipboardOutputFilter=Vh;re.scrollHandler=Pp;re.focusChangeEffect=vp;re.perLineTextDirection=xp;re.exceptionSink=Sp;re.updateListener=Va;re.editable=Li;re.mouseSelectionStyle=wp;re.dragMovesSelection=bp;re.clickAddsSelectionRange=yp;re.decorations=nr;re.outerDecorations=Ap;re.atomicRanges=Wh;re.bidiIsolatedRanges=Rp;re.scrollMargins=Mp;re.darkTheme=Ua;re.cspNonce=ne.define({combine:i=>i.length?i[0]:""});re.contentAttributes=jh;re.editorAttributes=$p;re.lineWrapping=re.contentAttributes.of({class:"cm-lineWrapping"});re.announce=we.define();const Pk=4096,Wc={};class Qo{constructor(e,t,s,n,r,o){this.from=e,this.to=t,this.dir=s,this.isolates=n,this.fresh=r,this.order=o}static update(e,t){if(t.empty&&!e.some(r=>r.fresh))return e;let s=[],n=e.length?e[e.length-1].dir:We.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir==n&&!t.touchesRange(o.from,o.to)&&s.push(new Qo(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return s}}function Yc(i,e,t){for(let s=i.state.facet(e),n=s.length-1;n>=0;n--){let r=s[n],o=typeof r=="function"?r(i):r;o&&za(o,t)}return t}const Qk=ie.mac?"mac":ie.windows?"win":ie.linux?"linux":"key";function $k(i,e){const t=i.split(/-(?!$)/);let s=t[t.length-1];s=="Space"&&(s=" ");let n,r,o,l;for(let a=0;a<t.length-1;++a){const h=t[a];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))n=!0;else if(/^(c|ctrl|control)$/i.test(h))r=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+h)}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),l&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function Br(i,e,t){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t!==!1&&e.shiftKey&&(i="Shift-"+i),i}const Ak=as.default(re.domEventHandlers({keydown(i,e){return Up(Yp(e.state),i,e,"editor")}})),rl=ne.define({enables:Ak}),Uc=new WeakMap;function Yp(i){let e=i.facet(rl),t=Uc.get(e);return t||Uc.set(e,t=Tk(e.reduce((s,n)=>s.concat(n),[]))),t}function Rk(i,e,t){return Up(Yp(i.state),e,i,t)}let Ui=null;const Mk=4e3;function Tk(i,e=Qk){let t=Object.create(null),s=Object.create(null),n=(o,l)=>{let a=s[o];if(a==null)s[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},r=(o,l,a,h,u)=>{var c,d;let f=t[o]||(t[o]=Object.create(null)),m=l.split(/ (?!$)/).map(y=>$k(y,e));for(let y=1;y<m.length;y++){let S=m.slice(0,y).join(" ");n(S,!0),f[S]||(f[S]={preventDefault:!0,stopPropagation:!1,run:[$=>{let v=Ui={view:$,prefix:S,scope:o};return setTimeout(()=>{Ui==v&&(Ui=null)},Mk),!0}]})}let g=m.join(" ");n(g,!1);let b=f[g]||(f[g]={preventDefault:!1,stopPropagation:!1,run:((d=(c=f._any)===null||c===void 0?void 0:c.run)===null||d===void 0?void 0:d.slice())||[]});a&&b.run.push(a),h&&(b.preventDefault=!0),u&&(b.stopPropagation=!0)};for(let o of i){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of l){let u=t[h]||(t[h]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:c}=o;for(let d in u)u[d].run.push(f=>c(f,Ha))}let a=o[e]||o.key;if(a)for(let h of l)r(h,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(h,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return t}let Ha=null;function Up(i,e,t,s){Ha=e;let n=tS(e),r=Dt(n,0),o=wi(r)==n.length&&n!=" ",l="",a=!1,h=!1,u=!1;Ui&&Ui.view==t&&Ui.scope==s&&(l=Ui.prefix+" ",Ip.indexOf(e.keyCode)<0&&(h=!0,Ui=null));let c=new Set,d=b=>{if(b){for(let y of b.run)if(!c.has(y)&&(c.add(y),y(t)))return b.stopPropagation&&(u=!0),!0;b.preventDefault&&(b.stopPropagation&&(u=!0),h=!0)}return!1},f=i[s],m,g;return f&&(d(f[l+Br(n,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ie.windows&&e.ctrlKey&&e.altKey)&&(m=is[e.keyCode])&&m!=n?(d(f[l+Br(m,e,!0)])||e.shiftKey&&(g=tr[e.keyCode])!=n&&g!=m&&d(f[l+Br(g,e,!1)]))&&(a=!0):o&&e.shiftKey&&d(f[l+Br(n,e,!0)])&&(a=!0),!a&&d(f._any)&&(a=!0)),h&&(a=!0),a&&u&&e.stopPropagation(),Ha=null,a}class Or{constructor(e,t,s,n,r){this.className=e,this.left=t,this.top=s,this.width=n,this.height=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,s){if(s.empty){let n=e.coordsAtPos(s.head,s.assoc||1);if(!n)return[];let r=Fp(e);return[new Or(t,n.left-r.left,n.top-r.top,null,n.bottom-n.top)]}else return Lk(e,t,s)}}function Fp(i){let e=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==We.LTR?e.left:e.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:e.top-i.scrollDOM.scrollTop*i.scaleY}}function Fc(i,e,t,s){let n=i.coordsAtPos(e,t*2);if(!n)return s;let r=i.dom.getBoundingClientRect(),o=(n.top+n.bottom)/2,l=i.posAtCoords({x:r.left+1,y:o}),a=i.posAtCoords({x:r.right-1,y:o});return l==null||a==null?s:{from:Math.max(s.from,Math.min(l,a)),to:Math.min(s.to,Math.max(l,a))}}function Lk(i,e,t){if(t.to<=i.viewport.from||t.from>=i.viewport.to)return[];let s=Math.max(t.from,i.viewport.from),n=Math.min(t.to,i.viewport.to),r=i.textDirection==We.LTR,o=i.contentDOM,l=o.getBoundingClientRect(),a=Fp(i),h=o.querySelector(".cm-line"),u=h&&window.getComputedStyle(h),c=l.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=l.right-(u?parseInt(u.paddingRight):0),f=Wa(i,s,1),m=Wa(i,n,-1),g=f.type==Ct.Text?f:null,b=m.type==Ct.Text?m:null;if(g&&(i.lineWrapping||f.widgetLineBreaks)&&(g=Fc(i,s,1,g)),b&&(i.lineWrapping||m.widgetLineBreaks)&&(b=Fc(i,n,-1,b)),g&&b&&g.from==b.from&&g.to==b.to)return S($(t.from,t.to,g));{let P=g?$(t.from,null,g):v(f,!1),M=b?$(null,t.to,b):v(m,!0),E=[];return(g||f).to<(b||m).from-(g&&b?1:0)||f.widgetLineBreaks>1&&P.bottom+i.defaultLineHeight/2<M.top?E.push(y(c,P.bottom,d,M.top)):P.bottom<M.top&&i.elementAtHeight((P.bottom+M.top)/2).type==Ct.Text&&(P.bottom=M.top=(P.bottom+M.top)/2),S(P).concat(E).concat(S(M))}function y(P,M,E,I){return new Or(e,P-a.left,M-a.top,E-P,I-M)}function S({top:P,bottom:M,horizontal:E}){let I=[];for(let L=0;L<E.length;L+=2)I.push(y(E[L],P,E[L+1],M));return I}function $(P,M,E){let I=1e9,L=-1e9,Q=[];function R(G,ue,ge,de,_){let j=i.coordsAtPos(G,G==E.to?-2:2),se=i.coordsAtPos(ge,ge==E.from?2:-2);!j||!se||(I=Math.min(j.top,se.top,I),L=Math.max(j.bottom,se.bottom,L),_==We.LTR?Q.push(r&&ue?c:j.left,r&&de?d:se.right):Q.push(!r&&de?c:se.left,!r&&ue?d:j.right))}let x=P??E.from,W=M??E.to;for(let G of i.visibleRanges)if(G.to>x&&G.from<W)for(let ue=Math.max(G.from,x),ge=Math.min(G.to,W);;){let de=i.state.doc.lineAt(ue);for(let _ of i.bidiSpans(de)){let j=_.from+de.from,se=_.to+de.from;if(j>=ge)break;se>ue&&R(Math.max(j,ue),P==null&&j<=x,Math.min(se,ge),M==null&&se>=W,_.dir)}if(ue=de.to+1,ue>=ge)break}return Q.length==0&&R(x,P==null,W,M==null,i.textDirection),{top:I,bottom:L,horizontal:Q}}function v(P,M){let E=l.top+(M?P.top:P.bottom);return{top:E,bottom:E,horizontal:[]}}}function Ek(i,e){return i.constructor==e.constructor&&i.eq(e)}class Zk{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(oo)!=e.state.facet(oo)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,s=e.facet(oo);for(;t<s.length&&s[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,s)=>!Ek(t,this.drawn[s]))){let t=this.dom.firstChild,s=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[s].constructor&&n.update(t,this.drawn[s])?(t=t.nextSibling,s++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const oo=ne.define();function Gp(i){return[ct.define(e=>new Zk(e,i)),oo.of(i)]}const rr=ne.define({combine(i){return Ts(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ik(i={}){return[rr.of(i),Bk,zk,_k,Cp.of(!0)]}function Hp(i){return i.startState.facet(rr)!=i.state.facet(rr)}const Bk=Gp({above:!0,markers(i){let{state:e}=i,t=e.facet(rr),s=[];for(let n of e.selection.ranges){let r=n==e.selection.main;if(n.empty||t.drawRangeCursor){let o=r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=n.empty?n:U.cursor(n.head,n.head>n.anchor?-1:1);for(let a of Or.forRange(i,o,l))s.push(a)}}return s},update(i,e){i.transactions.some(s=>s.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Hp(i);return t&&Gc(i.state,e),i.docChanged||i.selectionSet||t},mount(i,e){Gc(e.state,i)},class:"cm-cursorLayer"});function Gc(i,e){e.style.animationDuration=i.facet(rr).cursorBlinkRate+"ms"}const zk=Gp({above:!1,markers(i){return i.state.selection.ranges.map(e=>e.empty?[]:Or.forRange(i,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(i,e){return i.docChanged||i.selectionSet||i.viewportChanged||Hp(i)},class:"cm-selectionLayer"}),_k=as.highest(re.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Kp=we.define({map(i,e){return i==null?null:e.mapPos(i)}}),Tn=wt.define({create(){return null},update(i,e){return i!=null&&(i=e.changes.mapPos(i)),e.effects.reduce((t,s)=>s.is(Kp)?s.value:t,i)}}),Nk=ct.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var e;let t=i.state.field(Tn);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(Tn)!=t||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:i}=this,e=i.state.field(Tn),t=e!=null&&i.coordsAtPos(e);if(!t)return null;let s=i.scrollDOM.getBoundingClientRect();return{left:t.left-s.left+i.scrollDOM.scrollLeft*i.scaleX,top:t.top-s.top+i.scrollDOM.scrollTop*i.scaleY,height:t.bottom-t.top}}drawCursor(i){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;i?(this.cursor.style.left=i.left/e+"px",this.cursor.style.top=i.top/t+"px",this.cursor.style.height=i.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(Tn)!=i&&this.view.dispatch({effects:Kp.of(i)})}},{eventObservers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Dk(){return[Tn,Nk]}function Xk(){return Vk}const qk=ye.line({class:"cm-activeLine"}),Vk=ct.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=-1,t=[];for(let s of i.state.selection.ranges){let n=i.lineBlockAt(s.head);n.from>e&&(t.push(qk.range(n.from)),e=n.from)}return ye.set(t)}},{decorations:i=>i.decorations}),Ka=2e3;function jk(i,e,t){let s=Math.min(e.line,t.line),n=Math.max(e.line,t.line),r=[];if(e.off>Ka||t.off>Ka||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=s;a<=n;a++){let h=i.doc.line(a);h.length<=l&&r.push(U.range(h.from+o,h.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=s;a<=n;a++){let h=i.doc.line(a),u=Ma(h.text,o,i.tabSize,!0);if(u<0)r.push(U.cursor(h.to));else{let c=Ma(h.text,l,i.tabSize);r.push(U.range(h.from+u,h.from+c))}}}return r}function Wk(i,e){let t=i.coordsAtPos(i.viewport.from);return t?Math.round(Math.abs((t.left-e)/i.defaultCharacterWidth)):-1}function Hc(i,e){let t=i.posAtCoords({x:e.clientX,y:e.clientY},!1),s=i.state.doc.lineAt(t),n=t-s.from,r=n>Ka?-1:n==s.length?Wk(i,e.clientX):Nh(s.text,i.state.tabSize,t-s.from);return{line:s.number,col:r,off:n}}function Yk(i,e){let t=Hc(i,e),s=i.state.selection;return t?{update(n){if(n.docChanged){let r=n.changes.mapPos(n.startState.doc.line(t.line).from),o=n.state.doc.lineAt(r);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},s=s.map(n.changes)}},get(n,r,o){let l=Hc(i,n);if(!l)return s;let a=jk(i.state,t,l);return a.length?o?U.create(a.concat(s.ranges)):U.create(a):s}}:null}function Uk(i){let e=t=>t.altKey&&t.button==0;return re.mouseSelectionStyle.of((t,s)=>e(s)?Yk(t,s):null)}const Fk={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},Gk={style:"cursor: crosshair"};function Hk(i={}){let[e,t]=Fk[i.key||"Alt"],s=ct.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventObservers:{keydown(n){this.set(n.keyCode==e||t(n))},keyup(n){(n.keyCode==e||!t(n))&&this.set(!1)},mousemove(n){this.set(t(n))}}});return[s,re.contentAttributes.of(n=>{var r;return!((r=n.plugin(s))===null||r===void 0)&&r.isDown?Gk:null})]}const vn="-10000px";class Kk{constructor(e,t,s,n){this.facet=t,this.createTooltipView=s,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let r=null;this.tooltipViews=this.tooltips.map(o=>r=s(o,r))}update(e,t){var s;let n=e.state.facet(this.facet),r=n.filter(a=>a);if(n===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[],l=t?[]:null;for(let a=0;a<r.length;a++){let h=r[a],u=-1;if(h){for(let c=0;c<this.tooltips.length;c++){let d=this.tooltips[c];d&&d.create==h.create&&(u=c)}if(u<0)o[a]=this.createTooltipView(h,a?o[a-1]:null),l&&(l[a]=!!h.above);else{let c=o[a]=this.tooltipViews[u];l&&(l[a]=t[u]),c.update&&c.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(this.removeTooltipView(a),(s=a.destroy)===null||s===void 0||s.call(a));return t&&(l.forEach((a,h)=>t[h]=a),t.length=l.length),this.input=n,this.tooltips=r,this.tooltipViews=o,!0}}function Jk(i){let e=i.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Ml=ne.define({combine:i=>{var e,t,s;return{position:ie.ios?"absolute":((e=i.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=i.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((s=i.find(n=>n.tooltipSpace))===null||s===void 0?void 0:s.tooltipSpace)||Jk}}}),Kc=new WeakMap,Jp=ct.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=i.state.facet(Ml);this.position=e.position,this.parent=e.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Kk(i,eg,(t,s)=>this.createTooltip(t,s),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(i,this.above);e&&this.observeIntersection();let t=e||i.geometryChanged,s=i.state.facet(Ml);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(i,e){let t=i.create(this.view),s=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),i.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=vn,t.dom.style.left="0px",this.container.insertBefore(t.dom,s),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var i,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),(i=s.destroy)===null||i===void 0||i.call(s);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(ie.gecko)t=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==vn&&r.style.left=="0px"){let o=r.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(i=r.width/this.parent.offsetWidth,e=r.height/this.parent.offsetHeight)}else({scaleX:i,scaleY:e}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),n=Yh(this.view);return{visible:{left:s.left+n.left,top:s.top+n.top,right:s.right-n.right,bottom:s.bottom-n.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((r,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Ml).tooltipSpace(this.view),scaleX:i,scaleY:e,makeAbsolute:t}}writeMeasure(i){var e;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:s,scaleX:n,scaleY:r}=i,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],h=this.manager.tooltipViews[l],{dom:u}=h,c=i.pos[l],d=i.size[l];if(!c||a.clip!==!1&&(c.bottom<=Math.max(t.top,s.top)||c.top>=Math.min(t.bottom,s.bottom)||c.right<Math.max(t.left,s.left)-.1||c.left>Math.min(t.right,s.right)+.1)){u.style.top=vn;continue}let f=a.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,m=f?7:0,g=d.right-d.left,b=(e=Kc.get(h))!==null&&e!==void 0?e:d.bottom-d.top,y=h.offset||tv,S=this.view.textDirection==We.LTR,$=d.width>s.right-s.left?S?s.left:s.right-d.width:S?Math.max(s.left,Math.min(c.left-(f?14:0)+y.x,s.right-g)):Math.min(Math.max(s.left,c.left-g+(f?14:0)-y.x),s.right-g),v=this.above[l];!a.strictSide&&(v?c.top-b-m-y.y<s.top:c.bottom+b+m+y.y>s.bottom)&&v==s.bottom-c.bottom>c.top-s.top&&(v=this.above[l]=!v);let P=(v?c.top-s.top:s.bottom-c.bottom)-m;if(P<b&&h.resize!==!1){if(P<this.view.defaultLineHeight){u.style.top=vn;continue}Kc.set(h,b),u.style.height=(b=P)/r+"px"}else u.style.height&&(u.style.height="");let M=v?c.top-b-m-y.y:c.bottom+m+y.y,E=$+g;if(h.overlap!==!0)for(let I of o)I.left<E&&I.right>$&&I.top<M+b&&I.bottom>M&&(M=v?I.top-b-2-m:I.bottom+m+2);if(this.position=="absolute"?(u.style.top=(M-i.parent.top)/r+"px",Jc(u,($-i.parent.left)/n)):(u.style.top=M/r+"px",Jc(u,$/n)),f){let I=c.left+(S?y.x:-y.x)-($+14-7);f.style.left=I/n+"px"}h.overlap!==!0&&o.push({left:$,top:M,right:E,bottom:M+b}),u.classList.toggle("cm-tooltip-above",v),u.classList.toggle("cm-tooltip-below",!v),h.positioned&&h.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=vn}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Jc(i,e){let t=parseInt(i.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(i.style.left=e+"px")}const ev=re.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),tv={x:0,y:0},eg=ne.define({enables:[Jp,ev]});function tg(i,e){let t=i.plugin(Jp);if(!t)return null;let s=t.manager.tooltips.indexOf(e);return s<0?null:t.manager.tooltipViews[s]}const ed=ne.define({combine(i){let e,t;for(let s of i)e=e||s.topContainer,t=t||s.bottomContainer;return{topContainer:e,bottomContainer:t}}});function ig(i,e){let t=i.plugin(sg),s=t?t.specs.indexOf(e):-1;return s>-1?t.panels[s]:null}const sg=ct.fromClass(class{constructor(i){this.input=i.state.facet(Ja),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(i));let e=i.state.facet(ed);this.top=new zr(i,!0,e.topContainer),this.bottom=new zr(i,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(i){let e=i.state.facet(ed);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new zr(i.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new zr(i.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=i.state.facet(Ja);if(t!=this.input){let s=t.filter(a=>a),n=[],r=[],o=[],l=[];for(let a of s){let h=this.specs.indexOf(a),u;h<0?(u=a(i.view),l.push(u)):(u=this.panels[h],u.update&&u.update(i)),n.push(u),(u.top?r:o).push(u)}this.specs=s,this.panels=n,this.top.sync(r),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let s of this.panels)s.update&&s.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>re.scrollMargins.of(e=>{let t=e.plugin(i);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class zr{constructor(e,t,s){this.view=e,this.top=t,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=td(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=td(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function td(i){let e=i.nextSibling;return i.remove(),e}const Ja=ne.define({enables:sg});class Ms extends Ps{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ms.prototype.elementClass="";Ms.prototype.toDOM=void 0;Ms.prototype.mapMode=yt.TrackBefore;Ms.prototype.startSide=Ms.prototype.endSide=-1;Ms.prototype.point=!0;const Tl=ne.define(),iv=ne.define(),lo=ne.define(),id=ne.define({combine:i=>i.some(e=>e)});function sv(i){return[nv]}const nv=ct.fromClass(class{constructor(i){this.view=i,this.domAfter=null,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(lo).map(e=>new nd(i,e)),this.fixed=!i.state.facet(id);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(i){if(this.updateGutters(i)){let e=this.prevViewport,t=i.view.viewport,s=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(s<(t.to-t.from)*.8)}if(i.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(id)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=i.view.viewport}syncGutters(i){let e=this.dom.nextSibling;i&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Ee.iter(this.view.state.facet(Tl),this.view.viewport.from),s=[],n=this.gutters.map(r=>new rv(r,this.view.viewport,-this.view.documentPadding.top));for(let r of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(r.type)){let o=!0;for(let l of r.type)if(l.type==Ct.Text&&o){eh(t,s,l.from);for(let a of n)a.line(this.view,l,s);o=!1}else if(l.widget)for(let a of n)a.widget(this.view,l)}else if(r.type==Ct.Text){eh(t,s,r.from);for(let o of n)o.line(this.view,r,s)}else if(r.widget)for(let o of n)o.widget(this.view,r);for(let r of n)r.finish();i&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(i){let e=i.startState.facet(lo),t=i.state.facet(lo),s=i.docChanged||i.heightChanged||i.viewportChanged||!Ee.eq(i.startState.facet(Tl),i.state.facet(Tl),i.view.viewport.from,i.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(i)&&(s=!0);else{s=!0;let n=[];for(let r of t){let o=e.indexOf(r);o<0?n.push(new nd(this.view,r)):(this.gutters[o].update(i),n.push(this.gutters[o]))}for(let r of this.gutters)r.dom.remove(),n.indexOf(r)<0&&r.destroy();for(let r of n)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.gutters=n}return s}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:i=>re.scrollMargins.of(e=>{let t=e.plugin(i);if(!t||t.gutters.length==0||!t.fixed)return null;let s=t.dom.offsetWidth*e.scaleX,n=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==We.LTR?{left:s,right:n}:{right:s,left:n}})});function sd(i){return Array.isArray(i)?i:[i]}function eh(i,e,t){for(;i.value&&i.from<=t;)i.from==t&&e.push(i.value),i.next()}class rv{constructor(e,t,s){this.gutter=e,this.height=s,this.i=0,this.cursor=Ee.iter(e.markers,t.from)}addElement(e,t,s){let{gutter:n}=this,r=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==n.elements.length){let l=new ng(e,o,r,s);n.elements.push(l),n.dom.appendChild(l.dom)}else n.elements[this.i].update(e,o,r,s);this.height=t.bottom,this.i++}line(e,t,s){let n=[];eh(this.cursor,n,t.from),s.length&&(n=n.concat(s));let r=this.gutter.config.lineMarker(e,t,n);r&&n.unshift(r);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let s=this.gutter.config.widgetMarker(e,t.widget,t),n=s?[s]:null;for(let r of e.state.facet(iv)){let o=r(e,t.widget,t);o&&(n||(n=[])).push(o)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class nd{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in t.domEventHandlers)this.dom.addEventListener(s,n=>{let r=n.target,o;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let a=r.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=n.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[s](e,l,n)&&n.preventDefault()});this.markers=sd(t.markers(e)),t.initialSpacer&&(this.spacer=new ng(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=sd(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let s=e.view.viewport;return!Ee.eq(this.markers,t,s.from,s.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class ng{constructor(e,t,s,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,s,n)}update(e,t,s,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),ov(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let s="cm-gutterElement",n=this.dom.firstChild;for(let r=0,o=0;;){let l=o,a=r<t.length?t[r++]:null,h=!1;if(a){let u=a.elementClass;u&&(s+=" "+u);for(let c=o;c<this.markers.length;c++)if(this.markers[c].compare(a)){l=c,h=!0;break}}else l=this.markers.length;for(;o<l;){let u=this.markers[o++];if(u.toDOM){u.destroy(n);let c=n.nextSibling;n.remove(),n=c}}if(!a)break;a.toDOM&&(h?n=n.nextSibling:this.dom.insertBefore(a.toDOM(e),n)),h&&o++}this.dom.className=s,this.markers=t}destroy(){this.setMarkers(null,[])}}function ov(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].compare(e[t]))return!1;return!0}const lv=ne.define(),av=ne.define(),qs=ne.define({combine(i){return Ts(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let s=Object.assign({},e);for(let n in t){let r=s[n],o=t[n];s[n]=r?(l,a,h)=>r(l,a,h)||o(l,a,h):o}return s}})}});class Ll extends Ms{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function El(i,e){return i.state.facet(qs).formatNumber(e,i.state)}const hv=lo.compute([qs],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lv)},lineMarker(e,t,s){return s.some(n=>n.toDOM)?null:new Ll(El(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,s)=>{for(let n of e.state.facet(av)){let r=n(e,t,s);if(r)return r}return null},lineMarkerChange:e=>e.startState.facet(qs)!=e.state.facet(qs),initialSpacer(e){return new Ll(El(e,rd(e.state.doc.lines)))},updateSpacer(e,t){let s=El(t.view,rd(t.view.state.doc.lines));return s==e.number?e:new Ll(s)},domEventHandlers:i.facet(qs).domEventHandlers,side:"before"}));function uv(i={}){return[qs.of(i),sv(),hv]}function rd(i){let e=9;for(;e<i;)e=e*10+9;return e}const rg=1024;let cv=0;class Zl{constructor(e,t){this.from=e,this.to=t}}class xe{constructor(e={}){this.id=cv++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=It.match(e)),t=>{let s=e(t);return s===void 0?null:[this,s]}}}xe.closedBy=new xe({deserialize:i=>i.split(" ")});xe.openedBy=new xe({deserialize:i=>i.split(" ")});xe.group=new xe({deserialize:i=>i.split(" ")});xe.isolate=new xe({deserialize:i=>{if(i&&i!="rtl"&&i!="ltr"&&i!="auto")throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}});xe.contextHash=new xe({perNode:!0});xe.lookAhead=new xe({perNode:!0});xe.mounted=new xe({perNode:!0});class $o{constructor(e,t,s){this.tree=e,this.overlay=t,this.parser=s}static get(e){return e&&e.props&&e.props[xe.mounted.id]}}const dv=Object.create(null);class It{constructor(e,t,s,n=0){this.name=e,this.props=t,this.id=s,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):dv,s=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new It(e.name||"",t,e.id,s);if(e.props){for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let s in e)for(let n of s.split(" "))t[n]=e[s];return s=>{for(let n=s.prop(xe.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?s.name:n[r]];if(o)return o}}}}It.none=new It("",Object.create(null),0,8);class Hh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let s of this.types){let n=null;for(let r of e){let o=r(s);o&&(n||(n=Object.assign({},s.props)),n[o[0].id]=o[1])}t.push(n?new It(s.name,n,s.id,s.flags):s)}return new Hh(t)}}const _r=new WeakMap,od=new WeakMap;var it;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(it||(it={}));class Je{constructor(e,t,s,n,r){if(this.type=e,this.children=t,this.positions=s,this.length=n,this.props=null,r&&r.length){this.props=Object.create(null);for(let[o,l]of r)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=$o.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let s of this.children){let n=s.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ih(this.topNode,e)}cursorAt(e,t=0,s=0){let n=_r.get(this)||this.topNode,r=new ih(n);return r.moveTo(e,t),_r.set(this,r._tree),r}get topNode(){return new Zt(this,0,0,null)}resolve(e,t=0){let s=or(_r.get(this)||this.topNode,e,t,!1);return _r.set(this,s),s}resolveInner(e,t=0){let s=or(od.get(this)||this.topNode,e,t,!0);return od.set(this,s),s}resolveStack(e,t=0){return pv(this,e,t)}iterate(e){let{enter:t,leave:s,from:n=0,to:r=this.length}=e,o=e.mode||0,l=(o&it.IncludeAnonymous)>0;for(let a=this.cursor(o|it.IncludeAnonymous);;){let h=!1;if(a.from<=r&&a.to>=n&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;h=!0}for(;h&&s&&(l||!a.type.isAnonymous)&&s(a),!a.nextSibling();){if(!a.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:eu(It.none,this.children,this.positions,0,this.children.length,0,this.length,(t,s,n)=>new Je(this.type,t,s,n,this.propValues),e.makeTree||((t,s,n)=>new Je(It.none,t,s,n)))}static build(e){return gv(e)}}Je.empty=new Je(It.none,[],[],0);class Kh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Kh(this.buffer,this.index)}}class ns{constructor(e,t,s){this.buffer=e,this.length=t,this.set=s}get type(){return It.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],s=this.buffer[e+3],n=this.set.types[t],r=n.name;if(/\W/.test(r)&&!n.isError&&(r=JSON.stringify(r)),e+=4,s==e)return r;let o=[];for(;e<s;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,s,n,r){let{buffer:o}=this,l=-1;for(let a=e;a!=t&&!(og(r,n,o[a+1],o[a+2])&&(l=a,s>0));a=o[a+3]);return l}slice(e,t,s){let n=this.buffer,r=new Uint16Array(t-e),o=0;for(let l=e,a=0;l<t;){r[a++]=n[l++],r[a++]=n[l++]-s;let h=r[a++]=n[l++]-s;r[a++]=n[l++]-e,o=Math.max(o,h)}return new ns(r,o,this.set)}}function og(i,e,t,s){switch(i){case-2:return t<e;case-1:return s>=e&&t<e;case 0:return t<e&&s>e;case 1:return t<=e&&s>e;case 2:return s>e;case 4:return!0}}function or(i,e,t,s){for(var n;i.from==i.to||(t<1?i.from>=e:i.from>e)||(t>-1?i.to<=e:i.to<e);){let o=!s&&i instanceof Zt&&i.index<0?null:i.parent;if(!o)return i;i=o}let r=s?0:it.IgnoreOverlays;if(s)for(let o=i,l=o.parent;l;o=l,l=o.parent)o instanceof Zt&&o.index<0&&((n=l.enter(e,t,r))===null||n===void 0?void 0:n.from)!=o.from&&(i=l);for(;;){let o=i.enter(e,t,r);if(!o)return i;i=o}}class lg{cursor(e=0){return new ih(this,e)}getChild(e,t=null,s=null){let n=ld(this,e,t,s);return n.length?n[0]:null}getChildren(e,t=null,s=null){return ld(this,e,t,s)}resolve(e,t=0){return or(this,e,t,!1)}resolveInner(e,t=0){return or(this,e,t,!0)}matchContext(e){return th(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),s=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(s=t,t=n.prevSibling):t=n}return s}get node(){return this}get next(){return this.parent}}class Zt extends lg{constructor(e,t,s,n){super(),this._tree=e,this.from=t,this.index=s,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,s,n,r=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,h=t>0?l.length:-1;e!=h;e+=t){let u=l[e],c=a[e]+o.from;if(og(n,s,c,c+u.length)){if(u instanceof ns){if(r&it.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,s-c,n);if(d>-1)return new ki(new fv(o,u,e,c),null,d)}else if(r&it.IncludeAnonymous||!u.type.isAnonymous||Jh(u)){let d;if(!(r&it.IgnoreMounts)&&(d=$o.get(u))&&!d.overlay)return new Zt(d.tree,c,e,o);let f=new Zt(u,c,e,o);return r&it.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?u.children.length-1:0,t,s,n)}}}if(r&it.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,s=0){let n;if(!(s&it.IgnoreOverlays)&&(n=$o.get(this._tree))&&n.overlay){let r=e-this.from;for(let{from:o,to:l}of n.overlay)if((t>0?o<=r:o<r)&&(t<0?l>=r:l>r))return new Zt(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,s)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ld(i,e,t,s){let n=i.cursor(),r=[];if(!n.firstChild())return r;if(t!=null){for(let o=!1;!o;)if(o=n.type.is(t),!n.nextSibling())return r}for(;;){if(s!=null&&n.type.is(s))return r;if(n.type.is(e)&&r.push(n.node),!n.nextSibling())return s==null?r:[]}}function th(i,e,t=e.length-1){for(let s=i;t>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(e[t]&&e[t]!=s.name)return!1;t--}}return!0}class fv{constructor(e,t,s,n){this.parent=e,this.buffer=t,this.index=s,this.start=n}}class ki extends lg{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,s){super(),this.context=e,this._parent=t,this.index=s,this.type=e.buffer.set.types[e.buffer.buffer[s]]}child(e,t,s){let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,s);return r<0?null:new ki(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,s=0){if(s&it.ExcludeBuffers)return null;let{buffer:n}=this.context,r=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new ki(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ki(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ki(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:s}=this.context,n=this.index+4,r=s.buffer[this.index+3];if(r>n){let o=s.buffer[this.index+1];e.push(s.slice(n,r,o)),t.push(0)}return new Je(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function ag(i){if(!i.length)return null;let e=0,t=i[0];for(let r=1;r<i.length;r++){let o=i[r];(o.from>t.from||o.to<t.to)&&(t=o,e=r)}let s=t instanceof Zt&&t.index<0?null:t.parent,n=i.slice();return s?n[e]=s:n.splice(e,1),new mv(n,t)}class mv{constructor(e,t){this.heads=e,this.node=t}get next(){return ag(this.heads)}}function pv(i,e,t){let s=i.resolveInner(e,t),n=null;for(let r=s instanceof Zt?s:s.context.parent;r;r=r.parent)if(r.index<0){let o=r.parent;(n||(n=[s])).push(o.resolve(e,t)),r=o}else{let o=$o.get(r.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Zt(o.tree,o.overlay[0].from+r.from,-1,r);(n||(n=[s])).push(or(l,e,t,!1))}}return n?ag(n):s}class ih{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let s=e._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:s,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=s+n.buffer[e+1],this.to=s+n.buffer[e+2],!0}yield(e){return e?e instanceof Zt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,s){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,s,this.mode));let{buffer:n}=this.buffer,r=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,s);return r<0?!1:(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,s=this.mode){return this.buffer?s&it.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&it.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&it.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,s=this.stack.length-1;if(e<0){let n=s<0?0:this.stack[s]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(s<0?t.buffer.length:t.buffer[this.stack[s]+3]))return this.yieldBuf(n)}return s<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,s,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let r=0;r<this.index;r++)if(n.buffer.buffer[r+3]<this.index)return!1;({index:t,parent:s}=n)}else({index:t,_parent:s}=this._tree);for(;s;{index:t,_parent:s}=s)if(t>-1)for(let r=t+e,o=e<0?-1:s._tree.children.length;r!=o;r+=e){let l=s._tree.children[r];if(this.mode&it.IncludeAnonymous||l instanceof ns||!l.type.isAnonymous||Jh(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,s=0;if(e&&e.context==this.buffer)e:for(let n=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,s=r+1;break e}n=this.stack[--r]}for(let n=s;n<this.stack.length;n++)t=new ki(this.buffer,t,this.stack[n]);return this.bufferNode=new ki(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let s=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){s++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,n=!0}}}matchContext(e){if(!this.buffer)return th(this.node.parent,e);let{buffer:t}=this.buffer,{types:s}=t.set;for(let n=e.length-1,r=this.stack.length-1;n>=0;r--){if(r<0)return th(this._tree,e,n);let o=s[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function Jh(i){return i.children.some(e=>e instanceof ns||!e.type.isAnonymous||Jh(e))}function gv(i){var e;let{buffer:t,nodeSet:s,maxBufferLength:n=rg,reused:r=[],minRepeatType:o=s.types.length}=i,l=Array.isArray(t)?new Kh(t,t.length):t,a=s.types,h=0,u=0;function c(P,M,E,I,L,Q){let{id:R,start:x,end:W,size:G}=l,ue=u,ge=h;for(;G<0;)if(l.next(),G==-1){let le=r[R];E.push(le),I.push(x-P);return}else if(G==-3){h=R;return}else if(G==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${G}`);let de=a[R],_,j,se=x-P;if(W-x<=n&&(j=b(l.pos-M,L))){let le=new Uint16Array(j.size-j.skip),fe=l.pos-j.size,ke=le.length;for(;l.pos>fe;)ke=y(j.start,le,ke);_=new ns(le,W-j.start,s),se=j.start-P}else{let le=l.pos-G;l.next();let fe=[],ke=[],Se=R>=o?R:-1,Ce=0,Ze=W;for(;l.pos>le;)Se>=0&&l.id==Se&&l.size>=0?(l.end<=Ze-n&&(m(fe,ke,x,Ce,l.end,Ze,Se,ue,ge),Ce=fe.length,Ze=l.end),l.next()):Q>2500?d(x,le,fe,ke):c(x,le,fe,ke,Se,Q+1);if(Se>=0&&Ce>0&&Ce<fe.length&&m(fe,ke,x,Ce,x,Ze,Se,ue,ge),fe.reverse(),ke.reverse(),Se>-1&&Ce>0){let je=f(de,ge);_=eu(de,fe,ke,0,fe.length,0,W-x,je,je)}else _=g(de,fe,ke,W-x,ue-W,ge)}E.push(_),I.push(se)}function d(P,M,E,I){let L=[],Q=0,R=-1;for(;l.pos>M;){let{id:x,start:W,end:G,size:ue}=l;if(ue>4)l.next();else{if(R>-1&&W<R)break;R<0&&(R=G-n),L.push(x,W,G),Q++,l.next()}}if(Q){let x=new Uint16Array(Q*4),W=L[L.length-2];for(let G=L.length-3,ue=0;G>=0;G-=3)x[ue++]=L[G],x[ue++]=L[G+1]-W,x[ue++]=L[G+2]-W,x[ue++]=ue;E.push(new ns(x,L[2]-W,s)),I.push(W-P)}}function f(P,M){return(E,I,L)=>{let Q=0,R=E.length-1,x,W;if(R>=0&&(x=E[R])instanceof Je){if(!R&&x.type==P&&x.length==L)return x;(W=x.prop(xe.lookAhead))&&(Q=I[R]+x.length+W)}return g(P,E,I,L,Q,M)}}function m(P,M,E,I,L,Q,R,x,W){let G=[],ue=[];for(;P.length>I;)G.push(P.pop()),ue.push(M.pop()+E-L);P.push(g(s.types[R],G,ue,Q-L,x-Q,W)),M.push(L-E)}function g(P,M,E,I,L,Q,R){if(Q){let x=[xe.contextHash,Q];R=R?[x].concat(R):[x]}if(L>25){let x=[xe.lookAhead,L];R=R?[x].concat(R):[x]}return new Je(P,M,E,I,R)}function b(P,M){let E=l.fork(),I=0,L=0,Q=0,R=E.end-n,x={size:0,start:0,skip:0};e:for(let W=E.pos-P;E.pos>W;){let G=E.size;if(E.id==M&&G>=0){x.size=I,x.start=L,x.skip=Q,Q+=4,I+=4,E.next();continue}let ue=E.pos-G;if(G<0||ue<W||E.start<R)break;let ge=E.id>=o?4:0,de=E.start;for(E.next();E.pos>ue;){if(E.size<0)if(E.size==-3)ge+=4;else break e;else E.id>=o&&(ge+=4);E.next()}L=de,I+=G,Q+=ge}return(M<0||I==P)&&(x.size=I,x.start=L,x.skip=Q),x.size>4?x:void 0}function y(P,M,E){let{id:I,start:L,end:Q,size:R}=l;if(l.next(),R>=0&&I<o){let x=E;if(R>4){let W=l.pos-(R-4);for(;l.pos>W;)E=y(P,M,E)}M[--E]=x,M[--E]=Q-P,M[--E]=L-P,M[--E]=I}else R==-3?h=I:R==-4&&(u=I);return E}let S=[],$=[];for(;l.pos>0;)c(i.start||0,i.bufferStart||0,S,$,-1,0);let v=(e=i.length)!==null&&e!==void 0?e:S.length?$[0]+S[0].length:0;return new Je(a[i.topID],S.reverse(),$.reverse(),v)}const ad=new WeakMap;function ao(i,e){if(!i.isAnonymous||e instanceof ns||e.type!=i)return 1;let t=ad.get(e);if(t==null){t=1;for(let s of e.children){if(s.type!=i||!(s instanceof Je)){t=1;break}t+=ao(i,s)}ad.set(e,t)}return t}function eu(i,e,t,s,n,r,o,l,a){let h=0;for(let m=s;m<n;m++)h+=ao(i,e[m]);let u=Math.ceil(h*1.5/8),c=[],d=[];function f(m,g,b,y,S){for(let $=b;$<y;){let v=$,P=g[$],M=ao(i,m[$]);for($++;$<y;$++){let E=ao(i,m[$]);if(M+E>=u)break;M+=E}if($==v+1){if(M>u){let E=m[v];f(E.children,E.positions,0,E.children.length,g[v]+S);continue}c.push(m[v])}else{let E=g[$-1]+m[$-1].length-P;c.push(eu(i,m,g,v,$,P,E,null,a))}d.push(P+S-r)}}return f(e,t,s,n,0),(l||a)(c,d,o)}class Ov{constructor(){this.map=new WeakMap}setBuffer(e,t,s){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,s)}getBuffer(e,t){let s=this.map.get(e);return s&&s.get(t)}set(e,t){e instanceof ki?this.setBuffer(e.context.buffer,e.index,t):e instanceof Zt&&this.map.set(e.tree,t)}get(e){return e instanceof ki?this.getBuffer(e.context.buffer,e.index):e instanceof Zt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ss{constructor(e,t,s,n,r=!1,o=!1){this.from=e,this.to=t,this.tree=s,this.offset=n,this.open=(r?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],s=!1){let n=[new Ss(0,e.length,e,0,!1,s)];for(let r of t)r.to>e.length&&n.push(r);return n}static applyChanges(e,t,s=128){if(!t.length)return e;let n=[],r=1,o=e.length?e[0]:null;for(let l=0,a=0,h=0;;l++){let u=l<t.length?t[l]:null,c=u?u.fromA:1e9;if(c-a>=s)for(;o&&o.from<c;){let d=o;if(a>=d.from||c<=d.to||h){let f=Math.max(d.from,a)-h,m=Math.min(d.to,c)-h;d=f>=m?null:new Ss(f,m,d.tree,d.offset+h,l>0,!!u)}if(d&&n.push(d),o.to>c)break;o=r<e.length?e[r++]:null}if(!u)break;a=u.toA,h=u.toA-u.toB}return n}}let hg=class{startParse(e,t,s){return typeof e=="string"&&(e=new yv(e)),s=s?s.length?s.map(n=>new Zl(n.from,n.to)):[new Zl(0,0)]:[new Zl(0,e.length)],this.createParse(e,t||[],s)}parse(e,t,s){let n=this.startParse(e,t,s);for(;;){let r=n.advance();if(r)return r}}};class yv{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new xe({perNode:!0});let bv=0;class Ft{constructor(e,t,s,n){this.name=e,this.set=t,this.base=s,this.modified=n,this.id=bv++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let s=typeof e=="string"?e:"?";if(e instanceof Ft&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new Ft(s,[],null,[]);if(n.set.push(n),t)for(let r of t.set)n.set.push(r);return n}static defineModifier(e){let t=new Ao(e);return s=>s.modified.indexOf(t)>-1?s:Ao.get(s.base||s,s.modified.concat(t).sort((n,r)=>n.id-r.id))}}let wv=0;class Ao{constructor(e){this.name=e,this.instances=[],this.id=wv++}static get(e,t){if(!t.length)return e;let s=t[0].instances.find(l=>l.base==e&&Sv(t,l.modified));if(s)return s;let n=[],r=new Ft(e.name,n,e,t);for(let l of t)l.instances.push(r);let o=kv(t);for(let l of e.set)if(!l.modified.length)for(let a of o)n.push(Ao.get(l,a));return r}}function Sv(i,e){return i.length==e.length&&i.every((t,s)=>t==e[s])}function kv(i){let e=[[]];for(let t=0;t<i.length;t++)for(let s=0,n=e.length;s<n;s++)e.push(e[s].concat(i[t]));return e.sort((t,s)=>s.length-t.length)}function ol(i){let e=Object.create(null);for(let t in i){let s=i[t];Array.isArray(s)||(s=[s]);for(let n of t.split(" "))if(n){let r=[],o=2,l=n;for(let c=0;;){if(l=="..."&&c>0&&c+3==n.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!d)throw new RangeError("Invalid path: "+n);if(r.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),c+=d[0].length,c==n.length)break;let f=n[c++];if(c==n.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+n);l=n.slice(c)}let a=r.length-1,h=r[a];if(!h)throw new RangeError("Invalid path: "+n);let u=new Ro(s,o,a>0?r.slice(0,a):null);e[h]=u.sort(e[h])}}return ug.add(e)}const ug=new xe;class Ro{constructor(e,t,s,n){this.tags=e,this.mode=t,this.context=s,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ro.empty=new Ro([],2,null);function cg(i,e){let t=Object.create(null);for(let r of i)if(!Array.isArray(r.tag))t[r.tag.id]=r.class;else for(let o of r.tag)t[o.id]=r.class;let{scope:s,all:n=null}=e||{};return{style:r=>{let o=n;for(let l of r)for(let a of l.set){let h=t[a.id];if(h){o=o?o+" "+h:h;break}}return o},scope:s}}function vv(i,e){let t=null;for(let s of i){let n=s.style(e);n&&(t=t?t+" "+n:n)}return t}function xv(i,e,t,s=0,n=i.length){let r=new Cv(s,Array.isArray(e)?e:[e],t);r.highlightRange(i.cursor(),s,n,"",r.highlighters),r.flush(n)}class Cv{constructor(e,t,s){this.at=e,this.highlighters=t,this.span=s,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,s,n,r){let{type:o,from:l,to:a}=e;if(l>=s||a<=t)return;o.isTop&&(r=this.highlighters.filter(f=>!f.scope||f.scope(o)));let h=n,u=Pv(e)||Ro.empty,c=vv(r,u.tags);if(c&&(h&&(h+=" "),h+=c,u.mode==1&&(n+=(n?" ":"")+c)),this.startSpan(Math.max(t,l),h),u.opaque)return;let d=e.tree&&e.tree.prop(xe.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+l,1),m=this.highlighters.filter(b=>!b.scope||b.scope(d.tree.type)),g=e.firstChild();for(let b=0,y=l;;b++){let S=b<d.overlay.length?d.overlay[b]:null,$=S?S.from+l:a,v=Math.max(t,y),P=Math.min(s,$);if(v<P&&g)for(;e.from<P&&(this.highlightRange(e,v,P,n,r),this.startSpan(Math.min(P,e.to),h),!(e.to>=$||!e.nextSibling())););if(!S||$>s)break;y=S.to+l,y>t&&(this.highlightRange(f.cursor(),Math.max(t,S.from+l),Math.min(s,y),"",m),this.startSpan(Math.min(s,y),h))}g&&e.parent()}else if(e.firstChild()){d&&(n="");do if(!(e.to<=t)){if(e.from>=s)break;this.highlightRange(e,t,s,n,r),this.startSpan(Math.min(s,e.to),h)}while(e.nextSibling());e.parent()}}}function Pv(i){let e=i.type.prop(ug);for(;e&&e.context&&!i.matchContext(e.context);)e=e.next;return e||null}const K=Ft.define,Nr=K(),Wi=K(),hd=K(Wi),ud=K(Wi),Yi=K(),Dr=K(Yi),Il=K(Yi),gi=K(),ds=K(gi),fi=K(),mi=K(),sh=K(),xn=K(sh),Xr=K(),C={comment:Nr,lineComment:K(Nr),blockComment:K(Nr),docComment:K(Nr),name:Wi,variableName:K(Wi),typeName:hd,tagName:K(hd),propertyName:ud,attributeName:K(ud),className:K(Wi),labelName:K(Wi),namespace:K(Wi),macroName:K(Wi),literal:Yi,string:Dr,docString:K(Dr),character:K(Dr),attributeValue:K(Dr),number:Il,integer:K(Il),float:K(Il),bool:K(Yi),regexp:K(Yi),escape:K(Yi),color:K(Yi),url:K(Yi),keyword:fi,self:K(fi),null:K(fi),atom:K(fi),unit:K(fi),modifier:K(fi),operatorKeyword:K(fi),controlKeyword:K(fi),definitionKeyword:K(fi),moduleKeyword:K(fi),operator:mi,derefOperator:K(mi),arithmeticOperator:K(mi),logicOperator:K(mi),bitwiseOperator:K(mi),compareOperator:K(mi),updateOperator:K(mi),definitionOperator:K(mi),typeOperator:K(mi),controlOperator:K(mi),punctuation:sh,separator:K(sh),bracket:xn,angleBracket:K(xn),squareBracket:K(xn),paren:K(xn),brace:K(xn),content:gi,heading:ds,heading1:K(ds),heading2:K(ds),heading3:K(ds),heading4:K(ds),heading5:K(ds),heading6:K(ds),contentSeparator:K(gi),list:K(gi),quote:K(gi),emphasis:K(gi),strong:K(gi),link:K(gi),monospace:K(gi),strikethrough:K(gi),inserted:K(),deleted:K(),changed:K(),invalid:K(),meta:Xr,documentMeta:K(Xr),annotation:K(Xr),processingInstruction:K(Xr),definition:Ft.defineModifier("definition"),constant:Ft.defineModifier("constant"),function:Ft.defineModifier("function"),standard:Ft.defineModifier("standard"),local:Ft.defineModifier("local"),special:Ft.defineModifier("special")};for(let i in C){let e=C[i];e instanceof Ft&&(e.name=i)}cg([{tag:C.link,class:"tok-link"},{tag:C.heading,class:"tok-heading"},{tag:C.emphasis,class:"tok-emphasis"},{tag:C.strong,class:"tok-strong"},{tag:C.keyword,class:"tok-keyword"},{tag:C.atom,class:"tok-atom"},{tag:C.bool,class:"tok-bool"},{tag:C.url,class:"tok-url"},{tag:C.labelName,class:"tok-labelName"},{tag:C.inserted,class:"tok-inserted"},{tag:C.deleted,class:"tok-deleted"},{tag:C.literal,class:"tok-literal"},{tag:C.string,class:"tok-string"},{tag:C.number,class:"tok-number"},{tag:[C.regexp,C.escape,C.special(C.string)],class:"tok-string2"},{tag:C.variableName,class:"tok-variableName"},{tag:C.local(C.variableName),class:"tok-variableName tok-local"},{tag:C.definition(C.variableName),class:"tok-variableName tok-definition"},{tag:C.special(C.variableName),class:"tok-variableName2"},{tag:C.definition(C.propertyName),class:"tok-propertyName tok-definition"},{tag:C.typeName,class:"tok-typeName"},{tag:C.namespace,class:"tok-namespace"},{tag:C.className,class:"tok-className"},{tag:C.macroName,class:"tok-macroName"},{tag:C.propertyName,class:"tok-propertyName"},{tag:C.operator,class:"tok-operator"},{tag:C.comment,class:"tok-comment"},{tag:C.meta,class:"tok-meta"},{tag:C.invalid,class:"tok-invalid"},{tag:C.punctuation,class:"tok-punctuation"}]);var Bl;const Vs=new xe;function dg(i){return ne.define({combine:i?e=>e.concat(i):void 0})}const tu=new xe;class ni{constructor(e,t,s=[],n=""){this.data=e,this.name=n,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Vt(this)}}),this.parser=t,this.extension=[fn.of(this),$e.languageData.of((r,o,l)=>{let a=cd(r,o,l),h=a.type.prop(Vs);if(!h)return[];let u=r.facet(h),c=a.type.prop(tu);if(c){let d=a.resolve(o-a.from,l);for(let f of c)if(f.test(d,r)){let m=r.facet(f.facet);return f.type=="replace"?m:m.concat(u)}}return u})].concat(s)}isActiveAt(e,t,s=-1){return cd(e,t,s).type.prop(Vs)==this.data}findRegions(e){let t=e.facet(fn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let s=[],n=(r,o)=>{if(r.prop(Vs)==this.data){s.push({from:o,to:o+r.length});return}let l=r.prop(xe.mounted);if(l){if(l.tree.prop(Vs)==this.data){if(l.overlay)for(let a of l.overlay)s.push({from:a.from+o,to:a.to+o});else s.push({from:o,to:o+r.length});return}else if(l.overlay){let a=s.length;if(n(l.tree,l.overlay[0].from+o),s.length>a)return}}for(let a=0;a<r.children.length;a++){let h=r.children[a];h instanceof Je&&n(h,r.positions[a]+o)}};return n(Vt(e),0),s}get allowsNesting(){return!0}}ni.setState=we.define();function cd(i,e,t){let s=i.facet(fn),n=Vt(i).topNode;if(!s||s.allowsNesting)for(let r=n;r;r=r.enter(e,t,it.ExcludeBuffers))r.type.isTop&&(n=r);return n}class cn extends ni{constructor(e,t,s){super(e,t,[],s),this.parser=t}static define(e){let t=dg(e.languageData);return new cn(t,e.parser.configure({props:[Vs.add(s=>s.isTop?t:void 0)]}),e.name)}configure(e,t){return new cn(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Vt(i){let e=i.field(ni.state,!1);return e?e.tree:Je.empty}class Qv{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let s=this.cursorPos-this.string.length;return e<s||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-s,t-s)}}let Cn=null;class Mo{constructor(e,t,s=[],n,r,o,l,a){this.parser=e,this.state=t,this.fragments=s,this.tree=n,this.treeLen=r,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,s){return new Mo(e,t,[],Je.empty,0,s,[],null)}startParse(){return this.parser.startParse(new Qv(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Je.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Ss.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(s=this.parse.stoppedAt)!==null&&s!==void 0?s:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ss.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Cn;Cn=this;try{return e()}finally{Cn=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=dd(e,t.from,t.to);return e}changes(e,t){let{fragments:s,tree:n,treeLen:r,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((h,u,c,d)=>a.push({fromA:h,toA:u,fromB:c,toB:d})),s=Ss.applyChanges(s,a),n=Je.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let h of this.skipped){let u=e.mapPos(h.from,1),c=e.mapPos(h.to,-1);u<c&&l.push({from:u,to:c})}}}return new Mo(this.parser,t,s,n,r,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:n,to:r}=this.skipped[s];n<e.to&&r>e.from&&(this.fragments=dd(this.fragments,n,r),this.skipped.splice(s--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends hg{createParse(t,s,n){let r=n[0].from,o=n[n.length-1].to;return{parsedPos:r,advance(){let a=Cn;if(a){for(let h of n)a.tempSkipped.push(h);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new Je(It.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Cn}}function dd(i,e,t){return Ss.applyChanges(i,[{fromA:e,toA:t,fromB:e,toB:t}])}class dn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),s=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,s)||t.takeTree(),new dn(t)}static init(e){let t=Math.min(3e3,e.doc.length),s=Mo.create(e.facet(fn).parser,e,{from:0,to:t});return s.work(20,t)||s.takeTree(),new dn(s)}}ni.state=wt.define({create:dn.init,update(i,e){for(let t of e.effects)if(t.is(ni.setState))return t.value;return e.startState.facet(fn)!=e.state.facet(fn)?dn.init(e.state):i.apply(e)}});let fg=i=>{let e=setTimeout(()=>i(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(fg=i=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(i,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const zl=typeof navigator<"u"&&(!((Bl=navigator.scheduling)===null||Bl===void 0)&&Bl.isInputPending)?()=>navigator.scheduling.isInputPending():null,$v=ct.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ni.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ni.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=fg(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:n}}=this.view,r=s.field(ni.state);if(r.tree==r.context.tree&&r.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!zl?Math.max(25,e.timeRemaining()-5):1e9),l=r.context.treeLen<n&&s.doc.length>n+1e3,a=r.context.work(()=>zl&&zl()||Date.now()>o,n+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:ni.setState.of(new dn(r.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>qt(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),fn=ne.define({combine(i){return i.length?i[0]:null},enables:i=>[ni.state,$v,re.contentAttributes.compute([i],e=>{let t=e.facet(i);return t&&t.name?{"data-language":t.name}:{}})]});class iu{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Av=ne.define(),ll=ne.define({combine:i=>{if(!i.length)return"  ";let e=i[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return e}});function mg(i){let e=i.facet(ll);return e.charCodeAt(0)==9?i.tabSize*e.length:e.length}function pg(i,e){let t="",s=i.tabSize,n=i.facet(ll)[0];if(n=="	"){for(;e>=s;)t+="	",e-=s;n=" "}for(let r=0;r<e;r++)t+=n;return t}function Rv(i,e){i instanceof $e&&(i=new gg(i));for(let s of i.state.facet(Av)){let n=s(i,e);if(n!==void 0)return n}let t=Vt(i.state);return t.length>=e?Mv(i,t,e):null}class gg{constructor(e,t={}){this.state=e,this.options=t,this.unit=mg(e)}lineAt(e,t=1){let s=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:r}=this.options;return n!=null&&n>=s.from&&n<=s.to?r&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:s.text.slice(n-s.from),from:n}:{text:s.text.slice(0,n-s.from),from:s.from}:s}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:s,from:n}=this.lineAt(e,t);return s.slice(e-n,Math.min(s.length,e+100-n))}column(e,t=1){let{text:s,from:n}=this.lineAt(e,t),r=this.countColumn(s,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(r+=o-this.countColumn(s,s.search(/\S|$/))),r}countColumn(e,t=e.length){return Nh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:s,from:n}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let o=r(n);if(o>-1)return o}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Og=new xe;function Mv(i,e,t){let s=e.resolveStack(t),n=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(n!=s.node){let r=[];for(let o=n;o&&!(o.from<s.node.from||o.to>s.node.to||o.from==s.node.from&&o.type==s.node.type);o=o.parent)r.push(o);for(let o=r.length-1;o>=0;o--)s={node:r[o],next:s}}return yg(s,i,t)}function yg(i,e,t){for(let s=i;s;s=s.next){let n=Lv(s.node);if(n)return n(su.create(e,t,s))}return 0}function Tv(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}function Lv(i){let e=i.type.prop(Og);if(e)return e;let t=i.firstChild,s;if(t&&(s=t.type.prop(xe.closedBy))){let n=i.lastChild,r=n&&s.indexOf(n.name)>-1;return o=>bg(o,!0,1,void 0,r&&!Tv(o)?n.from:void 0)}return i.parent==null?Ev:null}function Ev(){return 0}class su extends gg{constructor(e,t,s){super(e.state,e.options),this.base=e,this.pos=t,this.context=s}get node(){return this.context.node}static create(e,t,s){return new su(e,t,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let s=e.resolve(t.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(Zv(s,e))break;t=this.state.doc.lineAt(s.from)}return this.lineIndent(t.from)}continue(){return yg(this.context.next,this.base,this.pos)}}function Zv(i,e){for(let t=e;t;t=t.parent)if(i==t)return!0;return!1}function Iv(i){let e=i.node,t=e.childAfter(e.from),s=e.lastChild;if(!t)return null;let n=i.options.simulateBreak,r=i.state.doc.lineAt(t.from),o=n==null||n<=r.from?r.to:Math.min(r.to,n);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==s)return null;if(!a.type.isSkipped){if(a.from>=o)return null;let h=/^ */.exec(r.text.slice(t.to-r.from))[0].length;return{from:t.from,to:t.to+h}}l=a.to}}function Bv({closing:i,align:e=!0,units:t=1}){return s=>bg(s,e,t,i)}function bg(i,e,t,s,n){let r=i.textAfter,o=r.match(/^\s*/)[0].length,l=s&&r.slice(o,o+s.length)==s||n==i.pos+o,a=e?Iv(i):null;return a?l?i.column(a.from):i.column(a.to):i.baseIndent+(l?0:i.unit*t)}const zv=i=>i.baseIndent;function _l({except:i,units:e=1}={}){return t=>{let s=i&&i.test(t.textAfter);return t.baseIndent+(s?0:e*t.unit)}}const _v=200;function Nv(){return $e.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let e=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!e.length)return i;let t=i.newDoc,{head:s}=i.newSelection.main,n=t.lineAt(s);if(s>n.from+_v)return i;let r=t.sliceString(n.from,s);if(!e.some(h=>h.test(r)))return i;let{state:o}=i,l=-1,a=[];for(let{head:h}of o.selection.ranges){let u=o.doc.lineAt(h);if(u.from==l)continue;l=u.from;let c=Rv(o,u.from);if(c==null)continue;let d=/^\s*/.exec(u.text)[0],f=pg(o,c);d!=f&&a.push({from:u.from,to:u.from+d.length,insert:f})}return a.length?[i,{changes:a,sequential:!0}]:i})}const Dv=new xe;function Xv(i){let e=i.firstChild,t=i.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?i.to:t.from}:null}class pn{constructor(e,t){this.specs=e;let s;function n(l){let a=ts.newName();return(s||(s=Object.create(null)))["."+a]=l,a}const r=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof ni?l=>l.prop(Vs)==o.data:o?l=>l==o:void 0,this.style=cg(e.map(l=>({tag:l.tag,class:l.class||n(Object.assign({},l,{tag:null}))})),{all:r}).style,this.module=s?new ts(s):null,this.themeType=t.themeType}static define(e,t){return new pn(e,t||{})}}const nh=ne.define(),wg=ne.define({combine(i){return i.length?[i[0]]:null}});function Nl(i){let e=i.facet(nh);return e.length?e:i.facet(wg)}function nu(i,e){let t=[Vv],s;return i instanceof pn&&(i.module&&t.push(re.styleModule.of(i.module)),s=i.themeType),e!=null&&e.fallback?t.push(wg.of(i)):s?t.push(nh.computeN([re.darkTheme],n=>n.facet(re.darkTheme)==(s=="dark")?[i]:[])):t.push(nh.of(i)),t}class qv{constructor(e){this.markCache=Object.create(null),this.tree=Vt(e.state),this.decorations=this.buildDeco(e,Nl(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Vt(e.state),s=Nl(e.state),n=s!=Nl(e.startState),{viewport:r}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<r.to&&!n&&t.type==this.tree.type&&o>=r.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,s),this.decoratedTo=r.to)}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let s=new Qs;for(let{from:n,to:r}of e.visibleRanges)xv(this.tree,t,(o,l,a)=>{s.add(o,l,this.markCache[a]||(this.markCache[a]=ye.mark({class:a})))},n,r);return s.finish()}}const Vv=as.high(ct.fromClass(qv,{decorations:i=>i.decorations})),jv=pn.define([{tag:C.meta,color:"#404740"},{tag:C.link,textDecoration:"underline"},{tag:C.heading,textDecoration:"underline",fontWeight:"bold"},{tag:C.emphasis,fontStyle:"italic"},{tag:C.strong,fontWeight:"bold"},{tag:C.strikethrough,textDecoration:"line-through"},{tag:C.keyword,color:"#708"},{tag:[C.atom,C.bool,C.url,C.contentSeparator,C.labelName],color:"#219"},{tag:[C.literal,C.inserted],color:"#164"},{tag:[C.string,C.deleted],color:"#a11"},{tag:[C.regexp,C.escape,C.special(C.string)],color:"#e40"},{tag:C.definition(C.variableName),color:"#00f"},{tag:C.local(C.variableName),color:"#30a"},{tag:[C.typeName,C.namespace],color:"#085"},{tag:C.className,color:"#167"},{tag:[C.special(C.variableName),C.macroName],color:"#256"},{tag:C.definition(C.propertyName),color:"#00c"},{tag:C.comment,color:"#940"},{tag:C.invalid,color:"#f00"}]),Wv=re.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Sg=1e4,kg="()[]{}",vg=ne.define({combine(i){return Ts(i,{afterCursor:!0,brackets:kg,maxScanDistance:Sg,renderMatch:Fv})}}),Yv=ye.mark({class:"cm-matchingBracket"}),Uv=ye.mark({class:"cm-nonmatchingBracket"});function Fv(i){let e=[],t=i.matched?Yv:Uv;return e.push(t.range(i.start.from,i.start.to)),i.end&&e.push(t.range(i.end.from,i.end.to)),e}const Gv=wt.define({create(){return ye.none},update(i,e){if(!e.docChanged&&!e.selection)return i;let t=[],s=e.state.facet(vg);for(let n of e.state.selection.ranges){if(!n.empty)continue;let r=qr(e.state,n.head,-1,s)||n.head>0&&qr(e.state,n.head-1,1,s)||s.afterCursor&&(qr(e.state,n.head,1,s)||n.head<e.state.doc.length&&qr(e.state,n.head+1,-1,s));r&&(t=t.concat(s.renderMatch(r,e.state)))}return ye.set(t,!0)},provide:i=>re.decorations.from(i)}),Hv=[Gv,Wv];function Kv(i={}){return[vg.of(i),Hv]}const Jv=new xe;function rh(i,e,t){let s=i.prop(e<0?xe.openedBy:xe.closedBy);if(s)return s;if(i.name.length==1){let n=t.indexOf(i.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function oh(i){let e=i.type.prop(Jv);return e?e(i.node):i}function qr(i,e,t,s={}){let n=s.maxScanDistance||Sg,r=s.brackets||kg,o=Vt(i),l=o.resolveInner(e,t);for(let a=l;a;a=a.parent){let h=rh(a.type,t,r);if(h&&a.from<a.to){let u=oh(a);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return ex(i,e,t,a,u,h,r)}}return tx(i,e,t,o,l.type,n,r)}function ex(i,e,t,s,n,r,o){let l=s.parent,a={from:n.from,to:n.to},h=0,u=l==null?void 0:l.cursor();if(u&&(t<0?u.childBefore(s.from):u.childAfter(s.to)))do if(t<0?u.to<=s.from:u.from>=s.to){if(h==0&&r.indexOf(u.type.name)>-1&&u.from<u.to){let c=oh(u);return{start:a,end:c?{from:c.from,to:c.to}:void 0,matched:!0}}else if(rh(u.type,t,o))h++;else if(rh(u.type,-t,o)){if(h==0){let c=oh(u);return{start:a,end:c&&c.from<c.to?{from:c.from,to:c.to}:void 0,matched:!1}}h--}}while(t<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function tx(i,e,t,s,n,r,o){let l=t<0?i.sliceDoc(e-1,e):i.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},u=i.doc.iterRange(e,t>0?i.doc.length:0),c=0;for(let d=0;!u.next().done&&d<=r;){let f=u.value;t<0&&(d+=f.length);let m=e+d*t;for(let g=t>0?0:f.length-1,b=t>0?f.length:-1;g!=b;g+=t){let y=o.indexOf(f[g]);if(!(y<0||s.resolveInner(m+g,1).type!=n))if(y%2==0==t>0)c++;else{if(c==1)return{start:h,end:{from:m+g,to:m+g+1},matched:y>>1==a>>1};c--}}t>0&&(d+=f.length)}return u.done?{start:h,matched:!1}:null}const ix=Object.create(null),fd=[It.none],md=[],pd=Object.create(null),sx=Object.create(null);for(let[i,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])sx[i]=nx(ix,e);function Dl(i,e){md.indexOf(i)>-1||(md.push(i),console.warn(e))}function nx(i,e){let t=[];for(let l of e.split(" ")){let a=[];for(let h of l.split(".")){let u=i[h]||C[h];u?typeof u=="function"?a.length?a=a.map(u):Dl(h,`Modifier ${h} used at start of tag`):a.length?Dl(h,`Tag ${h} used as modifier`):a=Array.isArray(u)?u:[u]:Dl(h,`Unknown highlighting tag ${h}`)}for(let h of a)t.push(h)}if(!t.length)return 0;let s=e.replace(/ /g,"_"),n=s+" "+t.map(l=>l.id),r=pd[n];if(r)return r.id;let o=pd[n]=It.define({id:fd.length,name:s,props:[ol({[s]:t})]});return fd.push(o),o.id}We.RTL,We.LTR;const lh=_i.define(),rx=_i.define(),ox=ne.define(),xg=ne.define({combine(i){return Ts(i,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(s,n)=>e(s,n)||t(s,n)})}}),Cg=wt.define({create(){return vi.empty},update(i,e){let t=e.state.facet(xg),s=e.annotation(lh);if(s){let a=Lt.fromTransaction(e,s.selection),h=s.side,u=h==0?i.undone:i.done;return a?u=To(u,u.length,t.minDepth,a):u=Qg(u,e.startState.selection),new vi(h==0?s.rest:u,h==0?u:s.rest)}let n=e.annotation(rx);if((n=="full"||n=="before")&&(i=i.isolate()),e.annotation(Ke.addToHistory)===!1)return e.changes.empty?i:i.addMapping(e.changes.desc);let r=Lt.fromTransaction(e),o=e.annotation(Ke.time),l=e.annotation(Ke.userEvent);return r?i=i.addChanges(r,o,l,t,e):e.selection&&(i=i.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(n=="full"||n=="after")&&(i=i.isolate()),i},toJSON(i){return{done:i.done.map(e=>e.toJSON()),undone:i.undone.map(e=>e.toJSON())}},fromJSON(i){return new vi(i.done.map(Lt.fromJSON),i.undone.map(Lt.fromJSON))}});function lx(i={}){return[Cg,xg.of(i),re.domEventHandlers({beforeinput(e,t){let s=e.inputType=="historyUndo"?ru:e.inputType=="historyRedo"?lr:null;return s?(e.preventDefault(),s(t)):!1}})]}function al(i,e){return function({state:t,dispatch:s}){if(!e&&t.readOnly)return!1;let n=t.field(Cg,!1);if(!n)return!1;let r=n.pop(i,t,e);return r?(s(r),!0):!1}}const ru=al(0,!1),lr=al(1,!1),ax=al(0,!0),hx=al(1,!0);class Lt{constructor(e,t,s,n,r){this.changes=e,this.effects=t,this.mapped=s,this.startSelection=n,this.selectionsAfter=r}setSelAfter(e){return new Lt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,s;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(s=this.startSelection)===null||s===void 0?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new Lt(e.changes&&et.fromJSON(e.changes),[],e.mapped&&Pi.fromJSON(e.mapped),e.startSelection&&U.fromJSON(e.startSelection),e.selectionsAfter.map(U.fromJSON))}static fromTransaction(e,t){let s=Ht;for(let n of e.startState.facet(ox)){let r=n(e);r.length&&(s=s.concat(r))}return!s.length&&e.changes.empty?null:new Lt(e.changes.invert(e.startState.doc),s,void 0,t||e.startState.selection,Ht)}static selection(e){return new Lt(void 0,Ht,void 0,void 0,e)}}function To(i,e,t,s){let n=e+1>t+20?e-t-1:0,r=i.slice(n,e);return r.push(s),r}function ux(i,e){let t=[],s=!1;return i.iterChangedRanges((n,r)=>t.push(n,r)),e.iterChangedRanges((n,r,o,l)=>{for(let a=0;a<t.length;){let h=t[a++],u=t[a++];l>=h&&o<=u&&(s=!0)}}),s}function cx(i,e){return i.ranges.length==e.ranges.length&&i.ranges.filter((t,s)=>t.empty!=e.ranges[s].empty).length===0}function Pg(i,e){return i.length?e.length?i.concat(e):i:e}const Ht=[],dx=200;function Qg(i,e){if(i.length){let t=i[i.length-1],s=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-dx));return s.length&&s[s.length-1].eq(e)?i:(s.push(e),To(i,i.length-1,1e9,t.setSelAfter(s)))}else return[Lt.selection([e])]}function fx(i){let e=i[i.length-1],t=i.slice();return t[i.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Xl(i,e){if(!i.length)return i;let t=i.length,s=Ht;for(;t;){let n=mx(i[t-1],e,s);if(n.changes&&!n.changes.empty||n.effects.length){let r=i.slice(0,t);return r[t-1]=n,r}else e=n.mapped,t--,s=n.selectionsAfter}return s.length?[Lt.selection(s)]:Ht}function mx(i,e,t){let s=Pg(i.selectionsAfter.length?i.selectionsAfter.map(l=>l.map(e)):Ht,t);if(!i.changes)return Lt.selection(s);let n=i.changes.map(e),r=e.mapDesc(i.changes,!0),o=i.mapped?i.mapped.composeDesc(r):r;return new Lt(n,we.mapEffects(i.effects,e),o,i.startSelection.map(r),s)}const px=/^(input\.type|delete)($|\.)/;class vi{constructor(e,t,s=0,n=void 0){this.done=e,this.undone=t,this.prevTime=s,this.prevUserEvent=n}isolate(){return this.prevTime?new vi(this.done,this.undone):this}addChanges(e,t,s,n,r){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!s||px.test(s))&&(!l.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(r,ux(l.changes,e.changes))||s=="input.type.compose")?o=To(o,o.length-1,n.minDepth,new Lt(e.changes.compose(l.changes),Pg(we.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,Ht)):o=To(o,o.length,n.minDepth,e),new vi(o,Ht,t,s)}addSelection(e,t,s,n){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:Ht;return r.length>0&&t-this.prevTime<n&&s==this.prevUserEvent&&s&&/^select($|\.)/.test(s)&&cx(r[r.length-1],e)?this:new vi(Qg(this.done,e),this.undone,t,s)}addMapping(e){return new vi(Xl(this.done,e),Xl(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,s){let n=e==0?this.done:this.undone;if(n.length==0)return null;let r=n[n.length-1],o=r.selectionsAfter[0]||t.selection;if(s&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:lh.of({side:e,rest:fx(n),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let l=n.length==1?Ht:n.slice(0,n.length-1);return r.mapped&&(l=Xl(l,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:lh.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}vi.empty=new vi(Ht,Ht);const gx=[{key:"Mod-z",run:ru,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:lr,preventDefault:!0},{linux:"Ctrl-Shift-z",run:lr,preventDefault:!0},{key:"Mod-u",run:ax,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:hx,preventDefault:!0}];function $g(i,e){let t=-1;return i.changeByRange(s=>{let n=[];for(let o=s.from;o<=s.to;){let l=i.doc.lineAt(o);l.number>t&&(s.empty||s.to>l.from)&&(e(l,n,s),t=l.number),o=l.to+1}let r=i.changes(n);return{changes:n,range:U.range(r.mapPos(s.anchor,1),r.mapPos(s.head,1))}})}const Ox=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update($g(i,(t,s)=>{s.push({from:t.from,insert:i.facet(ll)})}),{userEvent:"input.indent"})),!0),yx=({state:i,dispatch:e})=>i.readOnly?!1:(e(i.update($g(i,(t,s)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let r=Nh(n,i.tabSize),o=0,l=pg(i,Math.max(0,r-mg(i)));for(;o<n.length&&o<l.length&&n.charCodeAt(o)==l.charCodeAt(o);)o++;s.push({from:t.from+o,to:t.from+n.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),gd={key:"Tab",run:Ox,shift:yx},Od=typeof String.prototype.normalize=="function"?i=>i.normalize("NFKD"):i=>i;class ou{constructor(e,t,s=0,n=e.length,r,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(s,n),this.bufferStart=s,this.normalize=r?l=>r(Od(l)):Od,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Dt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ih(e),s=this.bufferStart+this.bufferPos;this.bufferPos+=wi(e);let n=this.normalize(t);if(n.length)for(let r=0,o=s;;r++){let l=n.charCodeAt(r),a=this.match(l,o,this.bufferPos+this.bufferStart);if(r==n.length-1){if(a)return this.value=a,this;break}o==s&&r<t.length&&t.charCodeAt(r)==l&&o++}}}match(e,t,s){let n=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?n={from:this.matches[r+1],to:s}:(this.matches[r]++,l=!0)),l||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:s}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(ou.prototype[Symbol.iterator]=function(){return this});const Ag={from:-1,to:-1,match:/.*/.exec("")},lu="gm"+(/x/.unicode==null?"":"u");class Rg{constructor(e,t,s,n=0,r=e.length){if(this.text=e,this.to=r,this.curLine="",this.done=!1,this.value=Ag,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Mg(e,t,s,n,r);this.re=new RegExp(t,lu+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.iter=e.iter();let o=e.lineAt(n);this.curLineStart=o.from,this.matchPos=Lo(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let s=this.curLineStart+t.index,n=s+t[0].length;if(this.matchPos=Lo(this.text,n+(s==n?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<n||s>this.value.to)&&(!this.test||this.test(s,n,t)))return this.value={from:s,to:n,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ql=new WeakMap;class sn{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,s){let n=ql.get(e);if(!n||n.from>=s||n.to<=t){let l=new sn(t,e.sliceString(t,s));return ql.set(e,l),l}if(n.from==t&&n.to==s)return n;let{text:r,from:o}=n;return o>t&&(r=e.sliceString(t,o)+r,o=t),n.to<s&&(r+=e.sliceString(n.to,s)),ql.set(e,new sn(o,r)),new sn(t,r.slice(t-o,s-o))}}class Mg{constructor(e,t,s,n,r){this.text=e,this.to=r,this.done=!1,this.value=Ag,this.matchPos=Lo(e,n),this.re=new RegExp(t,lu+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.flat=sn.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let s=this.flat.from+t.index,n=s+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,n,t)))return this.value={from:s,to:n,match:t},this.matchPos=Lo(this.text,n+(s==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=sn.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Rg.prototype[Symbol.iterator]=Mg.prototype[Symbol.iterator]=function(){return this});function bx(i){try{return new RegExp(i,lu),!0}catch{return!1}}function Lo(i,e){if(e>=i.length)return e;let t=i.lineAt(e),s;for(;e<t.to&&(s=t.text.charCodeAt(e-t.from))>=56320&&s<57344;)e++;return e}const wx={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Sx=ne.define({combine(i){return Ts(i,wx,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function kx(i){return[Qx,Px]}const vx=ye.mark({class:"cm-selectionMatch"}),xx=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function yd(i,e,t,s){return(t==0||i(e.sliceDoc(t-1,t))!=Ve.Word)&&(s==e.doc.length||i(e.sliceDoc(s,s+1))!=Ve.Word)}function Cx(i,e,t,s){return i(e.sliceDoc(t,t+1))==Ve.Word&&i(e.sliceDoc(s-1,s))==Ve.Word}const Px=ct.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let e=i.state.facet(Sx),{state:t}=i,s=t.selection;if(s.ranges.length>1)return ye.none;let n=s.main,r,o=null;if(n.empty){if(!e.highlightWordAroundCursor)return ye.none;let a=t.wordAt(n.head);if(!a)return ye.none;o=t.charCategorizer(n.head),r=t.sliceDoc(a.from,a.to)}else{let a=n.to-n.from;if(a<e.minSelectionLength||a>200)return ye.none;if(e.wholeWords){if(r=t.sliceDoc(n.from,n.to),o=t.charCategorizer(n.head),!(yd(o,t,n.from,n.to)&&Cx(o,t,n.from,n.to)))return ye.none}else if(r=t.sliceDoc(n.from,n.to),!r)return ye.none}let l=[];for(let a of i.visibleRanges){let h=new ou(t.doc,r,a.from,a.to);for(;!h.next().done;){let{from:u,to:c}=h.value;if((!o||yd(o,t,u,c))&&(n.empty&&u<=n.from&&c>=n.to?l.push(xx.range(u,c)):(u>=n.to||c<=n.from)&&l.push(vx.range(u,c)),l.length>e.maxMatches))return ye.none}}return ye.set(l)}},{decorations:i=>i.decorations}),Qx=re.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Ls=ne.define({combine(i){return Ts(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Nx(e),scrollToMatch:e=>re.scrollIntoView(e)})}});function $x(i){return i?[Ls.of(i),hh]:hh}class Tg{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||bx(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,s)=>s=="n"?`
`:s=="r"?"\r":s=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Tx(this):new Rx(this)}getCursor(e,t=0,s){let n=e.doc?e:$e.create({doc:e});return s==null&&(s=n.doc.length),this.regexp?_s(this,n,t,s):zs(this,n,t,s)}}class Lg{constructor(e){this.spec=e}}function zs(i,e,t,s){return new ou(e.doc,i.unquoted,t,s,i.caseSensitive?void 0:n=>n.toLowerCase(),i.wholeWord?Ax(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Ax(i,e){return(t,s,n,r)=>((r>t||r+n.length<s)&&(r=Math.max(0,t-2),n=i.sliceString(r,Math.min(i.length,s+2))),(e(Eo(n,t-r))!=Ve.Word||e(Zo(n,t-r))!=Ve.Word)&&(e(Zo(n,s-r))!=Ve.Word||e(Eo(n,s-r))!=Ve.Word))}class Rx extends Lg{constructor(e){super(e)}nextMatch(e,t,s){let n=zs(this.spec,e,s,e.doc.length).nextOverlapping();if(n.done){let r=Math.min(e.doc.length,t+this.spec.unquoted.length);n=zs(this.spec,e,0,r).nextOverlapping()}return n.done||n.value.from==t&&n.value.to==s?null:n.value}prevMatchInRange(e,t,s){for(let n=s;;){let r=Math.max(t,n-1e4-this.spec.unquoted.length),o=zs(this.spec,e,r,n),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(r==t)return null;n-=1e4}}prevMatch(e,t,s){let n=this.prevMatchInRange(e,0,t);return n||(n=this.prevMatchInRange(e,Math.max(0,s-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=t||n.to!=s)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let s=zs(this.spec,e,0,e.doc.length),n=[];for(;!s.next().done;){if(n.length>=t)return null;n.push(s.value)}return n}highlight(e,t,s,n){let r=zs(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,e.doc.length));for(;!r.next().done;)n(r.value.from,r.value.to)}}function _s(i,e,t,s){return new Rg(e.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?Mx(e.charCategorizer(e.selection.main.head)):void 0},t,s)}function Eo(i,e){return i.slice(Gt(i,e,!1),e)}function Zo(i,e){return i.slice(e,Gt(i,e))}function Mx(i){return(e,t,s)=>!s[0].length||(i(Eo(s.input,s.index))!=Ve.Word||i(Zo(s.input,s.index))!=Ve.Word)&&(i(Zo(s.input,s.index+s[0].length))!=Ve.Word||i(Eo(s.input,s.index+s[0].length))!=Ve.Word)}class Tx extends Lg{nextMatch(e,t,s){let n=_s(this.spec,e,s,e.doc.length).next();return n.done&&(n=_s(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,s){for(let n=1;;n++){let r=Math.max(t,s-n*1e4),o=_s(this.spec,e,r,s),l=null;for(;!o.next().done;)l=o.value;if(l&&(r==t||l.from>r+10))return l;if(r==t)return null}}prevMatch(e,t,s){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,s,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,s)=>{if(s=="&")return e.match[0];if(s=="$")return"$";for(let n=s.length;n>0;n--){let r=+s.slice(0,n);if(r>0&&r<e.match.length)return e.match[r]+s.slice(n)}return t})}matchAll(e,t){let s=_s(this.spec,e,0,e.doc.length),n=[];for(;!s.next().done;){if(n.length>=t)return null;n.push(s.value)}return n}highlight(e,t,s,n){let r=_s(this.spec,e,Math.max(0,t-250),Math.min(s+250,e.doc.length));for(;!r.next().done;)n(r.value.from,r.value.to)}}const ar=we.define(),au=we.define(),Ji=wt.define({create(i){return new Vl(ah(i).create(),null)},update(i,e){for(let t of e.effects)t.is(ar)?i=new Vl(t.value.create(),i.panel):t.is(au)&&(i=new Vl(i.query,t.value?hu:null));return i},provide:i=>Ja.from(i,e=>e.panel)});class Vl{constructor(e,t){this.query=e,this.panel=t}}const Lx=ye.mark({class:"cm-searchMatch"}),Ex=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Zx=ct.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Ji))}update(i){let e=i.state.field(Ji);(e!=i.startState.field(Ji)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:i,panel:e}){if(!e||!i.spec.valid)return ye.none;let{view:t}=this,s=new Qs;for(let n=0,r=t.visibleRanges,o=r.length;n<o;n++){let{from:l,to:a}=r[n];for(;n<o-1&&a>r[n+1].from-2*250;)a=r[++n].to;i.highlight(t.state,l,a,(h,u)=>{let c=t.state.selection.ranges.some(d=>d.from==h&&d.to==u);s.add(h,u,c?Ex:Lx)})}return s.finish()}},{decorations:i=>i.decorations});function yr(i){return e=>{let t=e.state.field(Ji,!1);return t&&t.query.spec.valid?i(e,t):zx(e)}}const bd=yr((i,{query:e})=>{let{to:t}=i.state.selection.main,s=e.nextMatch(i.state,t,t);if(!s)return!1;let n=U.single(s.from,s.to),r=i.state.facet(Ls);return i.dispatch({selection:n,effects:[uu(i,s),r.scrollToMatch(n.main,i)],userEvent:"select.search"}),Zg(i),!0}),wd=yr((i,{query:e})=>{let{state:t}=i,{from:s}=t.selection.main,n=e.prevMatch(t,s,s);if(!n)return!1;let r=U.single(n.from,n.to),o=i.state.facet(Ls);return i.dispatch({selection:r,effects:[uu(i,n),o.scrollToMatch(r.main,i)],userEvent:"select.search"}),Zg(i),!0}),Ix=yr((i,{query:e})=>{let t=e.matchAll(i.state,1e3);return!t||!t.length?!1:(i.dispatch({selection:U.create(t.map(s=>U.range(s.from,s.to))),userEvent:"select.search.matches"}),!0)}),Sd=yr((i,{query:e})=>{let{state:t}=i,{from:s,to:n}=t.selection.main;if(t.readOnly)return!1;let r=e.nextMatch(t,s,s);if(!r)return!1;let o=r,l=[],a,h,u=[];o.from==s&&o.to==n&&(h=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),u.push(re.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(s).number)+".")));let c=i.state.changes(l);return o&&(a=U.single(o.from,o.to).map(c),u.push(uu(i,o)),u.push(t.facet(Ls).scrollToMatch(a.main,i))),i.dispatch({changes:c,selection:a,effects:u,userEvent:"input.replace"}),!0}),Bx=yr((i,{query:e})=>{if(i.state.readOnly)return!1;let t=e.matchAll(i.state,1e9).map(n=>{let{from:r,to:o}=n;return{from:r,to:o,insert:e.getReplacement(n)}});if(!t.length)return!1;let s=i.state.phrase("replaced $ matches",t.length)+".";return i.dispatch({changes:t,effects:re.announce.of(s),userEvent:"input.replace.all"}),!0});function hu(i){return i.state.facet(Ls).createPanel(i)}function ah(i,e){var t,s,n,r,o;let l=i.selection.main,a=l.empty||l.to>l.from+100?"":i.sliceDoc(l.from,l.to);if(e&&!a)return e;let h=i.facet(Ls);return new Tg({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:h.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(s=e==null?void 0:e.caseSensitive)!==null&&s!==void 0?s:h.caseSensitive,literal:(n=e==null?void 0:e.literal)!==null&&n!==void 0?n:h.literal,regexp:(r=e==null?void 0:e.regexp)!==null&&r!==void 0?r:h.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function Eg(i){let e=ig(i,hu);return e&&e.dom.querySelector("[main-field]")}function Zg(i){let e=Eg(i);e&&e==i.root.activeElement&&e.select()}const zx=i=>{let e=i.state.field(Ji,!1);if(e&&e.panel){let t=Eg(i);if(t&&t!=i.root.activeElement){let s=ah(i.state,e.query.spec);s.valid&&i.dispatch({effects:ar.of(s)}),t.focus(),t.select()}}else i.dispatch({effects:[au.of(!0),e?ar.of(ah(i.state,e.query.spec)):we.appendConfig.of(hh)]});return!0},_x=i=>{let e=i.state.field(Ji,!1);if(!e||!e.panel)return!1;let t=ig(i,hu);return t&&t.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:au.of(!1)}),!0};class Nx{constructor(e){this.view=e;let t=this.query=e.state.field(Ji).query.spec;this.commit=this.commit.bind(this),this.searchField=Ut("input",{value:t.search,placeholder:Bt(e,"Find"),"aria-label":Bt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ut("input",{value:t.replace,placeholder:Bt(e,"Replace"),"aria-label":Bt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ut("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ut("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ut("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function s(n,r,o){return Ut("button",{class:"cm-button",name:n,onclick:r,type:"button"},o)}this.dom=Ut("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,s("next",()=>bd(e),[Bt(e,"next")]),s("prev",()=>wd(e),[Bt(e,"previous")]),s("select",()=>Ix(e),[Bt(e,"all")]),Ut("label",null,[this.caseField,Bt(e,"match case")]),Ut("label",null,[this.reField,Bt(e,"regexp")]),Ut("label",null,[this.wordField,Bt(e,"by word")]),...e.state.readOnly?[]:[Ut("br"),this.replaceField,s("replace",()=>Sd(e),[Bt(e,"replace")]),s("replaceAll",()=>Bx(e),[Bt(e,"replace all")])],Ut("button",{name:"close",onclick:()=>_x(e),"aria-label":Bt(e,"close"),type:"button"},[""])])}commit(){let e=new Tg({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ar.of(e)}))}keydown(e){Rk(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?wd:bd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Sd(this.view))}update(e){for(let t of e.transactions)for(let s of t.effects)s.is(ar)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ls).top}}function Bt(i,e){return i.state.phrase(e)}const Vr=30,jr=/[\s\.,:;?!]/;function uu(i,{from:e,to:t}){let s=i.state.doc.lineAt(e),n=i.state.doc.lineAt(t).to,r=Math.max(s.from,e-Vr),o=Math.min(n,t+Vr),l=i.state.sliceDoc(r,o);if(r!=s.from){for(let a=0;a<Vr;a++)if(!jr.test(l[a+1])&&jr.test(l[a])){l=l.slice(a);break}}if(o!=n){for(let a=l.length-1;a>l.length-Vr;a--)if(!jr.test(l[a-1])&&jr.test(l[a])){l=l.slice(0,a);break}}return re.announce.of(`${i.state.phrase("current match")}. ${l} ${i.state.phrase("on line")} ${s.number}.`)}const Dx=re.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),hh=[Ji,as.low(Zx),Dx];class Ig{constructor(e,t,s,n){this.state=e,this.pos=t,this.explicit=s,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Vt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),s=Math.max(t.from,this.pos-250),n=t.text.slice(s-t.from,this.pos-t.from),r=n.search(zg(e,!1));return r<0?null:{from:s+r,to:this.pos,text:n.slice(r)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,s){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function kd(i){let e=Object.keys(i).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Xx(i){let e=Object.create(null),t=Object.create(null);for(let{label:n}of i){e[n[0]]=!0;for(let r=1;r<n.length;r++)t[n[r]]=!0}let s=kd(e)+kd(t)+"*$";return[new RegExp("^"+s),new RegExp(s)]}function Bg(i){let e=i.map(n=>typeof n=="string"?{label:n}:n),[t,s]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:Xx(e);return n=>{let r=n.matchBefore(s);return r||n.explicit?{from:r?r.from:n.pos,options:e,validFor:t}:null}}function qx(i,e){return t=>{for(let s=Vt(t.state).resolveInner(t.pos,-1);s;s=s.parent){if(i.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return e(t)}}class vd{constructor(e,t,s,n){this.completion=e,this.source=t,this.match=s,this.score=n}}function ks(i){return i.selection.main.from}function zg(i,e){var t;let{source:s}=i,n=e&&s[0]!="^",r=s[s.length-1]!="$";return!n&&!r?i:new RegExp(`${n?"^":""}(?:${s})${r?"$":""}`,(t=i.flags)!==null&&t!==void 0?t:i.ignoreCase?"i":"")}const cu=_i.define();function Vx(i,e,t,s){let{main:n}=i.selection,r=t-n.from,o=s-n.from;return Object.assign(Object.assign({},i.changeByRange(l=>{if(l!=n&&t!=s&&i.sliceDoc(l.from+r,l.from+o)!=i.sliceDoc(t,s))return{range:l};let a=i.toText(e);return{changes:{from:l.from+r,to:s==n.from?l.to:l.from+o,insert:a},range:U.cursor(l.from+r+a.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const xd=new WeakMap;function jx(i){if(!Array.isArray(i))return i;let e=xd.get(i);return e||xd.set(i,e=Bg(i)),e}const Io=we.define(),hr=we.define();class Wx{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let s=Dt(e,t),n=wi(s);this.chars.push(s);let r=e.slice(t,t+n),o=r.toUpperCase();this.folded.push(Dt(o==r?r.toLowerCase():o,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:s,any:n,precise:r,byWord:o}=this;if(t.length==1){let S=Dt(e,0),$=wi(S),v=$==e.length?0:-100;if(S!=t[0])if(S==s[0])v+=-200;else return null;return this.ret(v,[0,$])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,h=0;if(l<0){for(let S=0,$=Math.min(e.length,200);S<$&&h<a;){let v=Dt(e,S);(v==t[h]||v==s[h])&&(n[h++]=S),S+=wi(v)}if(h<a)return null}let u=0,c=0,d=!1,f=0,m=-1,g=-1,b=/[a-z]/.test(e),y=!0;for(let S=0,$=Math.min(e.length,200),v=0;S<$&&c<a;){let P=Dt(e,S);l<0&&(u<a&&P==t[u]&&(r[u++]=S),f<a&&(P==t[f]||P==s[f]?(f==0&&(m=S),g=S+1,f++):f=0));let M,E=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(M=Ih(P))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!S||E==1&&b||v==0&&E!=0)&&(t[c]==P||s[c]==P&&(d=!0)?o[c++]=S:o.length&&(y=!1)),v=E,S+=wi(P)}return c==a&&o[0]==0&&y?this.result(-100+(d?-200:0),o,e):f==a&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):f==a?this.ret(-900-e.length,[m,g]):c==a?this.result(-100+(d?-200:0)+-700+(y?0:-1100),o,e):t.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,t,s){let n=[],r=0;for(let o of t){let l=o+(this.astral?wi(Dt(s,o)):1);r&&n[r-1]==o?n[r-1]=l:(n[r++]=o,n[r++]=l)}return this.ret(e-s.length,n)}}class Yx{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),s=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return s==null?null:(this.matched=[0,t.length],this.score=s+(e.length==this.pattern.length?0:-100),this)}}const rt=ne.define({combine(i){return Ts(i,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ux,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>s=>Cd(e(s),t(s)),optionClass:(e,t)=>s=>Cd(e(s),t(s)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Cd(i,e){return i?e?i+" "+e:i:e}function Ux(i,e,t,s,n,r){let o=i.textDirection==We.RTL,l=o,a=!1,h="top",u,c,d=e.left-n.left,f=n.right-e.right,m=s.right-s.left,g=s.bottom-s.top;if(l&&d<Math.min(m,f)?l=!1:!l&&f<Math.min(m,d)&&(l=!0),m<=(l?d:f))u=Math.max(n.top,Math.min(t.top,n.bottom-g))-e.top,c=Math.min(400,l?d:f);else{a=!0,c=Math.min(400,(o?e.right:n.right-e.left)-30);let S=n.bottom-e.bottom;S>=g||S>e.top?u=t.bottom-e.top:(h="bottom",u=e.bottom-t.top)}let b=(e.bottom-e.top)/r.offsetHeight,y=(e.right-e.left)/r.offsetWidth;return{style:`${h}: ${u/b}px; max-width: ${c/y}px`,class:"cm-completionInfo-"+(a?o?"left-narrow":"right-narrow":l?"left":"right")}}function Fx(i){let e=i.addToOptions.slice();return i.icons&&e.push({render(t){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),t.type&&s.classList.add(...t.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),s.setAttribute("aria-hidden","true"),s},position:20}),e.push({render(t,s,n,r){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,a=0;for(let h=0;h<r.length;){let u=r[h++],c=r[h++];u>a&&o.appendChild(document.createTextNode(l.slice(a,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(l.slice(u,c))),d.className="cm-completionMatchedText",a=c}return a<l.length&&o.appendChild(document.createTextNode(l.slice(a))),o},position:50},{render(t){if(!t.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=t.detail,s},position:80}),e.sort((t,s)=>t.position-s.position).map(t=>t.render)}function jl(i,e,t){if(i<=t)return{from:0,to:i};if(e<0&&(e=0),e<=i>>1){let n=Math.floor(e/t);return{from:n*t,to:(n+1)*t}}let s=Math.floor((i-e)/t);return{from:i-(s+1)*t,to:i-s*t}}class Gx{constructor(e,t,s){this.view=e,this.stateField=t,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:r,selected:o}=n.open,l=e.state.facet(rt);this.optionContent=Fx(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=jl(r.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:h}=e.state.field(t).open;for(let u=a.target,c;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(c=/-(\d+)$/.exec(u.id))&&+c[1]<h.length){this.applyCompletion(e,h[+c[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(rt).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:hr.of(null)})}),this.showOptions(r,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let s=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),s!=n){let{options:r,selected:o,disabled:l}=s.open;(!n.open||n.open.options!=r)&&(this.range=jl(r.length,o,e.state.facet(rt).maxRenderedOptions),this.showOptions(r,s.id)),this.updateSel(),l!=((t=n.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of t.split(" "))s&&this.dom.classList.add(s);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=jl(t.options.length,t.selected,this.view.state.facet(rt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:s}=t.options[t.selected],{info:n}=s;if(!n)return;let r=typeof n=="string"?document.createTextNode(n):n(s);if(!r)return;"then"in r?r.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,s)}).catch(o=>qt(this.view.state,o,"completion info")):this.addInfoPane(r,s)}}addInfoPane(e,t){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",e.nodeType!=null)s.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:r}=e;s.appendChild(n),this.infoDestroy=r||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let s=this.list.firstChild,n=this.range.from;s;s=s.nextSibling,n++)s.nodeName!="LI"||!s.id?n--:n==e?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),t=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected");return t&&Kx(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),r=this.space;if(!r){let o=this.dom.ownerDocument.documentElement;r={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return n.top>Math.min(r.bottom,t.bottom)-10||n.bottom<Math.max(r.top,t.top)+10?null:this.view.state.facet(rt).positionInfo(this.view,t,n,s,r,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,s){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",o=>{o.target==n&&o.preventDefault()});let r=null;for(let o=s.from;o<s.to;o++){let{completion:l,match:a}=e[o],{section:h}=l;if(h){let d=typeof h=="string"?h:h.name;if(d!=r&&(o>s.from||s.from==0))if(r=d,typeof h!="string"&&h.header)n.appendChild(h.header(h));else{let f=n.appendChild(document.createElement("completion-section"));f.textContent=d}}const u=n.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let c=this.optionClass(l);c&&(u.className=c);for(let d of this.optionContent){let f=d(l,this.view.state,this.view,a);f&&u.appendChild(f)}}return s.from&&n.classList.add("cm-completionListIncompleteTop"),s.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Hx(i,e){return t=>new Gx(t,i,e)}function Kx(i,e){let t=i.getBoundingClientRect(),s=e.getBoundingClientRect(),n=t.height/i.offsetHeight;s.top<t.top?i.scrollTop-=(t.top-s.top)/n:s.bottom>t.bottom&&(i.scrollTop+=(s.bottom-t.bottom)/n)}function Pd(i){return(i.boost||0)*100+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}function Jx(i,e){let t=[],s=null,n=h=>{t.push(h);let{section:u}=h.completion;if(u){s||(s=[]);let c=typeof u=="string"?u:u.name;s.some(d=>d.name==c)||s.push(typeof u=="string"?{name:c}:u)}},r=e.facet(rt);for(let h of i)if(h.hasResult()){let u=h.result.getMatch;if(h.result.filter===!1)for(let c of h.result.options)n(new vd(c,h.source,u?u(c):[],1e9-t.length));else{let c=e.sliceDoc(h.from,h.to),d,f=r.filterStrict?new Yx(c):new Wx(c);for(let m of h.result.options)if(d=f.match(m.label)){let g=m.displayLabel?u?u(m,d.matched):[]:d.matched;n(new vd(m,h.source,g,d.score+(m.boost||0)))}}}if(s){let h=Object.create(null),u=0,c=(d,f)=>{var m,g;return((m=d.rank)!==null&&m!==void 0?m:1e9)-((g=f.rank)!==null&&g!==void 0?g:1e9)||(d.name<f.name?-1:1)};for(let d of s.sort(c))u-=1e5,h[d.name]=u;for(let d of t){let{section:f}=d.completion;f&&(d.score+=h[typeof f=="string"?f:f.name])}}let o=[],l=null,a=r.compareCompletions;for(let h of t.sort((u,c)=>c.score-u.score||a(u.completion,c.completion))){let u=h.completion;!l||l.label!=u.label||l.detail!=u.detail||l.type!=null&&u.type!=null&&l.type!=u.type||l.apply!=u.apply||l.boost!=u.boost?o.push(h):Pd(h.completion)>Pd(l)&&(o[o.length-1]=h),l=h.completion}return o}class js{constructor(e,t,s,n,r,o){this.options=e,this.attrs=t,this.tooltip=s,this.timestamp=n,this.selected=r,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new js(this.options,Qd(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,s,n,r,o){if(n&&!o&&e.some(h=>h.isPending))return n.setDisabled();let l=Jx(e,t);if(!l.length)return n&&e.some(h=>h.isPending)?n.setDisabled():null;let a=t.facet(rt).selectOnOpen?0:-1;if(n&&n.selected!=a&&n.selected!=-1){let h=n.options[n.selected].completion;for(let u=0;u<l.length;u++)if(l[u].completion==h){a=u;break}}return new js(l,Qd(s,a),{pos:e.reduce((h,u)=>u.hasResult()?Math.min(h,u.from):h,1e8),create:r2,above:r.aboveCursor},n?n.timestamp:Date.now(),a,!1)}map(e){return new js(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new js(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Bo{constructor(e,t,s){this.active=e,this.id=t,this.open=s}static start(){return new Bo(s2,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,s=t.facet(rt),r=(s.override||t.languageDataAt("autocomplete",ks(t)).map(jx)).map(a=>(this.active.find(u=>u.source==a)||new Kt(a,this.active.some(u=>u.state!=0)?1:0)).update(e,s));r.length==this.active.length&&r.every((a,h)=>a==this.active[h])&&(r=this.active);let o=this.open,l=e.effects.some(a=>a.is(du));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||r.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!e2(r,this.active)||l?o=js.build(r,t,this.id,o,s,l):o&&o.disabled&&!r.some(a=>a.isPending)&&(o=null),!o&&r.every(a=>!a.isPending)&&r.some(a=>a.hasResult())&&(r=r.map(a=>a.hasResult()?new Kt(a.source,0):a));for(let a of e.effects)a.is(Ng)&&(o=o&&o.setSelected(a.value,this.id));return r==this.active&&o==this.open?this:new Bo(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?t2:i2}}function e2(i,e){if(i==e)return!0;for(let t=0,s=0;;){for(;t<i.length&&!i[t].hasResult();)t++;for(;s<e.length&&!e[s].hasResult();)s++;let n=t==i.length,r=s==e.length;if(n||r)return n==r;if(i[t++].result!=e[s++].result)return!1}}const t2={"aria-autocomplete":"list"},i2={};function Qd(i,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return e>-1&&(t["aria-activedescendant"]=i+"-"+e),t}const s2=[];function _g(i,e){if(i.isUserEvent("input.complete")){let s=i.annotation(cu);if(s&&e.activateOnCompletion(s))return 12}let t=i.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:i.isUserEvent("delete.backward")?2:i.selection?8:i.docChanged?16:0}class Kt{constructor(e,t,s=!1){this.source=e,this.state=t,this.explicit=s}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let s=_g(e,t),n=this;(s&8||s&16&&this.touches(e))&&(n=new Kt(n.source,0)),s&4&&n.state==0&&(n=new Kt(this.source,1)),n=n.updateFor(e,s);for(let r of e.effects)if(r.is(Io))n=new Kt(n.source,1,r.value);else if(r.is(hr))n=new Kt(n.source,0);else if(r.is(du))for(let o of r.value)o.source==n.source&&(n=o);return n}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ks(e.state))}}class nn extends Kt{constructor(e,t,s,n,r,o){super(e,3,t),this.limit=s,this.result=n,this.from=r,this.to=o}hasResult(){return!0}updateFor(e,t){var s;if(!(t&3))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let r=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=ks(e.state);if(l>o||!n||t&2&&(ks(e.startState)==this.from||l<this.limit))return new Kt(this.source,t&4?1:0);let a=e.changes.mapPos(this.limit);return n2(n.validFor,e.state,r,o)?new nn(this.source,this.explicit,a,n,r,o):n.update&&(n=n.update(n,r,o,new Ig(e.state,l,!1)))?new nn(this.source,this.explicit,a,n,n.from,(s=n.to)!==null&&s!==void 0?s:ks(e.state)):new Kt(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new nn(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Kt(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function n2(i,e,t,s){if(!i)return!1;let n=e.sliceDoc(t,s);return typeof i=="function"?i(n,t,s,e):zg(i,!0).test(n)}const du=we.define({map(i,e){return i.map(t=>t.map(e))}}),Ng=we.define(),Tt=wt.define({create(){return Bo.start()},update(i,e){return i.update(e)},provide:i=>[eg.from(i,e=>e.tooltip),re.contentAttributes.from(i,e=>e.attrs)]});function fu(i,e){const t=e.completion.apply||e.completion.label;let s=i.state.field(Tt).active.find(n=>n.source==e.source);return s instanceof nn?(typeof t=="string"?i.dispatch(Object.assign(Object.assign({},Vx(i.state,t,s.from,s.to)),{annotations:cu.of(e.completion)})):t(i,e.completion,s.from,s.to),!0):!1}const r2=Hx(Tt,fu);function Wr(i,e="option"){return t=>{let s=t.state.field(Tt,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<t.state.facet(rt).interactionDelay)return!1;let n=1,r;e=="page"&&(r=tg(t,s.open.tooltip))&&(n=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let{length:o}=s.open.options,l=s.open.selected>-1?s.open.selected+n*(i?1:-1):i?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:Ng.of(l)}),!0}}const o2=i=>{let e=i.state.field(Tt,!1);return i.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<i.state.facet(rt).interactionDelay?!1:fu(i,e.open.options[e.open.selected])},$d=i=>i.state.field(Tt,!1)?(i.dispatch({effects:Io.of(!0)}),!0):!1,l2=i=>{let e=i.state.field(Tt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(i.dispatch({effects:hr.of(null)}),!0)};class a2{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const h2=50,u2=1e3,c2=ct.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of i.state.field(Tt).active)e.isPending&&this.startQuery(e)}update(i){let e=i.state.field(Tt),t=i.state.facet(rt);if(!i.selectionSet&&!i.docChanged&&i.startState.field(Tt)==e)return;let s=i.transactions.some(r=>{let o=_g(r,t);return o&8||(r.selection||r.docChanged)&&!(o&3)});for(let r=0;r<this.running.length;r++){let o=this.running[r];if(s||o.context.abortOnDocChange&&i.docChanged||o.updates.length+i.transactions.length>h2&&Date.now()-o.time>u2){for(let l of o.context.abortListeners)try{l()}catch(a){qt(this.view.state,a)}o.context.abortListeners=null,this.running.splice(r--,1)}else o.updates.push(...i.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),i.transactions.some(r=>r.effects.some(o=>o.is(Io)))&&(this.pendingStart=!0);let n=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(r=>r.isPending&&!this.running.some(o=>o.active.source==r.source))?setTimeout(()=>this.startUpdate(),n):-1,this.composing!=0)for(let r of i.transactions)r.isUserEvent("input.type")?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:i}=this.view,e=i.field(Tt);for(let t of e.active)t.isPending&&!this.running.some(s=>s.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(rt).updateSyncTime))}startQuery(i){let{state:e}=this.view,t=ks(e),s=new Ig(e,t,i.explicit,this.view),n=new a2(i,s);this.running.push(n),Promise.resolve(i.source(s)).then(r=>{n.context.aborted||(n.done=r||null,this.scheduleAccept())},r=>{this.view.dispatch({effects:hr.of(null)}),qt(this.view.state,r)})}scheduleAccept(){this.running.every(i=>i.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(rt).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(rt),s=this.view.state.field(Tt);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(r.done===void 0)continue;if(this.running.splice(n--,1),r.done){let l=ks(r.updates.length?r.updates[0].startState:this.view.state),a=Math.min(l,r.done.from+(r.active.explicit?0:1)),h=new nn(r.active.source,r.active.explicit,a,r.done,r.done.from,(i=r.done.to)!==null&&i!==void 0?i:l);for(let u of r.updates)h=h.update(u,t);if(h.hasResult()){e.push(h);continue}}let o=s.active.find(l=>l.source==r.active.source);if(o&&o.isPending)if(r.done==null){let l=new Kt(r.active.source,0);for(let a of r.updates)l=l.update(a,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:du.of(e)})}},{eventHandlers:{blur(i){let e=this.view.state.field(Tt,!1);if(e&&e.tooltip&&this.view.state.facet(rt).closeOnBlur){let t=e.open&&tg(this.view,e.open.tooltip);(!t||!t.dom.contains(i.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:hr.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Io.of(!1)}),20),this.composing=0}}}),d2=typeof navigator=="object"&&/Win/.test(navigator.platform),f2=as.highest(re.domEventHandlers({keydown(i,e){let t=e.state.field(Tt,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||i.key.length>1||i.ctrlKey&&!(d2&&i.altKey)||i.metaKey)return!1;let s=t.open.options[t.open.selected],n=t.active.find(o=>o.source==s.source),r=s.completion.commitCharacters||n.result.commitCharacters;return r&&r.indexOf(i.key)>-1&&fu(e,s),!1}})),Dg=re.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class m2{constructor(e,t,s,n){this.field=e,this.line=t,this.from=s,this.to=n}}class mu{constructor(e,t,s){this.field=e,this.from=t,this.to=s}map(e){let t=e.mapPos(this.from,-1,yt.TrackDel),s=e.mapPos(this.to,1,yt.TrackDel);return t==null||s==null?null:new mu(this.field,t,s)}}class pu{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let s=[],n=[t],r=e.doc.lineAt(t),o=/^\s*/.exec(r.text)[0];for(let a of this.lines){if(s.length){let h=o,u=/^\t*/.exec(a)[0].length;for(let c=0;c<u;c++)h+=e.facet(ll);n.push(t+h.length-u),a=h+a.slice(u)}s.push(a),t+=a.length+1}let l=this.fieldPositions.map(a=>new mu(a.field,n[a.line]+a.from,n[a.line]+a.to));return{text:s,ranges:l}}static parse(e){let t=[],s=[],n=[],r;for(let o of e.split(/\r\n?|\n/)){for(;r=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let l=r[1]?+r[1]:null,a=r[2]||r[3]||"",h=-1,u=a.replace(/\\[{}]/g,c=>c[1]);for(let c=0;c<t.length;c++)(l!=null?t[c].seq==l:u&&t[c].name==u)&&(h=c);if(h<0){let c=0;for(;c<t.length&&(l==null||t[c].seq!=null&&t[c].seq<l);)c++;t.splice(c,0,{seq:l,name:u}),h=c;for(let d of n)d.field>=h&&d.field++}n.push(new m2(h,s.length,r.index,r.index+u.length)),o=o.slice(0,r.index)+a+o.slice(r.index+r[0].length)}o=o.replace(/\\([{}])/g,(l,a,h)=>{for(let u of n)u.line==s.length&&u.from>h&&(u.from--,u.to--);return a}),s.push(o)}return new pu(s,n)}}let p2=ye.widget({widget:new class extends sl{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),g2=ye.mark({class:"cm-snippetField"});class gn{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(s=>(s.from==s.to?p2:g2).range(s.from,s.to)))}map(e){let t=[];for(let s of this.ranges){let n=s.map(e);if(!n)return null;t.push(n)}return new gn(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(s=>s.field==this.active&&s.from<=t.from&&s.to>=t.to))}}const br=we.define({map(i,e){return i&&i.map(e)}}),O2=we.define(),ur=wt.define({create(){return null},update(i,e){for(let t of e.effects){if(t.is(br))return t.value;if(t.is(O2)&&i)return new gn(i.ranges,t.value)}return i&&e.docChanged&&(i=i.map(e.changes)),i&&e.selection&&!i.selectionInsideField(e.selection)&&(i=null),i},provide:i=>re.decorations.from(i,e=>e?e.deco:ye.none)});function gu(i,e){return U.create(i.filter(t=>t.field==e).map(t=>U.range(t.from,t.to)))}function y2(i){let e=pu.parse(i);return(t,s,n,r)=>{let{text:o,ranges:l}=e.instantiate(t.state,n),{main:a}=t.state.selection,h={changes:{from:n,to:r==a.from?a.to:r,insert:Ae.of(o)},scrollIntoView:!0,annotations:s?[cu.of(s),Ke.userEvent.of("input.complete")]:void 0};if(l.length&&(h.selection=gu(l,0)),l.some(u=>u.field>0)){let u=new gn(l,0),c=h.effects=[br.of(u)];t.state.field(ur,!1)===void 0&&c.push(we.appendConfig.of([ur,v2,x2,Dg]))}t.dispatch(t.state.update(h))}}function Xg(i){return({state:e,dispatch:t})=>{let s=e.field(ur,!1);if(!s||i<0&&s.active==0)return!1;let n=s.active+i,r=i>0&&!s.ranges.some(o=>o.field==n+i);return t(e.update({selection:gu(s.ranges,n),effects:br.of(r?null:new gn(s.ranges,n)),scrollIntoView:!0})),!0}}const b2=({state:i,dispatch:e})=>i.field(ur,!1)?(e(i.update({effects:br.of(null)})),!0):!1,w2=Xg(1),S2=Xg(-1),k2=[{key:"Tab",run:w2,shift:S2},{key:"Escape",run:b2}],Ad=ne.define({combine(i){return i.length?i[0]:k2}}),v2=as.highest(rl.compute([Ad],i=>i.facet(Ad)));function Rt(i,e){return Object.assign(Object.assign({},e),{apply:y2(i)})}const x2=re.domEventHandlers({mousedown(i,e){let t=e.state.field(ur,!1),s;if(!t||(s=e.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let n=t.ranges.find(r=>r.from<=s&&r.to>=s);return!n||n.field==t.active?!1:(e.dispatch({selection:gu(t.ranges,n.field),effects:br.of(t.ranges.some(r=>r.field>n.field)?new gn(t.ranges,n.field):null),scrollIntoView:!0}),!0)}}),cr={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},bs=we.define({map(i,e){let t=e.mapPos(i,-1,yt.TrackAfter);return t??void 0}}),Ou=new class extends Ps{};Ou.startSide=1;Ou.endSide=-1;const qg=wt.define({create(){return Ee.empty},update(i,e){if(i=i.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);i=i.update({filter:s=>s>=t.from&&s<=t.to})}for(let t of e.effects)t.is(bs)&&(i=i.update({add:[Ou.range(t.value,t.value+1)]}));return i}});function C2(){return[Q2,qg]}const Wl="()[]{}<>";function Vg(i){for(let e=0;e<Wl.length;e+=2)if(Wl.charCodeAt(e)==i)return Wl.charAt(e+1);return Ih(i<128?i:i+1)}function jg(i,e){return i.languageDataAt("closeBrackets",e)[0]||cr}const P2=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Q2=re.inputHandler.of((i,e,t,s)=>{if((P2?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let n=i.state.selection.main;if(s.length>2||s.length==2&&wi(Dt(s,0))==1||e!=n.from||t!=n.to)return!1;let r=R2(i.state,s);return r?(i.dispatch(r),!0):!1}),$2=({state:i,dispatch:e})=>{if(i.readOnly)return!1;let s=jg(i,i.selection.main.head).brackets||cr.brackets,n=null,r=i.changeByRange(o=>{if(o.empty){let l=M2(i.doc,o.head);for(let a of s)if(a==l&&hl(i.doc,o.head)==Vg(Dt(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:U.cursor(o.head-a.length)}}return{range:n=o}});return n||e(i.update(r,{scrollIntoView:!0,userEvent:"delete.backward"})),!n},A2=[{key:"Backspace",run:$2}];function R2(i,e){let t=jg(i,i.selection.main.head),s=t.brackets||cr.brackets;for(let n of s){let r=Vg(Dt(n,0));if(e==n)return r==n?E2(i,n,s.indexOf(n+n+n)>-1,t):T2(i,n,r,t.before||cr.before);if(e==r&&Wg(i,i.selection.main.from))return L2(i,n,r)}return null}function Wg(i,e){let t=!1;return i.field(qg).between(0,i.doc.length,s=>{s==e&&(t=!0)}),t}function hl(i,e){let t=i.sliceString(e,e+2);return t.slice(0,wi(Dt(t,0)))}function M2(i,e){let t=i.sliceString(e-2,e);return wi(Dt(t,0))==t.length?t:t.slice(1)}function T2(i,e,t,s){let n=null,r=i.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:bs.of(o.to+e.length),range:U.range(o.anchor+e.length,o.head+e.length)};let l=hl(i.doc,o.head);return!l||/\s/.test(l)||s.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:bs.of(o.head+e.length),range:U.cursor(o.head+e.length)}:{range:n=o}});return n?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function L2(i,e,t){let s=null,n=i.changeByRange(r=>r.empty&&hl(i.doc,r.head)==t?{changes:{from:r.head,to:r.head+t.length,insert:t},range:U.cursor(r.head+t.length)}:s={range:r});return s?null:i.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function E2(i,e,t,s){let n=s.stringPrefixes||cr.stringPrefixes,r=null,o=i.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:bs.of(l.to+e.length),range:U.range(l.anchor+e.length,l.head+e.length)};let a=l.head,h=hl(i.doc,a),u;if(h==e){if(Rd(i,a))return{changes:{insert:e+e,from:a},effects:bs.of(a+e.length),range:U.cursor(a+e.length)};if(Wg(i,a)){let d=t&&i.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+d.length,insert:d},range:U.cursor(a+d.length)}}}else{if(t&&i.sliceDoc(a-2*e.length,a)==e+e&&(u=Md(i,a-2*e.length,n))>-1&&Rd(i,u))return{changes:{insert:e+e+e+e,from:a},effects:bs.of(a+e.length),range:U.cursor(a+e.length)};if(i.charCategorizer(a)(h)!=Ve.Word&&Md(i,a,n)>-1&&!Z2(i,a,e,n))return{changes:{insert:e+e,from:a},effects:bs.of(a+e.length),range:U.cursor(a+e.length)}}return{range:r=l}});return r?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Rd(i,e){let t=Vt(i).resolveInner(e+1);return t.parent&&t.from==e}function Z2(i,e,t,s){let n=Vt(i).resolveInner(e,-1),r=s.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=i.sliceDoc(n.from,Math.min(n.to,n.from+t.length+r)),a=l.indexOf(t);if(!a||a>-1&&s.indexOf(l.slice(0,a))>-1){let u=n.firstChild;for(;u&&u.from==n.from&&u.to-u.from>t.length+a;){if(i.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let h=n.to==e&&n.parent;if(!h)break;n=h}return!1}function Md(i,e,t){let s=i.charCategorizer(e);if(s(i.sliceDoc(e-1,e))!=Ve.Word)return e;for(let n of t){let r=e-n.length;if(i.sliceDoc(r,e)==n&&s(i.sliceDoc(r-1,r))!=Ve.Word)return r}return-1}function I2(i={}){return[f2,Tt,rt.of(i),c2,B2,Dg]}const Yg=[{key:"Ctrl-Space",run:$d},{mac:"Alt-`",run:$d},{key:"Escape",run:l2},{key:"ArrowDown",run:Wr(!0)},{key:"ArrowUp",run:Wr(!1)},{key:"PageDown",run:Wr(!0,"page")},{key:"PageUp",run:Wr(!1,"page")},{key:"Enter",run:o2}],B2=as.highest(rl.computeN([rt],i=>i.facet(rt).defaultKeymap?[Yg]:[]));var Td={};class zo{constructor(e,t,s,n,r,o,l,a,h,u=0,c){this.p=e,this.stack=t,this.state=s,this.reducePos=n,this.pos=r,this.score=o,this.buffer=l,this.bufferBase=a,this.curContext=h,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,s=0){let n=e.parser.context;return new zo(e,[],t,s,s,0,[],0,n?new Ld(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let s=e>>19,n=e&65535,{parser:r}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let l=r.dynamicPrecedence(n);if(l&&(this.score+=l),s==0){this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(s-1)*3-(e&262144?6:0),h=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-h;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=u));let c=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-c;if(n<r.minRepeatTerm||e&131072){let f=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,h,f,d+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=r.getGoto(f,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,h)}storeNode(e,t,s,n=4,r=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==s)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=s;return}}}if(!r||this.pos==s)this.buffer.push(e,t,s,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let l=!1;for(let a=o;a>0&&this.buffer[a-2]>s;a-=4)if(this.buffer[a-1]>=0){l=!0;break}if(l)for(;o>0&&this.buffer[o-2]>s;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=s,this.buffer[o+3]=n}}shift(e,t,s,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,s),t<=this.p.parser.maxNode&&this.buffer.push(t,s,n,4);else{let r=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(r,1)||(this.reducePos=n)),this.pushState(r,s),this.shiftContext(t,s),t<=o.maxNode&&this.buffer.push(t,s,n,4)}}apply(e,t,s,n){e&65536?this.reduce(e):this.shift(e,t,s,n)}useNode(e,t){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=e)&&(this.p.reused.push(e),s++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(s,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let s=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new zo(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let s=e<=this.p.parser.maxNode;s&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,s?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new z2(this);;){let s=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(s==0)return!1;if(!(s&65536))return!0;t.reduce(s)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r=0,o;r<t.length;r+=2)(o=t[r+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[r],o);if(this.stack.length<120)for(let r=0;n.length<8&&r<t.length;r+=2){let o=t[r+1];n.some((l,a)=>a&1&&l==o)||n.push(t[r],o)}t=n}let s=[];for(let n=0;n<t.length&&s.length<4;n+=2){let r=t[n+1];if(r==this.state)continue;let o=this.split();o.pushState(r,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.reducePos=this.pos,o.score-=200,s.push(o)}return s}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let s=t>>19,n=t&65535,r=this.stack.length-s*3;if(r<0||e.getGoto(this.stack[r],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],s=(n,r)=>{if(!t.includes(n))return t.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-r;if(l>1){let a=o&65535,h=this.stack.length-l*3;if(h>=0&&e.getGoto(this.stack[h],a,!1)>=0)return l<<19|65536|a}}else{let l=s(o,r+1);if(l!=null)return l}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Ld(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ld{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class z2{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,s=e>>19;s==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(s-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class _o{constructor(e,t,s){this.stack=e,this.pos=t,this.index=s,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new _o(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new _o(this.stack,this.pos,this.index)}}function Ln(i,e=Uint16Array){if(typeof i!="string")return i;let t=null;for(let s=0,n=0;s<i.length;){let r=0;for(;;){let o=i.charCodeAt(s++),l=!1;if(o==126){r=65535;break}o>=92&&o--,o>=34&&o--;let a=o-32;if(a>=46&&(a-=46,l=!0),r+=a,l)break;r*=46}t?t[n++]=r:t=new e(r)}return t}class ho{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Ed=new ho;class _2{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Ed,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let s=this.range,n=this.rangeIndex,r=this.pos+e;for(;r<s.from;){if(!n)return null;let o=this.ranges[--n];r-=s.from-o.to,s=o}for(;t<0?r>s.to:r>=s.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];r+=o.from-s.to,s=o}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,s,n;if(t>=0&&t<this.chunk.length)s=this.pos+e,n=this.chunk.charCodeAt(t);else{let r=this.resolveOffset(e,1);if(r==null)return-1;if(s=r,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=s;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-s)),n=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),n}acceptToken(e,t=0){let s=t?this.resolveOffset(t,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=s}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Ed,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let s="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(s+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return s}}class rn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:s}=t.p;Ug(this.data,e,t,this.id,s.data,s.tokenPrecTable)}}rn.prototype.contextual=rn.prototype.fallback=rn.prototype.extend=!1;class uh{constructor(e,t,s){this.precTable=t,this.elseToken=s,this.data=typeof e=="string"?Ln(e):e}token(e,t){let s=e.pos,n=0;for(;;){let r=e.next<0,o=e.resolveOffset(1,1);if(Ug(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(r||n++,o==null)break;e.reset(o,e.token)}n&&(e.reset(s,e.token),e.acceptToken(this.elseToken,n))}}uh.prototype.contextual=rn.prototype.fallback=rn.prototype.extend=!1;class wr{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Ug(i,e,t,s,n,r){let o=0,l=1<<s,{dialect:a}=t.p.parser;e:for(;l&i[o];){let h=i[o+1];for(let f=o+3;f<h;f+=2)if((i[f+1]&l)>0){let m=i[f];if(a.allows(m)&&(e.token.value==-1||e.token.value==m||N2(m,e.token.value,n,r))){e.acceptToken(m);break}}let u=e.next,c=0,d=i[o+2];if(e.next<0&&d>c&&i[h+d*3-3]==65535){o=i[h+d*3-1];continue e}for(;c<d;){let f=c+d>>1,m=h+f+(f<<1),g=i[m],b=i[m+1]||65536;if(u<g)d=f;else if(u>=b)c=f+1;else{o=i[m+2],e.advance();continue e}}break}}function Zd(i,e,t){for(let s=e,n;(n=i[s])!=65535;s++)if(n==t)return s-e;return-1}function N2(i,e,t,s){let n=Zd(t,s,e);return n<0||Zd(t,s,i)<n}const zt=typeof process<"u"&&Td&&/\bparse\b/.test(Td.LOG);let Yl=null;function Id(i,e,t){let s=i.cursor(it.IncludeAnonymous);for(s.moveTo(e);;)if(!(t<0?s.childBefore(e):s.childAfter(e)))for(;;){if((t<0?s.to<e:s.from>e)&&!s.type.isError)return t<0?Math.max(0,Math.min(s.to-1,e-25)):Math.min(i.length,Math.max(s.from+1,e+25));if(t<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return t<0?0:i.length}}class D2{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Id(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Id(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let s=this.trees[t],n=this.index[t];if(n==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=s.children[n],o=this.start[t]+s.positions[n];if(o>e)return this.nextStart=o,null;if(r instanceof Je){if(o==e){if(o<this.safeFrom)return null;let l=o+r.length;if(l<=this.safeTo){let a=r.prop(xe.lookAhead);if(!a||l+a<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class X2{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(s=>new ho)}getActions(e){let t=0,s=null,{parser:n}=e.p,{tokenizers:r}=n,o=n.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let h=0;h<r.length;h++){if(!(1<<h&o))continue;let u=r[h],c=this.tokens[h];if(!(s&&!u.fallback)&&((u.contextual||c.start!=e.pos||c.mask!=o||c.context!=l)&&(this.updateCachedToken(c,u,e),c.mask=o,c.context=l),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),c.value!=0)){let d=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!u.extend&&(s=c,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!s&&e.pos==this.stream.end&&(s=new ho,s.value=e.p.parser.eofTerm,s.start=s.end=e.pos,t=this.addActions(e,s.value,s.end,t)),this.mainToken=s,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ho,{pos:s,p:n}=e;return t.start=s,t.end=Math.min(s+1,n.stream.end),t.value=s==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,s){let n=this.stream.clipPos(s.pos);if(t.token(this.stream.reset(n,e),s),e.value>-1){let{parser:r}=s.p;for(let o=0;o<r.specialized.length;o++)if(r.specialized[o]==e.value){let l=r.specializers[o](this.stream.read(e.start,e.end),s);if(l>=0&&s.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,s,n){for(let r=0;r<n;r+=3)if(this.actions[r]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=s,n}addActions(e,t,s,n){let{state:r}=e,{parser:o}=e.p,{data:l}=o;for(let a=0;a<2;a++)for(let h=o.stateSlot(r,a?2:1);;h+=3){if(l[h]==65535)if(l[h+1]==1)h=Ri(l,h+2);else{n==0&&l[h+1]==2&&(n=this.putAction(Ri(l,h+2),t,s,n));break}l[h]==t&&(n=this.putAction(Ri(l,h+1),t,s,n))}return n}}class q2{constructor(e,t,s,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new _2(t,n),this.tokens=new X2(e,this.stream),this.topTerm=e.top[1];let{from:r}=n[0];this.stacks=[zo.start(this,e.top[0],r)],this.fragments=s.length&&this.stream.end-r>e.bufferLength*4?new D2(s,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,s=this.stacks=[],n,r;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)s.push(l);else{if(this.advanceStack(l,s,e))continue;{n||(n=[],r=[]),n.push(l);let a=this.tokens.getMainToken(l);r.push(a.value,a.end)}}break}}if(!s.length){let o=n&&W2(n);if(o)return zt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw zt&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,r,s);if(o)return zt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(s.length>o)for(s.sort((l,a)=>a.score-l.score);s.length>o;)s.pop();s.some(l=>l.reducePos>t)&&this.recovering--}else if(s.length>1){e:for(let o=0;o<s.length-1;o++){let l=s[o];for(let a=o+1;a<s.length;a++){let h=s[a];if(l.sameState(h)||l.buffer.length>500&&h.buffer.length>500)if((l.score-h.score||l.buffer.length-h.buffer.length)>0)s.splice(a--,1);else{s.splice(o--,1);continue e}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let o=1;o<s.length;o++)s[o].pos<this.minStackPos&&(this.minStackPos=s[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,s){let n=e.pos,{parser:r}=this,o=zt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,u=h?e.curContext.hash:0;for(let c=this.fragments.nodeAt(n);c;){let d=this.parser.nodeSet.types[c.type.id]==c.type?r.getGoto(e.state,c.type.id):-1;if(d>-1&&c.length&&(!h||(c.prop(xe.contextHash)||0)==u))return e.useNode(c,d),zt&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(c.type.id)})`),!0;if(!(c instanceof Je)||c.children.length==0||c.positions[0]>0)break;let f=c.children[0];if(f instanceof Je&&c.positions[0]==0)c=f;else break}}let l=r.stateSlot(e.state,4);if(l>0)return e.reduce(l),zt&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let h=0;h<a.length;){let u=a[h++],c=a[h++],d=a[h++],f=h==a.length||!s,m=f?e:e.split(),g=this.tokens.mainToken;if(m.apply(u,c,g?g.start:m.pos,d),zt&&console.log(o+this.stackID(m)+` (via ${u&65536?`reduce of ${r.getName(u&65535)}`:"shift"} for ${r.getName(c)} @ ${n}${m==e?"":", split"})`),f)return!0;m.pos>n?t.push(m):s.push(m)}return!1}advanceFully(e,t){let s=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>s)return Bd(e,t),!0}}runRecovery(e,t,s){let n=null,r=!1;for(let o=0;o<e.length;o++){let l=e[o],a=t[o<<1],h=t[(o<<1)+1],u=zt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(r||(r=!0,l.restart(),zt&&console.log(u+this.stackID(l)+" (restarted)"),this.advanceFully(l,s))))continue;let c=l.split(),d=u;for(let f=0;c.forceReduce()&&f<10&&(zt&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,s));f++)zt&&(d=this.stackID(c)+" -> ");for(let f of l.recoverByInsert(a))zt&&console.log(u+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,s);this.stream.end>l.pos?(h==l.pos&&(h++,a=0),l.recoverByDelete(a,h),zt&&console.log(u+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),Bd(l,s)):(!n||n.score<l.score)&&(n=l)}return n}stackToTree(e){return e.close(),Je.build({buffer:_o.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Yl||(Yl=new WeakMap)).get(e);return t||Yl.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Bd(i,e){for(let t=0;t<e.length;t++){let s=e[t];if(s.pos==i.pos&&s.sameState(i)){e[t].score<i.score&&(e[t]=i);return}}e.push(i)}class V2{constructor(e,t,s){this.source=e,this.flags=t,this.disabled=s}allows(e){return!this.disabled||this.disabled[e]==0}}const Ul=i=>i;class j2{constructor(e){this.start=e.start,this.shift=e.shift||Ul,this.reduce=e.reduce||Ul,this.reuse=e.reuse||Ul,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class mn extends hg{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let s=Object.keys(e.topRules).map(l=>e.topRules[l][1]),n=[];for(let l=0;l<t.length;l++)n.push([]);function r(l,a,h){n[l].push([a,a.deserialize(String(h))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=xe[a]);for(let h=1;h<l.length;){let u=l[h++];if(u>=0)r(u,a,l[h++]);else{let c=l[h+-u];for(let d=-u;d>0;d--)r(l[h++],a,c);h++}}}this.nodeSet=new Hh(t.map((l,a)=>It.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:n[a],top:s.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=rg;let o=Ln(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(zd),this.states=Ln(e.states,Uint32Array),this.data=Ln(e.stateData),this.goto=Ln(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new rn(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,s){let n=new q2(this,e,t,s);for(let r of this.wrappers)n=r(n,e,t,s);return n}getGoto(e,t,s=!1){let n=this.goto;if(t>=n[0])return-1;for(let r=n[t+1];;){let o=n[r++],l=o&1,a=n[r++];if(l&&s)return a;for(let h=r+(o>>1);r<h;r++)if(n[r]==e)return a;if(l)return-1}}hasAction(e,t){let s=this.data;for(let n=0;n<2;n++)for(let r=this.stateSlot(e,n?2:1),o;;r+=3){if((o=s[r])==65535)if(s[r+1]==1)o=s[r=Ri(s,r+2)];else{if(s[r+1]==2)return Ri(s,r+2);break}if(o==t||o==0)return Ri(s,r+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,s=>s==t?!0:null)}allActions(e,t){let s=this.stateSlot(e,4),n=s?t(s):void 0;for(let r=this.stateSlot(e,1);n==null;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ri(this.data,r+2);else break;n=t(Ri(this.data,r+1))}return n}nextStates(e){let t=[];for(let s=this.stateSlot(e,1);;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ri(this.data,s+2);else break;if(!(this.data[s+2]&1)){let n=this.data[s+1];t.some((r,o)=>o&1&&r==n)||t.push(this.data[s],n)}}return t}configure(e){let t=Object.assign(Object.create(mn.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let s=this.topRules[e.top];if(!s)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=s}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(s=>{let n=e.tokenizers.find(r=>r.from==s);return n?n.to:s})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((s,n)=>{let r=e.specializers.find(l=>l.from==s.external);if(!r)return s;let o=Object.assign(Object.assign({},s),{external:r.to});return t.specializers[n]=zd(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),s=t.map(()=>!1);if(e)for(let r of e.split(" ")){let o=t.indexOf(r);o>=0&&(s[o]=!0)}let n=null;for(let r=0;r<t.length;r++)if(!s[r])for(let o=this.dialects[t[r]],l;(l=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[l]=1;return new V2(e,s,n)}static deserialize(e){return new mn(e)}}function Ri(i,e){return i[e]|i[e+1]<<16}function W2(i){let e=null;for(let t of i){let s=t.p.stoppedAt;(t.pos==t.p.stream.end||s!=null&&t.pos>s)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function zd(i){if(i.external){let e=i.extend?1:0;return(t,s)=>i.external(t,s)<<1|e}return i.get}const Y2=315,U2=316,_d=1,F2=2,G2=3,H2=4,K2=317,J2=319,eC=320,tC=5,iC=6,sC=0,ch=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Fg=125,nC=59,dh=47,rC=42,oC=43,lC=45,aC=60,hC=44,uC=63,cC=46,dC=91,fC=new j2({start:!1,shift(i,e){return e==tC||e==iC||e==J2?i:e==eC},strict:!1}),mC=new wr((i,e)=>{let{next:t}=i;(t==Fg||t==-1||e.context)&&i.acceptToken(K2)},{contextual:!0,fallback:!0}),pC=new wr((i,e)=>{let{next:t}=i,s;ch.indexOf(t)>-1||t==dh&&((s=i.peek(1))==dh||s==rC)||t!=Fg&&t!=nC&&t!=-1&&!e.context&&i.acceptToken(Y2)},{contextual:!0}),gC=new wr((i,e)=>{i.next==dC&&!e.context&&i.acceptToken(U2)},{contextual:!0}),OC=new wr((i,e)=>{let{next:t}=i;if(t==oC||t==lC){if(i.advance(),t==i.next){i.advance();let s=!e.context&&e.canShift(_d);i.acceptToken(s?_d:F2)}}else t==uC&&i.peek(1)==cC&&(i.advance(),i.advance(),(i.next<48||i.next>57)&&i.acceptToken(G2))},{contextual:!0});function Fl(i,e){return i>=65&&i<=90||i>=97&&i<=122||i==95||i>=192||!e&&i>=48&&i<=57}const yC=new wr((i,e)=>{if(i.next!=aC||!e.dialectEnabled(sC)||(i.advance(),i.next==dh))return;let t=0;for(;ch.indexOf(i.next)>-1;)i.advance(),t++;if(Fl(i.next,!0)){for(i.advance(),t++;Fl(i.next,!1);)i.advance(),t++;for(;ch.indexOf(i.next)>-1;)i.advance(),t++;if(i.next==hC)return;for(let s=0;;s++){if(s==7){if(!Fl(i.next,!0))return;break}if(i.next!="extends".charCodeAt(s))break;i.advance(),t++}}i.acceptToken(H2,-t)}),bC=ol({"get set async static":C.modifier,"for while do if else switch try catch finally return throw break continue default case":C.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":C.operatorKeyword,"let var const using function class extends":C.definitionKeyword,"import export from":C.moduleKeyword,"with debugger new":C.keyword,TemplateString:C.special(C.string),super:C.atom,BooleanLiteral:C.bool,this:C.self,null:C.null,Star:C.modifier,VariableName:C.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":C.function(C.variableName),VariableDefinition:C.definition(C.variableName),Label:C.labelName,PropertyName:C.propertyName,PrivatePropertyName:C.special(C.propertyName),"CallExpression/MemberExpression/PropertyName":C.function(C.propertyName),"FunctionDeclaration/VariableDefinition":C.function(C.definition(C.variableName)),"ClassDeclaration/VariableDefinition":C.definition(C.className),"NewExpression/VariableName":C.className,PropertyDefinition:C.definition(C.propertyName),PrivatePropertyDefinition:C.definition(C.special(C.propertyName)),UpdateOp:C.updateOperator,"LineComment Hashbang":C.lineComment,BlockComment:C.blockComment,Number:C.number,String:C.string,Escape:C.escape,ArithOp:C.arithmeticOperator,LogicOp:C.logicOperator,BitOp:C.bitwiseOperator,CompareOp:C.compareOperator,RegExp:C.regexp,Equals:C.definitionOperator,Arrow:C.function(C.punctuation),": Spread":C.punctuation,"( )":C.paren,"[ ]":C.squareBracket,"{ }":C.brace,"InterpolationStart InterpolationEnd":C.special(C.brace),".":C.derefOperator,", ;":C.separator,"@":C.meta,TypeName:C.typeName,TypeDefinition:C.definition(C.typeName),"type enum interface implements namespace module declare":C.definitionKeyword,"abstract global Privacy readonly override":C.modifier,"is keyof unique infer asserts":C.operatorKeyword,JSXAttributeValue:C.attributeValue,JSXText:C.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":C.angleBracket,"JSXIdentifier JSXNameSpacedName":C.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":C.attributeName,"JSXBuiltin/JSXIdentifier":C.standard(C.tagName)}),wC={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},SC={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},kC={__proto__:null,"<":193},vC=mn.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:fC,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[bC],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[pC,gC,OC,yC,2,3,4,5,6,7,8,9,10,11,12,13,14,mC,new uh("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new uh("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:i=>wC[i]||-1},{term:342,get:i=>SC[i]||-1},{term:95,get:i=>kC[i]||-1}],tokenPrec:15124}),Gg=[Rt("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Rt("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Rt("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Rt("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Rt("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Rt(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Rt("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Rt(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Rt(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Rt('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Rt('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],xC=Gg.concat([Rt("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Rt("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Rt("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Nd=new Ov,Hg=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Pn(i){return(e,t)=>{let s=e.node.getChild("VariableDefinition");return s&&t(s,i),!0}}const CC=["FunctionDeclaration"],PC={FunctionDeclaration:Pn("function"),ClassDeclaration:Pn("class"),ClassExpression:()=>!0,EnumDeclaration:Pn("constant"),TypeAliasDeclaration:Pn("type"),NamespaceDeclaration:Pn("namespace"),VariableDefinition(i,e){i.matchContext(CC)||e(i,"variable")},TypeDefinition(i,e){e(i,"type")},__proto__:null};function Kg(i,e){let t=Nd.get(e);if(t)return t;let s=[],n=!0;function r(o,l){let a=i.sliceString(o.from,o.to);s.push({label:a,type:l})}return e.cursor(it.IncludeAnonymous).iterate(o=>{if(n)n=!1;else if(o.name){let l=PC[o.name];if(l&&l(o,r)||Hg.has(o.name))return!1}else if(o.to-o.from>8192){for(let l of Kg(i,o.node))s.push(l);return!1}}),Nd.set(e,s),s}const Dd=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Jg=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function QC(i){let e=Vt(i.state).resolveInner(i.pos,-1);if(Jg.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&Dd.test(i.state.sliceDoc(e.from,e.to));if(!t&&!i.explicit)return null;let s=[];for(let n=e;n;n=n.parent)Hg.has(n.name)&&(s=s.concat(Kg(i.state.doc,n)));return{options:s,from:t?e.from:i.pos,validFor:Dd}}const vs=cn.define({name:"javascript",parser:vC.configure({props:[Og.add({IfStatement:_l({except:/^\s*({|else\b)/}),TryStatement:_l({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:zv,SwitchBody:i=>{let e=i.textAfter,t=/^\s*\}/.test(e),s=/^\s*(case|default)\b/.test(e);return i.baseIndent+(t?0:s?1:2)*i.unit},Block:Bv({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":_l({except:/^\s*{/}),JSXElement(i){let e=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},JSXEscape(i){let e=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(e?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),Dv.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Xv,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),eO={test:i=>/^JSX/.test(i.name),facet:dg({commentTokens:{block:{open:"{/*",close:"*/}"}}})},$C=vs.configure({dialect:"ts"},"typescript"),AC=vs.configure({dialect:"jsx",props:[tu.add(i=>i.isTop?[eO]:void 0)]}),RC=vs.configure({dialect:"jsx ts",props:[tu.add(i=>i.isTop?[eO]:void 0)]},"typescript");let tO=i=>({label:i,type:"keyword"});const iO="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(tO),MC=iO.concat(["declare","implements","private","protected","public"].map(tO));function Xd(i={}){let e=i.jsx?i.typescript?RC:AC:i.typescript?$C:vs,t=i.typescript?xC.concat(MC):Gg.concat(iO);return new iu(e,[vs.data.of({autocomplete:qx(Jg,Bg(t))}),vs.data.of({autocomplete:QC}),i.jsx?EC:[]])}function TC(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function qd(i,e,t=i.length){for(let s=e==null?void 0:e.firstChild;s;s=s.nextSibling)if(s.name=="JSXIdentifier"||s.name=="JSXBuiltin"||s.name=="JSXNamespacedName"||s.name=="JSXMemberExpression")return i.sliceString(s.from,Math.min(s.to,t));return""}const LC=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),EC=re.inputHandler.of((i,e,t,s,n)=>{if((LC?i.composing:i.compositionStarted)||i.state.readOnly||e!=t||s!=">"&&s!="/"||!vs.isActiveAt(i.state,e,-1))return!1;let r=n(),{state:o}=r,l=o.changeByRange(a=>{var h;let{head:u}=a,c=Vt(o).resolveInner(u-1,-1),d;if(c.name=="JSXStartTag"&&(c=c.parent),!(o.doc.sliceString(u-1,u)!=s||c.name=="JSXAttributeValue"&&c.to>u)){if(s==">"&&c.name=="JSXFragmentTag")return{range:a,changes:{from:u,insert:"</>"}};if(s=="/"&&c.name=="JSXStartCloseTag"){let f=c.parent,m=f.parent;if(m&&f.from==u-2&&((d=qd(o.doc,m.firstChild,u))||((h=m.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let g=`${d}>`;return{range:U.cursor(u+g.length,-1),changes:{from:u,insert:g}}}}else if(s==">"){let f=TC(c);if(f&&f.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(d=qd(o.doc,f,u)))return{range:a,changes:{from:u,insert:`</${d}>`}}}}return{range:a}});return l.changes.empty?!1:(i.dispatch([r,o.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),sO=ol({Keyword:C.keyword,labelDef:C.labelName,IF:C.labelName,THEN:C.labelName,ELSE:C.labelName,labelRef:C.labelName,delimiter:C.punctuation,LineComment:C.lineComment,newline:C.content}),ZC=mn.deserialize({version:14,states:"$OQYQPOOOhQPO'#ClOOQO'#Cp'#CpOmQPO'#CpOOQO'#Ck'#CkQYQPOOOrQPO'#CoOOQO'#Ce'#CeO!QQPO'#CeO!VQPO,59WOOQO,59[,59[OOQO-E6c-E6cO![QPO,59ZO!jQPO'#CfOOQO'#Cf'#CfOOQO,59P,59PO!oQPO1G.rOOQO-E6d-E6dOOQO,59Q,59QOOQO'#Cm'#CmO!wQPO7+$^O!oQPO<<GxOOQOAN=dAN=d",stateData:"#W~O]OSPOS~ORPOUUO^VObRO~OSXO~OUUO~OU^OV]O^cXWcX~O^_O~OT`O~OU^OV]O^caWca~OUbO~OUUObcO~OWeO^`q~ORTWUbW~",goto:"!]ePPPPPPPPPflPPPPrvzP!QvQTORZTQ[URa[TWOTTSOTQd`RfeSQOTQYRTc`e",nodeNames:" LineComment Program IF Flag THEN Keyword , ELSE",maxTerm:20,propSources:[sO],skippedNodes:[0,1],repeatNodeCount:2,tokenData:",`~RnX^#Ppq#P|}#t!P!Q#y!]!^$h!b!c$m!g!h%X!k!l%p!p!q%{!v!w&Q!|!}%{#T#U&i#V#W&t#W#X'W#]#^(V#`#a(b#a#b(n#b#c(z#c#d)W#d#e)d#g#h*]#k#l*x#y#z#P$f$g#P#BY#BZ#P$IS$I_#P$I|$JO#P$JT$JU#P$KV$KW#P&FU&FV#P~#UY]~X^#Ppq#P#y#z#P$f$g#P#BY#BZ#P$IS$I_#P$I|$JO#P$JT$JU#P$KV$KW#P&FU&FV#P~#yOV~~#|P!P!Q$P~$USP~OY$PZ;'S$P;'S;=`$b<%lO$P~$eP;=`<%l$P~$mO^~~$pQ!c!}$v#T#o$v~${Sb~!Q![$v!c!}$v#R#S$v#T#o$v~%[P!n!o%_~%bP!u!v%e~%hP!g!h%k~%pOW~~%sP!h!i%v~%{OR~~&QOS~~&TP!j!k&W~&ZP!g!h&^~&aP!p!q&d~&iOT~~&lP#g#h&o~&tOU~~&wP#n#o&z~&}P#m#n'Q~'TP#h#i&o~'ZS#T#U'g#`#a&o#c#d'm#n#o's~'jP#_#`&o~'pP#W#X&o~'vP#]#^'y~'|P#X#Y(P~(SP#`#a&o~([QU~#T#U'g#`#a&o~(eP#i#j(h~(kP#U#V&o~(qP#b#c(t~(wP#c#d&o~(}P#X#Y)Q~)TP#Z#[&o~)ZP#W#X)^~)aP#X#Y&o~)gQ#]#^)m#f#g)y~)pP#g#h)s~)vP#n#o&o~)|P#n#o*P~*SP#X#Y*V~*YP#d#e&o~*`R#T#U&o#[#]*i#h#i*r~*lQ#`#a&o#f#g&o~*uP#c#d*V~*{Q#X#Y+R#m#n+v~+UU#T#U+h#]#^&o#^#_+p#`#a&o#f#g(h#g#h&o~+mPU~#_#`&o~+sP#T#U&o~+yS#T#U,V#Z#[&o#`#a&o#g#h&o~,YQ#W#X&o#_#`&o",tokenizers:[0],topRules:{Program:[0,2]},tokenPrec:93}),IC=cn.define({parser:ZC.configure({props:[sO]}),languageData:{name:"maszynaW",extensions:[".mw"],commentTokens:{line:"//"},wordChars:"A-Za-z0-9_"}});function BC(){return new iu(IC)}const Vd=[re.theme({"&":{color:"#000000",backgroundColor:"#FFFFFF"},".cm-content":{caretColor:"#000000"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"#000000"},".cm-selectionBackground, .cm-focused .cm-selectionBackground":{backgroundColor:"#ADD6FF"},".cm-activeLine":{backgroundColor:"#F0F8FF"},".cm-gutters":{backgroundColor:"#FFFFFF",color:"#888888",border:"none"},".cm-activeLineGutter":{backgroundColor:"#F0F8FF"},".cm-lineNumbers .cm-gutterElement":{color:"#888888"},".cm-searchMatch":{backgroundColor:"#FFE0A0"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#FF6200"}}),nu(pn.define([{tag:C.keyword,color:"#0a84ff",fontWeight:"bold"},{tag:C.number,color:"#098658"},{tag:C.labelName,color:"#795E26",fontStyle:"italic"},{tag:C.variableName,color:"#000000"},{tag:C.punctuation,color:"#000000"},{tag:C.lineComment,color:"#008000",fontStyle:"italic"}]))],zC=[re.theme({"&":{color:"#000000",backgroundColor:"#FCFCFC"},".cm-content":{caretColor:"#000000"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"#000000"},".cm-selectionBackground, .cm-focused .cm-selectionBackground":{backgroundColor:"#C8E1FF"},".cm-activeLine":{backgroundColor:"#F5F5F5"},".cm-gutters":{backgroundColor:"#FCFCFC",color:"#666666",border:"none"},".cm-activeLineGutter":{backgroundColor:"#F5F5F5"},".cm-lineNumbers .cm-gutterElement":{color:"#666666"},".cm-searchMatch":{backgroundColor:"#FFE0A0"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#FF6200"}}),nu(pn.define([{tag:C.keyword,color:"#4FC1FF"},{tag:C.number,color:"#098658"},{tag:C.labelName,color:"#795E26",fontStyle:"italic"},{tag:C.variableName,color:"#000000"},{tag:C.punctuation,color:"#000000"},{tag:C.lineComment,color:"#008000",fontStyle:"italic"}]))],nO=ol({instrWord:C.keyword,number:C.number,word:C.variableName,labelDef:C.labelName,labelRef:C.labelName,delimiter:C.punctuation,LineComment:C.lineComment,newline:C.content}),_C=mn.deserialize({version:14,states:"$UQYQPOOOhQPO'#CjO!VQPO'#CoO![QPO'#CpOOQO'#Ch'#ChOOQO'#Cc'#CcQYQPOOO!gQPO,59UOOQO'#Cq'#CqOOQO'#Cd'#CdO#UQPO,59ZO#sQPO,59[OOQO-E6a-E6aOOQO-E6b-E6bO#xQPO1G.uO$gQPO1G.vO$uQPO7+$bOYQPO<<G|OOQOAN=hAN=hOOQO7+$b7+$bO$gQPO1G.vO%ZQPO,59[O![QPO'#CpP$gQPO<<G|",stateData:"%h~OZOSPOS~ORQOSRO]SO_PO~O`WOaWObWOR^XS^XX^X]^X_^XU^X~OaYO~O`WOaWObWO~O`WOaWObWOR^aS^aX^a]^a_^aU^a~O`WOaWObWORcaScaXca]ca_caUca~OT_O~O`WOaWObWORciSciXci]ci_ciUci~ORQOSfO]SO_PO~OUaORdqSdqXdq]dq_dq~OTdO~OSTU_]a_~",goto:"!kfPPPPPPPgmPPPwP!VPPPP!V!V!_QUOR[UQVPS]V^R^YSTOUQ`_SbagRcd]SOU_adgWXPVY^QZRRef",nodeNames:" LineComment Program . IF THEN ELSE",maxTerm:21,propSources:[nO],skippedNodes:[0,1],repeatNodeCount:2,tokenData:";k~RxX^#opq#o!O!P$d!P!Q$i!Q![%W!b!c%`!c!g([!g!h*P!h!k([!k!l1R!l!v([!v!w4i!w!}([#T#o([#y#z#o$f$g#o%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([#BY#BZ#o$IS$I_#o$I|$JO#o$JT$JU#o$KV$KW#o&FU&FV#o~#tYZ~X^#opq#o#y#z#o$f$g#o#BY#BZ#o$IS$I_#o$I|$JO#o$JT$JU#o$KV$KW#o&FU&FV#o~$iOR~~$lP!P!Q$o~$tSP~OY$oZ;'S$o;'S;=`%Q<%lO$o~%TP;=`<%l$o~%]P`~!Q![%W~%cd!c!}&q#T#o&q%k%l&q&]&^&q&n&o&q&o&p&q&p&q&q&q&r&q'S'T&q'T'U&q'}(O&q(O(P&q(P(Q&q(Q(R&q(h(i&q(i(j&q)X)Y&q)Y)Z&q)Z)[&q)[)]&q~&vfb~!Q![&q!c!}&q#R#S&q#T#o&q%k%l&q&]&^&q&n&o&q&o&p&q&p&q&q&q&r&q'S'T&q'T'U&q'}(O&q(O(P&q(P(Q&q(Q(R&q(h(i&q(i(j&q)X)Y&q)Y)Z&q)Z)[&q)[)]&q~(cg_~a~!Q![([![!])z!c!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~*PO]~~*Wi_~a~!Q![([![!])z!c!n([!n!o+u!o!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~+|i_~a~!Q![([![!])z!c!u([!u!v-k!v!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~-ri_~a~!Q![([![!])z!c!g([!g!h/a!h!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~/jgU~_~a~!Q![([![!])z!c!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~1Yi_~a~!Q![([![!])z!c!h([!h!i2w!i!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~3QgS~_~a~!Q![([![!])z!c!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~4pi_~a~!Q![([![!])z!c!j([!j!k6_!k!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~6fi_~a~!Q![([![!])z!c!g([!g!h8T!h!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~8[i_~a~!Q![([![!])z!c!p([!p!q9y!q!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([~:SgT~_~a~!Q![([![!])z!c!}([#R#S([#T#o([%k%l([&]&^([&n&o([&o&p([&p&q([&q&r(['S'T(['T'U(['}(O([(O(P([(P(Q([(Q(R([(h(i([(i(j([)X)Y([)Y)Z([)Z)[([)[)]([",tokenizers:[0],topRules:{Program:[0,2]},tokenPrec:200}),NC=cn.define({parser:_C.configure({props:[nO]}),languageData:{name:"macroW",extensions:[".mwmac"],commentTokens:{line:"//"},wordChars:"A-Za-z0-9_"}});function DC(){return new iu(NC)}function XC(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qC(i,e){return e&&new RegExp("\\p{L}","u").test(e[0])?e[0]===e[0].toUpperCase()?i.toUpperCase():i.toLowerCase():i}function VC(i=[]){const e=Array.from(new Set(i.map(l=>l==null?void 0:l.name).filter(Boolean)));if(e.length===0)return[wt.define({create:()=>ye.none,update:a=>a,provide:a=>re.decorations.from(a)})];const t="[\\p{L}\\p{N}_]",s=new RegExp(`(?<!${t})(?:${e.map(XC).join("|")})(?!${t})`,"giu"),n=ye.mark({class:"cm-macrow-keyword"}),r=wt.define({create(l){return o(l)},update(l,a){return a.docChanged||a.selection?o(a.state):l},provide:l=>re.decorations.from(l)});function o(l){const a=new Qs;let h=0;for(let u=l.doc.iter();!u.done;u.next()){const c=u.value;s.lastIndex=0;let d;for(;d=s.exec(c);){const f=h+d.index,m=f+d[0].length;a.add(f,m,n)}h+=c.length}return a.finish()}return[r]}function jC(i=[]){const e=(i||[]).filter(s=>s==null?void 0:s.name).map(s=>({name:s.name,description:s.description||"rozkaz"}));function t(s){const n=s.matchBefore(/[\p{L}\p{N}_]*/u);if(!n)return null;const r=e.map(({name:o,description:l})=>({label:qC(o,n.text),type:"keyword",detail:l}));return{from:n.from,options:r}}return[I2({override:[t],activateOnTyping:!0,closeOnBlur:!0,selectOnOpen:!0})]}const WC={key:"maximize",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},YC={key:"minimize",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},UC={key:1,class:"fullscreen-controls"},FC=["disabled"],GC={key:2,class:"overlay-lock","aria-hidden":"true"},HC=a0({__name:"CodeMirrorEditor",props:{modelValue:{},language:{},theme:{},readOnly:{type:Boolean},programCompiled:{type:Boolean},disable:{type:Boolean},onCompile:{type:Function},onEdit:{type:Function},autocompleteEnabled:{type:Boolean},commandList:{},maxHeight:{},devStickyCompletion:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:e}){const t=De(!1),s=De(null);function n(){if(!s.value)return;const m=s.value;if(t.value){t.value=!1;const g=()=>{m.style.position="",m.style.top="",m.style.left="",m.style.width="",m.style.height="",m.style.transition="",m.removeEventListener("transitionend",g)};m.addEventListener("transitionend",g,{once:!0})}else{const g=m.getBoundingClientRect();m.style.position="fixed",m.style.top=`${g.top}px`,m.style.left=`${g.left}px`,m.style.width=`${g.width}px`,m.style.height=`${g.height}px`,m.offsetWidth,m.style.transition="all 0.4s cubic-bezier(0.23, 1, 0.32, 1)",t.value=!0}}const r=i,o=Ci(()=>({"--editorMaxHeight":r.maxHeight??"32rem"})),l=e,a=De(null);let h=null;function u(){return r.autocompleteEnabled===!1?[]:r.language==="macroW"?jC(r.commandList||[]):[]}function c(m){switch(m){case"maszynaW":return BC();case"macroW":return DC();case"javascript":return Xd();default:return Xd()}}function d(m){switch(m){case"mwTheme":return Vd;case"macroTheme":return zC;default:return Vd}}function f(){return[uv(),Xk(),lx(),Ik(),Dk(),Uk(),Hk(),Kv(),Nv(),nu(jv,{fallback:!0}),C2(),kx(),$x({top:!0}),rl.of([...A2,...r.autocompleteEnabled!==!1?Yg:[],...gx,{key:"Ctrl-z",run:ru},{key:"Ctrl-y",run:lr},{key:"Ctrl-Shift-z",run:lr},{key:"Tab",run:gd.run},{key:"Shift-Tab",run:gd.run},{key:"Ctrl-a",run:m=>(m.dispatch({selection:{anchor:0,head:m.state.doc.length}}),!0)},{key:"Ctrl-/",run:m=>{const{state:g}=m,b=[];for(let y=0;y<g.selection.ranges.length;y++){const S=g.selection.ranges[y],$=g.doc.lineAt(S.from).from,v=g.doc.lineAt(S.to).to;for(let P=$;P<=v;){const M=g.doc.lineAt(P),E=M.text;if(E.trim().startsWith("//")){const I=E.indexOf("//");b.push({from:M.from+I,to:M.from+I+2+(E[I+2]===" "?1:0),insert:""})}else if(E.trim().length>0){const I=E.search(/\S/),L=I>=0?M.from+I:M.from;b.push({from:L,to:L,insert:"// "})}P=M.to+1}}return b.length>0&&m.dispatch({changes:b}),!0}}]),re.editable.of(!(r.readOnly||r.disable||r.programCompiled)),re.lineWrapping,c(r.language),...d(r.theme),...u(),...r.language==="macroW"?VC(r.commandList||[]):[],re.theme({"&":{fontSize:"14px",fontFamily:"monospace"},".cm-editor":{borderStyle:"solid",borderWidth:4,borderColor:"#003c7d",height:"100%"},".cm-scroller":{overflow:"auto",borderStyle:"solid",borderRadius:"0.25rem",borderWidth:"4px",borderColor:"#003c7d"},".cm-content":{textAlign:"left",padding:"10px",minHeight:"100%"},".cm-line":{textAlign:"left",lineHeight:"1.4"},".cm-selectionBackground":{backgroundColor:"#316AC5 !important",marginTop:"-5px",marginLeft:"-5px",opacity:"0.3 !important"},".cm-focused .cm-selectionBackground":{backgroundColor:"#316AC5 !important",opacity:"0.4 !important"},"&.cm-focused .cm-selectionBackground":{backgroundColor:"#316AC5 !important"},".cm-cursor":{borderLeftColor:"var(--fontColor, #000) !important",marginTop:"-4px",marginLeft:"-4px"},".cm-dropCursor":{borderLeftColor:"#316AC5 !important",borderLeftWidth:"2px !important"},".cm-activeLine":{backgroundColor:"rgba(255, 255, 255, 0.05) !important"},".cm-searchMatch":{backgroundColor:"#ffd700 !important",color:"#000 !important"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#ff8c00 !important"},".tok-labelName, .cmt-labelName":{color:"#795E26 !important",fontStyle:"italic !important"},".tok-labelDef, .cmt-labelDef":{color:"#795E26 !important",fontStyle:"italic !important"},".tok-labelRef, .cmt-labelRef":{color:"#795E26 !important",fontStyle:"italic !important"}}),re.updateListener.of(m=>{if(m.docChanged){const g=m.state.doc.toString();g!==r.modelValue&&l("update:modelValue",g)}})]}return fr(()=>{a.value&&(h=new re({state:$e.create({doc:r.modelValue,extensions:f()}),parent:a.value}))}),$h(()=>{h&&(h.destroy(),h=null)}),nt(()=>r.programCompiled,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),nt(()=>r.modelValue,m=>{h&&m!==h.state.doc.toString()&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:m}})}),nt(()=>r.autocompleteEnabled,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),nt(()=>r.commandList,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})},{deep:!0}),nt(()=>r.disable,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),nt(()=>r.language,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),nt(()=>r.theme,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),nt(()=>r.readOnly,()=>{h&&h.dispatch({effects:we.reconfigure.of(f())})}),(m,g)=>(k(),A("div",{class:be(["editor-wrapper",{"full-screen":t.value,dimmed:m.programCompiled}]),ref_key:"editorWrapper",ref:s,style:tt(o.value)},[m.language==="macroW"?(k(),A("button",{key:0,onClick:n,class:"fullscreen-button"},[t.value?(k(),A("svg",YC,g[3]||(g[3]=[p("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},null,-1)]))):(k(),A("svg",WC,g[2]||(g[2]=[p("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},null,-1)])))])):V("",!0),m.language==="macroW"&&t.value?(k(),A("div",UC,[m.programCompiled?(k(),A("button",{key:1,onClick:g[1]||(g[1]=(...b)=>m.onEdit&&m.onEdit(...b)),class:"compile-btn compile-btn--edit"},[T(Zh),g[5]||(g[5]=p("span",null,"Edytuj",-1))])):(k(),A("button",{key:0,onClick:g[0]||(g[0]=(...b)=>m.onCompile&&m.onCompile(...b)),disabled:!m.modelValue.trim(),class:"execution-btn execution-btn--compile"},[T(Eh),g[4]||(g[4]=p("span",null,"Kompiluj",-1))],8,FC))])):V("",!0),m.programCompiled?(k(),A("div",GC)):V("",!0),p("div",{ref_key:"editorContainer",ref:a,class:be(["codemirror-container",{"full-screen":t.value,dimmed:m.programCompiled}])},null,2)],6))}}),rO=ce(HC,[["__scopeId","data-v-b3611cfd"]]);var Ei=(i=>(i.INFO="INFO",i.WARNING="WARNING",i.ERROR="ERROR",i.CRITICAL="CRITICAL",i))(Ei||{});const fh={INFO:"#3b82f6",WARNING:"#f59e0b",ERROR:"#ef4444",CRITICAL:"#b91c1c"};function KC(i){return fh[i]}class JC extends Error{constructor(e,t){super(e),this.name="AppError",this.level=(t==null?void 0:t.level)??"ERROR",this.code=t==null?void 0:t.code,this.hint=t==null?void 0:t.hint,this.context=t==null?void 0:t.context;const s=t==null?void 0:t.timestamp;this.timestamp=s?s instanceof Date?s.toISOString():new Date(s).toISOString():new Date().toISOString(),Object.setPrototypeOf(this,new.target.prototype)}get color(){return KC(this.level)}}function eP(i,e,t,s=1,n=2){if(!i)return"";const r=i.replace(/\r\n?/g,`
`).split(`
`),o=Math.max(0,Math.min(r.length-1,e-1)),l=Math.max(0,o-n),a=Math.min(r.length-1,o+n),h=String(a+1).length,u=[];for(let c=l;c<=a;c++){const d=String(c+1).padStart(h," ");if(u.push(`${d} | ${r[c]}`),c===o){const f=Math.max(1,t),m=" ".repeat(f-1)+"^"+(s>1?"~".repeat(Math.max(0,s-1)):"");u.push(`${" ".repeat(h)} | ${m}`)}}return u.join(`
`)}class Ye extends JC{constructor(e,t){const s=Ye.composeMessage(e,t);super(s,{code:t==null?void 0:t.code,hint:t==null?void 0:t.hint,level:iP(t==null?void 0:t.severity),context:t}),this.name="WlanError",this.code=t==null?void 0:t.code,this.hint=t==null?void 0:t.hint,this.severity=(t==null?void 0:t.severity)||"error",this.loc=t==null?void 0:t.loc,this.frame=t==null?void 0:t.frame}static composeMessage(e,t){const s=[],n=t!=null&&t.code?`[${t.code}] `:"",r=t!=null&&t.loc?` (linia ${t.loc.line}, kolumna ${t.loc.col})`:"";s.push(`${n}${e}${r}`);const o=(t==null?void 0:t.frame)||(t!=null&&t.source&&t.loc?eP(t.source,t.loc.line,t.loc.col,t.loc.length||1):"");return o&&s.push(`
`+o),t!=null&&t.hint&&s.push(`
Podpowied: ${t.hint}`),s.join("")}}function Qn(i,e,t,s,n,r){return new Ye(t,{code:s,hint:n,loc:{line:e.line,col:e.col,length:e.text?e.text.length:1},source:i})}function tP(i,e,t,s,n,r,o){return new Ye(s,{code:n,hint:r,loc:{line:e,col:t,length:o},source:i})}function iP(i){switch(i){case"info":return Ei.INFO;case"warning":return Ei.WARNING;case"error":default:return Ei.ERROR}}const sP=[["WHITESPACE",/^[ \t\r]+/],["NEWLINE",/^\r?\n/],["COMMENT_SLASH",/^\/\/[^\n]*/],["COMMENT_SEMI",/^;[^\n]*/],["NUMBER",/^-?(?:0[xX][0-9A-Fa-f]+|0[bB][01]+|\d+)/],["COLON",/^:/],["SEMICOLON",/^;/],["COMMA",/^,/],["AT",/^@/],["IDENT",/^[\p{L}_][\p{L}0-9_]*/u]];function nP(i){const e=[];let t=0,s=1,n=1;for(;t<i.length;){const r=i.slice(t);let o=!1;for(const[l,a]of sP){const h=a.exec(r);if(!h)continue;o=!0;const u=h[0],c=s,d=n,f=u.match(/\r?\n/g);if(f){s+=f.length;const m=Math.max(u.lastIndexOf(`
`),u.lastIndexOf("\r")),g=u.length-(m+1);n=1+Math.max(0,g)}else n+=u.length;if(t+=u.length,["WHITESPACE","COMMENT_SLASH","COMMENT_SEMI"].includes(l))break;e.push({type:l,text:u,line:c,col:d});break}if(!o){if(r[0]==="\r"){t++;continue}const l=i[t];throw tP(i,s,n,`Nieznany znak: '${l}'`,"LEX_UNKNOWN_CHAR","Usu lub popraw znak. Jeeli to komentarz, uyj '//' lub rozpocznij lini rednikiem ';'.")}}return e}var Xi=(i=>(i.IDENT="IDENT",i.COLON="COLON",i.NEWLINE="NEWLINE",i.SEMICOLON="SEMICOLON",i.NUMBER="NUMBER",i.AT="AT",i.COMMA="COMMA",i))(Xi||{});const rP=/^(A|S|L|I|AK|PC|IR)$/i;function oP(i){const e=i.startsWith("-"),t=e?i.slice(1):i;let s;return/^0[xX]/.test(t)?s=parseInt(t.slice(2),16):/^0[bB]/.test(t)?s=parseInt(t.slice(2),2):s=parseInt(t,10),e?-s:s}class lP{constructor(e){this.source=e,this.tokens=nP(e),this.pos=0}peek(e=0){return this.tokens[this.pos+e]||null}consume(){return this.tokens[this.pos++]}expect(e,t){var n;const s=this.peek();if(!s||s.type!==e||t&&s.text!==t){const r=s?`${s.type}${s.text?`:${s.text}`:""}`:"koniec pliku";throw new Ye(`Oczekiwano ${e}${t?` (${t})`:""}, ale byo ${r}`,{code:"PARSE_EXPECT",source:this.source,loc:s?{line:s.line,col:s.col,length:(n=s.text)==null?void 0:n.length}:void 0,hint:"Sprawd interpunkcj (np. dwukropek po etykiecie, przecinki midzy operandami)."})}return this.consume()}parseProgram(){var t,s,n;const e=[];for(;this.peek();){for(;((t=this.peek())==null?void 0:t.type)==="NEWLINE";)this.consume();const r=this.peek();if(!r)break;if(r.type==="IDENT"&&((s=this.peek(1))==null?void 0:s.type)==="COLON"){const o=this.parseLabelDefinition();Array.isArray(o)?e.push(...o):e.push(o)}else if(r.type==="IDENT")e.push(this.parseInstruction());else throw Qn(this.source,r,`Nieoczekiwany token w programie: ${r.type}:${r.text}`,"PARSE_UNEXPECTED_TOKEN","By moe brakuje nowej linii lub instrukcja/etykieta jest bdnie zapisana.");for(;((n=this.peek())==null?void 0:n.type)==="NEWLINE";)this.consume()}return{type:"Program",body:e}}parseLabelDefinition(){const e=this.consume();this.expect(Xi.COLON,":");const t={type:"LabelDefinition",name:e.text,line:e.line},s=this.peek();return!s||["NEWLINE","SEMICOLON"].includes(s.type)?t:s.type==="IDENT"?[t,this.parseInstruction()]:t}parseInstruction(){var n,r,o;const e=this.consume(),t=e.text.toUpperCase();if(t==="RST"){const l=this.parseOperand();return{type:"Directive",name:t,operands:[l],line:e.line}}if(t==="RPA")return{type:"Directive",name:t,operands:[],line:e.line};const s=[];for(;this.peek();){const l=this.peek();if(["NEWLINE","SEMICOLON"].includes(l.type)||l.type==="COLON"&&((n=this.peek(1))==null?void 0:n.type)==="IDENT")break;if(["IDENT","NUMBER","AT"].includes(l.type)){if(s.push(this.parseOperand()),((r=this.peek())==null?void 0:r.type)==="COMMA")this.consume();else if(!["NEWLINE","SEMICOLON","COLON"].includes((o=this.peek())==null?void 0:o.type))break}else break}return{type:"Instruction",name:t,operands:s,line:e.line}}parseOperand(){const e=this.peek();if(e.type===Xi.COMMA)throw Qn(this.source,e,"Przecinek nie jest operatorem, tylko separatorem operandw","PARSE_COMMA_AS_OPERAND","Usu zbdny przecinek lub dodaj brakujcy operand przed przecinkiem.");if(!e)throw new Ye("Brak tokena przy parsowaniu operandu",{code:"PARSE_NO_TOKEN",source:this.source});if(e.type===Xi.COLON)throw Qn(this.source,e,"Dwukropek nie moe by operandem","PARSE_COLON_AS_OPERAND","Dwukropek koczy etykiet. Upewnij si, e dwukropek stoi po nazwie etykiety.");if(e.type===Xi.AT){this.consume();const t=this.expect(Xi.IDENT);return{type:"LabelRef",name:t.text,line:t.line}}if(e.type===Xi.NUMBER){const t=this.consume(),s=oP(t.text);if(Number.isNaN(s))throw Qn(this.source,t,`Nie mog zinterpretowa liczby "${t.text}"`,"PARSE_BAD_NUMBER","Obsugiwane formy: -123, 0xFF, -0b1010.");return{type:"Immediate",value:s,line:t.line}}if(e.type===Xi.IDENT){const t=this.consume();return rP.test(t.text)?{type:"Register",name:t.text.toUpperCase(),line:t.line}:{type:"LabelRef",name:t.text,line:t.line}}throw Qn(this.source,e,`Nieoczekiwany token przy parsowaniu operandu: ${e.type}:${e.text}`,"PARSE_BAD_OPERAND","Dopuszczalne operandy to: liczba, rejestr (A,S,L,I,AK,PC,IR) lub odwoanie do etykiety (@nazwa lub nazwa).")}}function aP(i){return new lP(i).parseProgram()}const oO=[{name:"STP",args:0,description:"zakoczenie programu",lines:`czyt wys wei il;
stop;`},{name:"DOD",args:1,description:"(Ak) + ((Ad)) -> Ak",lines:`czyt wys wei il;
wyad wea;
czyt wys weja dod weak wyl wea;`},{name:"ODE",args:1,description:"(Ak) - ((Ad)) -> Ak",lines:`czyt wys wei il;
wyad wea;
czyt wys weja ode weak wyl wea;`},{name:"POB",args:1,description:"((Ad)) -> Ak",lines:`czyt wys wei il;
wyad wea;
czyt wys weja przep weak wyl wea;`},{name:"LAD",args:1,description:"(Ak) -> (Ad)",lines:`czyt wys wei il;
wyad wea wyak wes;
pisz wyl wea;`},{name:"SOB",args:1,description:"skok bezwarunkowy",lines:`czyt wys wei il;
wyad wea wel;`},{name:"SOM",args:1,description:"skok gdy (AK) < 0",lines:`czyt wys wei il;
IF N THEN @ujemne ELSE @dodatnie;
@ujemne wyad wea wel KONIEC;
@dodatnie wyl wea;`},{name:"SOZ",args:1,description:"skok gdy (AK) = 0",lines:`czyt wys wei il;
IF Z THEN @zero ELSE @niezero;
@zero wyad wea wel KONIEC;
@niezero wyl wea;`},{name:"DNS",args:0,description:"rozkaz dns",lines:`czyt wys wei il;
dws;
wyws wea wyak wes;
pisz wyl wea;`},{name:"PWR",args:0,description:"rozkaz pwr",lines:`czyt wys wei il;
wyws wea;
czyt wys sa wel iws;`},{name:"PZS",args:0,description:"rozkaz pzs",lines:`czyt wys wei il;
wyws wea;
czyt wys weja przep weak iws wyl wea;`},{name:"SDP",args:1,description:"rozkaz sdp",lines:`czyt wys wei il;
dws;
wyws wea wyls wes;
pisz wyad wel wea;`},{name:"DZI",args:1,description:"ROZKAZ DZI",lines:`czyt wys wei il;
wyad wea;
czyt wys weja dziel weak wyl wea;`},{name:"MNO",args:1,description:"ROZKAZ MNO",lines:`czyt wys wei il;
wyad wea;
czyt wys weja mno weak wyl wea;`},{name:"WPR",args:1,description:"wczytaj znak z urzdzenia zewntrznego",lines:`czyt wys wei il;
wyak weja ode weak start;
@czekaj wyg weja ode weak IF Z THEN @gotowe ELSE @czekaj;
@gotowe wyrb weja przep weak wyl wea;`},{name:"WYP",args:1,description:"wyprowad znak na urzdzenie zewntrzne",lines:`czyt wys wei il;
wyak weja werb start;
wyak wes weja ode weak;
@czeka wyg weja ode weak IF Z THEN @gotowe ELSE @czeka;
@gotowe wys weja przep weak wyl wea;`},{name:"MAS",args:1,description:"Rozkaz maskowania - ustaw mask RM = argument instrukcji (adresowanie bezporednie)",lines:`czyt wys wei il;
wyad sa werm;
wyl wea;`},{name:"MSK",args:1,description:"Rozkaz maskowania adresowanie bezporednie",lines:`czyt wys wei il;
wyad wea;
czyt wys werm;
wyl wea;`},{name:"CZM",args:1,description:"Wyczy bit w rejestrze maski (odblokuj przerwanie)",lines:`czyt wys wei il;
wyad czrm;
wyl wea;`},{name:"WPR2",args:1,description:"Wczytanie znaku z urzdzenia zewntrznego o numerze podanym jako argument",lines:`czyt wys wei il;
start wyak weja ode weak;
@czeka wyg weja ode weak IF Z THEN @gotowe ELSE @czeka;
@gotowe wyrb weja przep weak wyl wea;`},{name:"WYP2",args:1,description:"Wypisanie znaku znajdujcego si w akumulatorze na urzdzenie zewntrzne o numerze podanym jako argument",lines:`czyt wys wei il;
wyak weja ode weak wes werb start;
@czeka wyg weja ode weak IF Z THEN @gotowe ELSE @czeka;
@gotowe wys weja przep weak wyl wea;`}];class hP{constructor(){this.table=new Map}norm(e){return String(e).trim().replace(/^@/,"").toLowerCase()}define(e,t){const s=this.norm(e);if(this.table.has(s))throw new Ye(`Symbol zduplikowany: "${e}"`,{code:"SEM_DUPLICATE_SYMBOL"});this.table.set(s,t)}lookup(e){const t=this.norm(e);if(!this.table.has(t))throw new Ye(`Niezdefiniowany symbol: "${e}"`,{code:"SEM_UNDEFINED_SYMBOL",hint:"Upewnij si, e etykieta zostaa zdefiniowana przed uyciem lub popraw literwk."});return this.table.get(t)}has(e){return this.table.has(this.norm(e))}}const uP=new Map(oO.map(i=>[String(i.name).toUpperCase(),i]));function cP(i){const e=uP.get(i.toUpperCase());if(!e)return{min:0,max:0};if(typeof e.argsMin=="number"||typeof e.argsMax=="number"){const n=e.argsMin??e.args??0,r=e.argsMax??e.args??n;return{min:n,max:r}}const s=e.args??0;return{min:s,max:s}}function dP(i){const e=new hP;let t=0;for(const s of i)switch(s.type){case"Directive":{const n=s;switch(n.name){case"ORG":t=n.operands[0];break;case"DATA":case"RST":case"RPA":t+=n.operands.length||1;break;case"VECTOR_BASE":e.define("VECTOR_BASE",n.operands[0].value);break}break}case"LabelDefinition":e.define(s.name,t);break;case"Instruction":case"Conditional":t+=1;break}return e}function fP(i){const e=new Set(["A","S","L","I","AK","PC","IR"]),t=65535;for(const s of i){const n=s.type==="Conditional"?[s.thenBranch,...s.elseBranch?[s.elseBranch]:[]]:s.operands;if(n){for(const r of n)if(r)switch(r.type){case"Register":if(!e.has(r.name))throw new Ye(`Niepoprawny rejestr "${r.name}" w linii ${s.line}`,{code:"SEM_BAD_REGISTER",hint:"Dozwolone rejestry: A, S, L, I, AK, PC, IR."});break;case"Immediate":if(s.type==="Directive"&&["RST","RPA","DATA"].includes((s.name||"").toUpperCase())){if(r.value<-128||r.value>255)throw new Ye(`Warto poza zakresem (RST/RPA/DATA) w linii ${s.line}`,{code:"SEM_IMMEDIATE_RANGE",hint:"Dopuszczalny zakres dla danych: -128..255."})}else if(r.value<0||r.value>t)throw new Ye(`Warto poza zakresem w linii ${s.line}`,{code:"SEM_IMMEDIATE_RANGE",hint:`Dopuszczalny zakres: 0..${t}.`});break;case"LabelRef":case"Identifier":case"identifier":break;default:if(typeof r=="string"||typeof r=="number")break;throw new Ye(`Nieznany typ operandu "${r.type}" w linii ${s.line}`,{code:"SEM_UNKNOWN_OPERAND"})}}}}function mP(i,e){var t,s;for(const n of i){if(n.operands&&(n.operands=n.operands.map(r=>(r==null?void 0:r.type)==="LabelRef"?{type:"Immediate",value:e.lookup(r.name),line:r.line}:r)),n.type==="Conditional"){const r=n;if(!new Set(["Z","N"]).has(r.condition))throw new Ye(`Nieznana flaga warunku: "${r.condition}" w linii ${r.line}`,{code:"SEM_UNKNOWN_FLAG",hint:"Dopuszczalne: Z (zero), N (negative)."});((t=r.thenBranch)==null?void 0:t.type)==="LabelRef"&&(r.thenBranch={type:"Immediate",value:e.lookup(r.thenBranch.name),line:r.thenBranch.line}),((s=r.elseBranch)==null?void 0:s.type)==="LabelRef"&&(r.elseBranch={type:"Immediate",value:e.lookup(r.elseBranch.name),line:r.elseBranch.line})}n.type==="Directive"&&(n.operands=n.operands.map(r=>(r==null?void 0:r.type)==="LabelRef"?{type:"Immediate",value:e.lookup(r.name),line:r.line}:r))}}function pP(i){return typeof i=="number"?i:i&&typeof i.value=="number"?i.value:i&&typeof i.number=="number"?i.number:i&&typeof i.type=="string"&&/^(Immediate|number)$/i.test(i.type)&&typeof i.value=="number"?i.value:null}function gP(i){return typeof i=="string"?i:i&&typeof i.name=="string"?i.name:i&&typeof i.value=="string"?i.value:i&&typeof i.text=="string"?i.text:i&&typeof i.type=="string"&&/^(Identifier|identifier|LabelRef)$/i.test(i.type)?i.name??i.value??i.text??null:null}function Gl(i,e){return{type:"Immediate",value:i,line:e}}function OP(i,e){for(const t of i){if(t.type!=="Instruction")continue;const s=String(t.name||"").toUpperCase(),{min:n,max:r}=cP(s),o=t.operands||[];if(o.length<n)throw new Ye(`Instrukcja ${s} wymaga co najmniej ${n} argumentw.`,{code:"SEM_MISSING_OPERAND"});if(o.length>r)throw new Ye(`Instrukcja ${s} przyjmuje najwyej ${r} argumentw.`,{code:"SEM_TOO_MANY_OPERANDS"});if(r===0||o.length===0)continue;const l=o[0],a=pP(l);if(a!==null){o[0]=(l==null?void 0:l.type)==="Immediate"?l:Gl(a,l==null?void 0:l.line),t.operands=o;continue}if((l==null?void 0:l.type)==="Register"&&typeof l.name=="string"){const u=l.name;if(e.has(u)){o[0]=Gl(e.lookup(u),l==null?void 0:l.line),t.operands=o;continue}throw new Ye(`Operand instrukcji ${s} musi wskazywa adres (liczba/etykieta), a nie rejestr ${u}.`,{code:"SEM_BAD_OPERAND_TYPE",hint:`Uyj np.: "${s} a" albo "${s} 12".`})}const h=gP(l);if(h){o[0]=Gl(e.lookup(h),l==null?void 0:l.line),t.operands=o;continue}throw new Ye(`Operand instrukcji ${s} musi by adresem (liczb) albo etykiet.`,{code:"SEM_BAD_OPERAND_TYPE",hint:`Uyj: "${s} a" albo "${s} 12".`})}}function yP(i,e){var r,o;let t=null,s=0;const n=(l,a,h)=>{l._initMemory={addr:a,val:h}};for(const l of i)switch(l.type){case"LabelDefinition":{t=l.name,s=0;break}case"Directive":{const a=l,h=String(a.name).toUpperCase();if(h==="RST"||h==="RPA"){if(!t)throw new Ye("RST/RPA musi by poprzedzone etykiet",{code:"SEM_RST_NEEDS_LABEL",hint:"Dodaj etykiet bezporednio nad dyrektyw, aby okreli adres inicjalizacji."});const c=e.lookup(t)+s,d=((o=(r=a.operands)==null?void 0:r[0])==null?void 0:o.value)??0;n(a,c,d),s+=1;break}if(h==="DATA"){if(!t)throw new Ye("DATA musi by poprzedzone etykiet",{code:"SEM_DATA_NEEDS_LABEL",hint:"DATA a: 1, 2, 3  wartoci id kolejno od adresu etykiety."});const u=e.lookup(t),c=Array.isArray(a.operands)?a.operands:[];c.forEach((d,f)=>{const m=(d==null?void 0:d.value)??0;a._initMemoryList||(a._initMemoryList=[]),a._initMemoryList.push({addr:u+s+f,val:m})}),s+=c.length;break}t=null,s=0;break}default:t=null,s=0;break}}function bP(i){const e=Array.isArray(i)?i:i.body,t=dP(e);return fP(e),mP(e,t),OP(e,t),yP(e,t),e}const lO=new Set(["czyt","wys","wei","il","wyad","wea","wyl","wel","weja","weak","przep","dod","ode","mno","dziel","shr","shl","neg","lub","i","as","sa","pisz","wes","wyak","wyws","iws","wyg","werb","wyrb","wyls","dws","start","werm","werz","wyrz","werp","wyrm","weap","wyap","readIO","writeIO","call","ret","pushAcc","popAcc"]),wP=/\bIF\s+([A-Za-z]+)\s+THEN\s+@([^\s;]+)\s+ELSE\s+@([^\s;]+)\b/i,jd=/^\s*IF\s+([A-Za-z]+)\s+THEN\s+@([^\s;]+)\s+ELSE\s+@([^\s;]+)\s*$/i;function uo(i){return i.replace(/\bKONIEC\b/gi,"").trim()}function SP(i){const e={};for(const t of i.trim().split(/\s+/))lO.has(t)&&(e[t]=!0);return e}function Hl(i){const e=[];for(const t of i.trim().split(/\s+/))lO.has(t)&&e.push(t);return e}function kP(i){const e=wP.exec(i);if(!e)return{};const t=e.index,s=i.slice(0,t).trim().replace(/;+$/,""),n=i.slice(t).trim().replace(/;+$/,"");return{before:s||void 0,ifPart:n}}function Wd(i,e){const s=new RegExp(`^@${e}\\s+(.+)$`,"i").exec(i.trim());if(!s)return[];const n=uo(s[1]),r=SP(n);return Object.keys(r).length>0?[r]:[]}function vP(i){const e={},t={};for(const s of i||[]){const n=(s.name||"").toLowerCase(),r=String(s.lines||"").split(";").map(a=>a.trim()).filter(Boolean),o=[],l=[];for(let a=0;a<r.length;a++){let h=r[a];const u=kP(h);let c;if(u.before){const f=Hl(uo(u.before));f.length&&(c=f)}if(u.ifPart&&(h=u.ifPart),jd.test(h)){const f=jd.exec(h),m=(f[1]||"").toUpperCase(),g=m==="M"?"N":m,b=f[2],y=f[3],S=r[a+1]??"",$=r[a+2]??"",v=Wd(S,b),P=Wd($,y);v.length&&a++,P.length&&a++;const M={conditional:!0,flag:g,truePhases:v,falsePhases:P};M.__labels={t:b,f:y},c!=null&&c.length&&(M.__prefix=c),o.push(M);continue}if(h.startsWith("@")){const f=uo(h.replace(/^@\S+\s+/,"")),m=Hl(f);m.length&&o.push(m);continue}if(/^stop$/i.test(h)){l.push("stop");continue}const d=Hl(uo(h));d.length&&o.push(d)}e[n]=o,l.length&&(t[n]=l)}return{templates:e,postAsm:t}}function xP(i){const e={};for(const t of i)e[t]=!0;return e}function En(i){const e={};for(const t in i)i[t]&&(e[t]=!0);return e}const Yd=i=>(i||"").toLowerCase(),aO=/^\s*IF\s+([A-Z])\s+THEN\s+@([\p{L}\w]+)\s+ELSE\s+@([\p{L}\w]+)\s*;?\s*$/u;function Ud(i){const e=i.findIndex(t=>t.op==="KONIEC"||t.op==="END_BRANCH");return e>=0?i.slice(0,e):i}function Fd(i,e){const t=i.findIndex(n=>new RegExp(`^\\s*@${e}\\b`,"u").test(n));if(t===-1)return[];const s=[];for(let n=t+1;n<i.length&&!/^\s*@[\p{L}\w]+/u.test(i[n]);n++)s.push(i[n]);return s}function CP(i){return i.split(/\s+/).map(e=>e.trim()).filter(Boolean).map(e=>({op:e}))}function Kl(i){const e=[];for(const t of i)e.push(...CP(t));return e}function PP(i){const e=i.findIndex(t=>aO.test(t));return e===-1?{before:i.slice(),ifLineIdx:-1}:{before:i.slice(0,e),ifLineIdx:e}}function QP(i){const{before:e,ifLineIdx:t}=PP(i);if(t===-1)return{};const s=i[t].match(aO);if(!s)return{};const n=s[1]||"Z",r=s[2],o=s[3],l=Fd(i,r),a=Fd(i,o);let h=Kl(l),u=Kl(a);h=Ud(h).map(g=>g.op==="KONIEC"?{op:"END_BRANCH"}:g),u=Ud(u).map(g=>g.op==="KONIEC"?{op:"END_BRANCH"}:g);const c={kind:"CJUMP",flagName:n},d=Kl(e),f=g=>{var y;if(!g||g.length===0)return[];const b={};for(const S of g){const $=(y=S.op)==null?void 0:y.toLowerCase();$&&$!=="koniec"&&$!=="end_branch"&&(b[$]=!0)}return[En(b)]},m={conditional:!0,flag:n==="M"?"N":n,truePhases:f(h),falsePhases:f(u)};return{meta:c,phases:d,condPhase:m}}function $P(i,e){var h,u,c,d,f,m,g,b;if(!Array.isArray(e)||e.length===0)throw new Ye("Pusta lista rozkazw - brak definicji do generowania mikroprogramu.",{code:"GEN_EMPTY_CMDLIST"});const{templates:t,postAsm:s}=vP(e);let n=0,r=0;const o=new Map,l=[];for(const y of i)switch(y.type){case"Directive":{const S=(h=y.name)==null?void 0:h.toUpperCase();S==="RST"||S==="RPA"||S==="DATA"?n+=Math.max(1,((u=y.operands)==null?void 0:u.length)??1):S==="ORG"&&(n=((d=(c=y.operands)==null?void 0:c[0])==null?void 0:d.value)??n);break}case"Instruction":{o.set(n,r),l[r]=y,n+=1,r+=1;break}}const a=[];for(let y=0;y<l.length;y++){const S=l[y],$=Yd(S.name||""),v=t[$];if(!v)throw new Ye(`Brak definicji w commandList dla instrukcji "${(S.name||"").toUpperCase()}"`,{code:"GEN_NO_TEMPLATE",hint:"Sprawd nazw rozkazu w edytorze listy rozkazw lub dodaj wpis."});const P=`${(S.name||"").toUpperCase()}${(f=S.operands)!=null&&f.length?" "+S.operands.map(Q=>Q.name??Q.value).join(", "):""}`;let M=[],E=!1;if(M=v.map(Q=>{if(Array.isArray(Q))return xP(Q);if(Q.conditional===!0){E=!0;const x={conditional:!0,flag:Q.flag==="M"?"N":Q.flag,truePhases:Q.truePhases.map(En),falsePhases:Q.falsePhases.map(En)};return Q.__labels&&(x.__labels=Q.__labels),Q.__prefix&&(x.__prefix=Q.__prefix),x}return En(Q)}),!E){const Q=t[`__raw__${$}`],R=Q||(()=>{const x=e.find(W=>Yd(W.name)===$);if(x!=null&&x.lines)return x.lines.split(`
`).map(W=>W.replace(/;\s*$/g,"").trim()).filter(Boolean)})();if(R&&R.length){const x=QP(R);if(x.meta&&x.condPhase){E=!0;const W={};for(const G of x.phases||[]){const ue=(m=G.op)==null?void 0:m.toLowerCase();ue&&(W[ue]=!0)}Object.keys(W).length&&M.unshift(En(W)),M.push(x.condPhase)}}}const I={kind:"NONE"};if((S.name||"").toUpperCase()==="SOB"){const Q=(b=(g=S.operands)==null?void 0:g[0])==null?void 0:b.value;if(typeof Q!="number")throw new Ye("SOB bez adresu",{code:"GEN_SOB_NO_ADDR"});const R=o.get(Q);if(R===void 0)throw new Ye(`SOB -> ${Q} nie wskazuje instrukcji`,{code:"GEN_SOB_BAD_ADDR"});I.kind="JUMP",I.trueTarget=R}M.some(Q=>Q.conditional===!0)&&(I.kind="CJUMP");const L=s[$];L!=null&&L.length&&(I.postAsm=L.slice()),a.push({pc:y,asmLine:P,phases:M,meta:I})}return a}function AP(i){var e;for(let t=0;t<i.length;t++){const s=i[t];if((e=s==null?void 0:s.phases)!=null&&e.some(n=>(n==null?void 0:n.conditional)===!0)){(!s.meta||s.meta.kind==="NONE")&&(s.meta={...s.meta||{},kind:"CJUMP"});continue}if(typeof(s==null?void 0:s.asmLine)=="string"&&/^IF\s+/i.test(s.asmLine)){const n=t+1,r=t+2,o=t+3,l=s.asmLine.match(/^IF\s+([A-Za-z]+)/),a=((l==null?void 0:l[1])||"Z").toUpperCase()||"Z";s.meta={...s.meta||{},kind:"CJUMP",flagName:a,trueTarget:n,falseTarget:r,joinTarget:o},Array.isArray(s.phases)||(s.phases=[])}}return i}const RP={key:0,id:"program"},MP={class:"flexRow"},TP=["disabled"],LP=["disabled"],EP={__name:"ProgramSection",props:{manualMode:{type:Boolean,required:!0},commandList:{type:Array,required:!0},program:{type:String,required:!0},autocompleteEnabled:{type:Boolean,default:!0}},emits:["update:code","log","initMemory"],setup(i,{emit:e}){const t=i,s=e,n=De(t.program),r=De(!1);function o(){var a,h,u,c,d,f,m,g;try{const b=aP(n.value),y=bP(b),S=[];for(const I of y)if(I.type==="Directive"&&I._initMemory){const{addr:L,val:Q}=I._initMemory;S.push({addr:L,val:Q})}let $=0;for(const I of y)if(I.type==="Instruction"){const L=((h=(a=I.operands)==null?void 0:a[0])==null?void 0:h.value)??0;S.push({addr:$,val:L}),$++}else I.type==="Directive"&&((u=I.name)==null?void 0:u.toUpperCase())==="ORG"&&($=((d=(c=I.operands)==null?void 0:c[0])==null?void 0:d.value)??$);S.length&&s("initMemory",S);let v=$P(y,t.commandList);v=AP(v);const P=[];let M=0;for(const I of v){for(const Q of I.phases)if(Q.conditional===!0){const R=Q,x=R.flag,W=R.__labels||{},G=W.t||"zero",ue=W.f||"niezero",ge=R.__prefix,de=((f=R.truePhases)==null?void 0:f[0])??{},_=((m=R.falsePhases)==null?void 0:m[0])??{},j=Object.keys(de).filter(fe=>de[fe]).join(" "),se=Object.keys(_).filter(fe=>_[fe]).join(" "),le=ge&&ge.length?ge.join(" ")+" ":"";R.srcLine=M,P.push(`@${ue} ${le}IF ${x} THEN @${G} ELSE @${ue};`),M++,de.srcLine=M,P.push(j?`@${G} ${j};`:`@${G};`),M++,se&&(_.srcLine=M,P.push(`@${ue} ${se};`),M++)}else{const R=Object.keys(Q).filter(x=>Q[x]===!0).join(" ");R.trim()&&(Q.srcLine=M,P.push(`${R};`),M++)}const L=(g=I.meta)==null?void 0:g.postAsm;if(L!=null&&L.length)for(const Q of L)P.push(`${Q};`),M++}const E=P.join(`
`);s("update:code",{text:E,program:v}),r.value=!0,s("log",{message:"Program skompilowany pomylnie przy uyciu systemu WLAN",class:"kompilator rozkazw"})}catch(b){if(b&&(b.level||b.code||b.hint||b.loc||b.frame))s("log",{message:`Bd kompilacji: ${b.message||String(b)}`,class:"Error",error:b});else{const y=[`Bd kompilacji: ${(b==null?void 0:b.message)||String(b)}`];b&&b.frame&&y.push(`
`+b.frame),b&&b.hint&&y.push(`
Podpowied: ${b.hint}`),s("log",{message:y.join(""),class:"Error"})}}}function l(){r.value=!1,s("log",{message:"Program odblokowany do edycji",class:"system"})}return(a,h)=>i.manualMode?V("",!0):(k(),A("div",RP,[T(rO,{disable:r.value,modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=u=>n.value=u),language:"macroW",theme:"macroTheme",maxHeight:"35.6rem",commandList:i.commandList,"autocomplete-enabled":t.autocompleteEnabled,programCompiled:r.value,onCompile:o,onEdit:l},null,8,["disable","modelValue","commandList","autocomplete-enabled","programCompiled"]),p("div",MP,[r.value?(k(),A("button",{key:1,onClick:l,disabled:i.manualMode,class:"execution-btn execution-btn--edit"},[T(Zh),h[2]||(h[2]=p("span",null,"Edytuj",-1))],8,LP)):(k(),A("button",{key:0,onClick:o,disabled:i.manualMode||!n.value.trim(),class:"execution-btn execution-btn--compile"},[T(Eh),h[1]||(h[1]=p("span",null,"Kompiluj",-1))],8,TP))])]))}},ZP=ce(EP,[["__scopeId","data-v-b9262102"]]),IP={},BP={xmlns:"http://www.w3.org/2000/svg",width:"164.859",height:"43.877",viewBox:"0 0 164.859 43.877"};function zP(i,e){return k(),A("svg",BP,e[0]||(e[0]=[Ko('<g transform="translate(-34.016 -34.016)"><g transform="translate(34.016 34.016)"><path class="a" d="M77.716,58.75a22.22,22.22,0,0,0,0-5.592l-2.277-.042a19.544,19.544,0,0,0-1.189-4.448L76.2,47.493a21.906,21.906,0,0,0-2.8-4.84l-1.993,1.1A19.8,19.8,0,0,0,68.154,40.5l1.1-1.993a21.923,21.923,0,0,0-4.84-2.8L63.24,37.659a19.563,19.563,0,0,0-4.448-1.189l-.042-2.277a22.271,22.271,0,0,0-5.592,0l-.042,2.277a19.566,19.566,0,0,0-4.448,1.189l-1.175-1.952a21.923,21.923,0,0,0-4.84,2.8l1.1,1.993A19.785,19.785,0,0,0,40.5,43.755l-1.993-1.1a21.923,21.923,0,0,0-2.8,4.84l1.952,1.175a19.566,19.566,0,0,0-1.189,4.448l-2.277.042a22.271,22.271,0,0,0,0,5.592l2.277.042a19.563,19.563,0,0,0,1.189,4.448l-1.952,1.175a21.923,21.923,0,0,0,2.8,4.84l1.993-1.1a19.8,19.8,0,0,0,3.254,3.254l-1.1,1.993a21.906,21.906,0,0,0,4.84,2.8l1.175-1.951a19.544,19.544,0,0,0,4.448,1.189l.042,2.277a22.22,22.22,0,0,0,5.592,0l.042-2.277A19.541,19.541,0,0,0,63.24,74.25L64.415,76.2a21.906,21.906,0,0,0,4.84-2.8l-1.1-1.993a19.817,19.817,0,0,0,3.254-3.254l1.993,1.1a21.906,21.906,0,0,0,2.8-4.84L74.25,63.24a19.541,19.541,0,0,0,1.189-4.448Z" transform="translate(-34.016 -34.016)"></path><path class="b" d="M64.5,48.189A16.313,16.313,0,1,0,80.815,64.5,16.313,16.313,0,0,0,64.5,48.189Z" transform="translate(-42.564 -42.564)"></path><path class="a" d="M81.727,71.491a12.8,12.8,0,0,1-2.616-5.843,4.478,4.478,0,0,0,2.942.342,8.16,8.16,0,0,1-4.536-7.323h0a2.5,2.5,0,1,0-3.926,2.052,5.139,5.139,0,0,1-3,2.313c-.161-.677-.248-1.376-.248-1.376l-1.239-.55s1.147-.337,1.147-.321c-1.488-2.088-.688-3.625-.688-3.625s.439-.06,1.468-1.422c-1.565.052-1.935-3.12-4.5-1.331-.676-.219-1.5-.243-2.294,1.239.1.025,1.958-.515,2.34.5-.421-.452-1.382-.338-1.377-.343,1.113.478,2.469,1.972.294,7.18a5.128,5.128,0,0,1-2.849-2.267,2.5,2.5,0,1,0-3.927-2.052h0A8.159,8.159,0,0,1,54.19,65.99a4.477,4.477,0,0,0,2.941-.342,12.792,12.792,0,0,1-2.616,5.843,6.5,6.5,0,0,0,3.671-2.722,24.57,24.57,0,0,1-2.057,6.5c3.12-1.147,4.26-6.595,4.26-6.595a47.221,47.221,0,0,1-.872,5.415c2.129-1.727,2.658-5.853,2.658-5.853a27.625,27.625,0,0,1-.226,3.788c1.461-.8,1.79-4.268,1.79-4.268a14.955,14.955,0,0,1,.046,3.3c1.537-1.158,1.423-3.9,1.423-3.9a23.721,23.721,0,0,1,1.228,3.71c-.867.041-4.105.346-5.089,2.6,0,0,.373.215.851.489a6.386,6.386,0,0,1-1.345,1.467c-.432.09-1.127-.515-1.461-.5s-.918.122-.926,1.069a.46.46,0,0,1,.764-.138c.1.129.987-.147,1.14.2.112.269-1.676.2-1.984.4s-.486.436-.236,1.356c.15-.6.358-.383.588-.388s.644-.627,1.519-.491c.178.134-.922.473-1.035.92s.11,1.2.522,1.258c-.23-.5.018-.7.274-.731.477-.037.59-1.278,1.524-1.457.308-.081.43.676.6.793s.618.184.448.8c.546-.573.539-1.014.4-1.352S62,76.4,61.914,76.148a7.088,7.088,0,0,1,1.238-1.637c.617.356,1.155.668,1.153.676a2.068,2.068,0,0,1,2.564-1.679c.019.248.032.5.035.744l-.022.023c-1.79,0-1.721,1.881-.138,1.881-.138.574-1.445,1.744-2.294-.275-2.042,2.157.734,4.359,2.616,3.4a4.379,4.379,0,0,0,1.055,2.707,4.377,4.377,0,0,0,1.055-2.707c1.882.964,4.658-1.239,2.616-3.4-.849,2.019-2.157.849-2.294.275,1.583,0,1.652-1.881-.138-1.881l-.023-.023c0-.247.016-.5.035-.744a2.068,2.068,0,0,1,2.564,1.679c0-.008.537-.321,1.154-.676a7.1,7.1,0,0,1,1.238,1.637c-.083.248-.936.688-1.076,1.027s-.147.779.4,1.352c-.169-.616.276-.683.448-.8s.294-.874.6-.793c.934.179,1.046,1.42,1.524,1.457.255.03.5.236.273.731.412-.054.635-.811.522-1.258s-1.213-.786-1.035-.92c.875-.136,1.289.487,1.519.491s.439-.21.588.388c.25-.92.073-1.159-.235-1.356s-2.1-.132-1.984-.4c.152-.35,1.041-.073,1.139-.2a.461.461,0,0,1,.764.138c-.007-.947-.591-1.05-.926-1.069s-1.029.586-1.461.5a6.367,6.367,0,0,1-1.345-1.467c.478-.274.849-.487.851-.489-.985-2.254-4.222-2.559-5.09-2.6a23.7,23.7,0,0,1,1.228-3.71s-.114,2.743,1.422,3.9a14.971,14.971,0,0,1,.046-3.3s.329,3.464,1.79,4.268a27.581,27.581,0,0,1-.227-3.788s.529,4.125,2.659,5.853a47.222,47.222,0,0,1-.872-5.415s1.139,5.447,4.259,6.595a24.588,24.588,0,0,1-2.057-6.5A6.5,6.5,0,0,0,81.727,71.491ZM69.463,55.674a3.711,3.711,0,0,1-1.139-.417.506.506,0,1,1-.858-.5,2.043,2.043,0,0,0-.688-.118C68.032,54.214,68.555,55.3,69.463,55.674Zm6.57,3.972a.79.79,0,0,1-.6-.081c.264,2.127-1.29,6.93-7.309,6.955-6.018-.025-7.573-4.829-7.309-6.955a.792.792,0,1,1-.193-1.45.873.873,0,0,1,.088.029.792.792,0,1,1,1.227.329.921.921,0,0,1,.091.019.792.792,0,1,1-.9,1.143c.1,2.389,1.988,5.618,7,5.637,5.01-.019,6.9-3.248,7-5.637a.792.792,0,1,1-.9-1.143.914.914,0,0,1,.09-.019.792.792,0,1,1,1.227-.329.915.915,0,0,1,.088-.029.792.792,0,0,1,.41,1.53Z" transform="translate(-46.183 -45.983)"></path></g><rect class="a" width="1.125" height="43.877" transform="translate(84.643 34.016)"></rect><path class="a" d="M186.405,51.021h-4.988v13.5h2.363V60.491h2.7a4.74,4.74,0,0,0-.075-9.47Zm-.281,7.426H183.78V53.065h2.344a2.413,2.413,0,0,1,2.419,2.7A2.407,2.407,0,0,1,186.124,58.447Zm25.225,6.076V54.284h-2.307V64.522Zm.019-13.5h-2.363v1.632h2.363ZM197.236,64.747c2.813,0,5.156-1.575,5.156-5.344s-2.344-5.345-5.156-5.345S192.1,55.615,192.1,59.4C192.1,63.21,194.423,64.747,197.236,64.747Zm.019-8.7c1.95,0,2.756,1.257,2.756,3.357,0,2.119-.806,3.375-2.756,3.375-1.969,0-2.794-1.256-2.794-3.375C194.46,57.3,195.285,56.046,197.254,56.046Zm9.372-5.025h-2.288v13.5h2.288Zm12.557,13.408V62.46a5.549,5.549,0,0,1-1.463.244c-.656,0-1.276-.262-1.276-1.125V56.253h3.131V54.3h-3.112V52.034h-.75l-2.907,2.794v1.425h1.331v6.113c0,1.95,1.144,2.363,2.419,2.363A15.648,15.648,0,0,0,219.184,64.429Zm45.073.094h2.307V54.284h-2.307Zm-.037-11.87h2.363V51.021H264.22ZM275.561,61l-1.012-1.744a5.045,5.045,0,0,0,2.494-4.669v-.3h-2.306v.431a3.387,3.387,0,0,1-2.213,3.469l-1.276.525V51.021H268.96v13.5h2.288V60.7l1.219-.506,1.031,1.894c.976,1.744,2.138,2.569,3.657,2.569a3.287,3.287,0,0,0,.75-.056V62.535A2.628,2.628,0,0,1,275.561,61Zm-16.64-6.938a7.869,7.869,0,0,0-3.75,1.369H255.1V54.284h-2.138V64.522h2.288V57.172a7.1,7.1,0,0,1,2.981-1.031c.994,0,1.369.487,1.369,1.368v7.013h2.288V57.078C261.883,55,260.777,54.059,258.921,54.059Zm24.859,0a21.184,21.184,0,0,0-3.9.431v1.95a13.887,13.887,0,0,1,3.357-.469c1.669,0,2.231.637,2.231,1.575v.769h-2.625c-2.4,0-3.826,1.2-3.826,3.169a2.965,2.965,0,0,0,3.188,3.169,5.82,5.82,0,0,0,3.356-1.275h.075l.169,1.144h1.969V57.7C287.774,55.278,286.274,54.059,283.78,54.059Zm1.688,7.8a4.569,4.569,0,0,1-2.512.881c-.938,0-1.613-.469-1.613-1.425,0-.881.581-1.369,1.837-1.369h2.288Zm-55.888.244a12.985,12.985,0,0,1-3.469.638c-2.025,0-3.206-.75-3.225-2.719h6.882v-1.05c0-2.55-.862-4.913-4.444-4.913-3.038,0-4.857,1.782-4.857,5.345,0,3.694,1.763,5.344,5.1,5.344a13.23,13.23,0,0,0,4.013-.656Zm-4.388-6.226c1.894,0,2.213,1.35,2.232,2.475h-4.576A2.258,2.258,0,0,1,225.191,55.878Zm22.4-1.8a7.848,7.848,0,0,0-3.657,1.294V51.021h-2.307v13.5h2.307V57.172a7.206,7.206,0,0,1,2.981-1.012,1.209,1.209,0,0,1,1.35,1.35v7.013h2.307V57.078A2.663,2.663,0,0,0,247.592,54.077ZM231.3,59.4c0,4.219,2.626,5.344,5.1,5.344a10.833,10.833,0,0,0,3.226-.469V62.272a10,10,0,0,1-2.869.469c-2.176,0-3.114-1.369-3.114-3.338,0-2.307,1.107-3.319,3.114-3.319a9.383,9.383,0,0,1,2.869.469V54.528a10.833,10.833,0,0,0-3.226-.469C233.922,54.059,231.3,55.2,231.3,59.4Z" transform="translate(-88.899 -10.256)"></path><path class="a" d="M192.13,106.7h2.288V93.2H192.13Zm8.8-10.464a21.187,21.187,0,0,0-3.9.431v1.95a13.885,13.885,0,0,1,3.357-.469c1.669,0,2.232.638,2.232,1.575v.769H199.99c-2.4,0-3.826,1.2-3.826,3.169a2.965,2.965,0,0,0,3.188,3.17,5.827,5.827,0,0,0,3.357-1.275h.075l.169,1.144h1.969V99.875C204.922,97.456,203.422,96.237,200.927,96.237Zm1.688,7.8a4.574,4.574,0,0,1-2.513.881c-.938,0-1.613-.469-1.613-1.425,0-.881.581-1.369,1.837-1.369h2.288Zm-16.523-5.307c-1.425-.225-2.681-.431-2.681-1.838,0-1.294.938-1.875,2.813-1.875a25.776,25.776,0,0,1,3.431.319v-2.1a32.589,32.589,0,0,0-3.469-.263c-2.569,0-5.194.713-5.194,3.975,0,2.963,1.969,3.6,3.788,3.844,1.594.206,3.095.375,3.095,1.95,0,1.425-1.013,2.138-2.907,2.138a21.423,21.423,0,0,1-3.807-.469v2.119a20.876,20.876,0,0,0,3.995.394c3.037,0,5.137-1.294,5.137-4.275C190.293,99.368,188.061,99.05,186.092,98.731Zm25.139,1.8c-1.219-.187-2.081-.356-2.081-1.2,0-.769.619-1.125,2.156-1.125a18.037,18.037,0,0,1,2.682.281l.075-1.988a19.445,19.445,0,0,0-3.019-.262c-2.456,0-4.256.825-4.256,3.206,0,2.25,1.725,2.738,3.187,2.963,1.294.206,2.269.338,2.269,1.256,0,.863-.619,1.313-1.987,1.313a26.824,26.824,0,0,1-3.319-.319l-.075,2.044a33.479,33.479,0,0,0,3.507.225c2.775,0,4.238-1.125,4.238-3.357C214.606,101.15,212.806,100.794,211.231,100.531ZM223,103.175l-1.012-1.744a5.044,5.044,0,0,0,2.494-4.669v-.3h-2.306v.432a3.387,3.387,0,0,1-2.213,3.469l-1.276.525V93.2H216.4v13.5h2.288v-3.825l1.219-.506,1.031,1.894c.976,1.744,2.138,2.569,3.657,2.569a3.286,3.286,0,0,0,.75-.056v-2.063A2.627,2.627,0,0,1,223,103.175Zm8.219-6.938a21.183,21.183,0,0,0-3.9.431v1.95a13.888,13.888,0,0,1,3.357-.469c1.669,0,2.231.638,2.231,1.575v.769h-2.625c-2.4,0-3.826,1.2-3.826,3.169a2.965,2.965,0,0,0,3.188,3.17A5.823,5.823,0,0,0,233,105.557h.075l.169,1.144h1.969V99.875C235.216,97.456,233.716,96.237,231.221,96.237Zm1.688,7.8a4.572,4.572,0,0,1-2.512.881c-.938,0-1.613-.469-1.613-1.425,0-.881.581-1.369,1.837-1.369h2.288Z" transform="translate(-88.643 -35.558)"></path><path class="a" d="M236.981,131.246l-.657-1.631h1.969l1.017,1.631Z" transform="translate(-122.014 -57.657)"></path><path class="a" d="M193.9,87.382l-.657,1.631h1.969l1.017-1.631Z" transform="translate(-96.029 -32.185)"></path></g>',1)]))}const _P=ce(IP,[["render",zP]]),NP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 475 439",preserveAspectRatio:"xMidYMid meet",class:"customIcon"},DP=["transform","fill","stroke","stroke-width"],XP=439,qP={__name:"AiChatIcon",props:{fillColor:{type:String,default:"currentColor"},strokeColor:{type:String,default:"none"},strokeWidth:{type:[Number,String],default:0}},setup(i){return(e,t)=>(k(),A("svg",NP,[p("g",{transform:`translate(0, ${XP}) scale(0.1,-0.1)`,fill:i.fillColor,stroke:i.strokeColor,"stroke-width":i.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round"},t[0]||(t[0]=[p("path",{d:`M1465 3800 c-176 -24 -338 -132 -424 -283 -35 -62 -71 -176 -71 -223
            l0 -34 69 0 68 0 7 49 c16 120 117 251 241 312 l70 34 1125 0 1125 0 70 -34
            c90 -44 162 -116 206 -206 l34 -70 0 -1130 0 -1130 -34 -70 c-44 -90 -116
            -162 -206 -206 l-70 -34 -1104 -3 c-964 -2 -1111 0 -1157 13 -69 20 -171 89
            -209 142 l-30 42 -83 0 -83 1 28 -51 c68 -122 186 -218 328 -267 l80 -27 1105
            0 1105 0 80 27 c189 65 317 196 377 388 l23 75 0 1100 0 1100 -23 75 c-60 192
            -188 323 -377 388 l-80 27 -1065 1 c-586 1 -1092 -2 -1125 -6z`},null,-1),p("path",{d:`M875 2848 c-202 -553 -505 -1393 -505 -1399 0 -5 56 -9 124 -9 l124
            0 26 73 c15 39 46 131 70 202 l43 130 236 3 235 2 69 -205 68 -205 128 0 c118
            0 129 1 124 18 -3 14 -487 1321 -512 1385 -6 15 -22 17 -116 17 -79 0 -111 -4
            -114 -12z m202 -550 l81 -223 -84 -3 c-46 -1 -121 -1 -167 0 l-83 3 79 223
            c44 122 83 222 87 222 4 0 43 -100 87 -222z`},null,-1),p("path",{d:"M1720 2150 l0 -710 115 0 115 0 0 710 0 710 -115 0 -115 0 0 -710z"},null,-1)]),8,DP)]))}},VP=ce(qP,[["__scopeId","data-v-8a973a1b"]]),jP={__name:"ConsoleIcon",props:{hasError:{type:Boolean,default:!1}},setup(i){return(e,t)=>(k(),A("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:be({"error-state":i.hasError})},t[0]||(t[0]=[Ko('<rect x="2" y="4" width="20" height="16" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none" data-v-0e3e7d49></rect><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor" stroke-width="2" data-v-0e3e7d49></line><circle cx="5" cy="6" r="0.5" fill="currentColor" data-v-0e3e7d49></circle><circle cx="7" cy="6" r="0.5" fill="currentColor" data-v-0e3e7d49></circle><circle cx="9" cy="6" r="0.5" fill="currentColor" data-v-0e3e7d49></circle><polyline points="6,12 8,14 6,16" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-0e3e7d49></polyline><line x1="10" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-0e3e7d49></line>',7)]),2))}},WP=ce(jP,[["__scopeId","data-v-0e3e7d49"]]),YP={id:"topBar"},UP={class:"flexRow"},FP=["title"],GP={class:"label"},HP={__name:"TopBar",props:{hasConsoleErrors:{type:Boolean,default:!1},wsStatus:{type:String,default:"disconnected"}},emits:["open-chat","open-settings","toggle-console","ws-reconnect"],setup(i){const e="esp",t=i,s=Ci(()=>{switch(t.wsStatus){case"connected":return"Poczono z maszyn fizyczn";case"connecting":return"czenie";case"error":return"Bd poczenia z maszyn fizyczn";default:return"Brak poczenia z maszyn fizyczn"}}),n=Ci(()=>{switch(t.wsStatus){case"connected":return"Poczenie aktywne  kliknij, aby odwiey.";case"connecting":return"czenie  kliknij, aby sprbowa ponownie.";case"error":return"Bd  kliknij, aby ponowi poczenie.";default:return"Nie poczono  kliknij, aby poczy."}});return(r,o)=>(k(),A("header",YP,[T(_P,{class:"logo"}),p("div",UP,[mt(e)==="esp"?(k(),A("button",{key:0,class:be(["wsBadge",{"ws--ok":i.wsStatus==="connected","ws--pending":i.wsStatus==="connecting","ws--err":i.wsStatus==="error","ws--off":i.wsStatus==="disconnected"}]),title:n.value,"aria-label":"Status poczenia z maszyn fizyczn",onClick:o[0]||(o[0]=l=>r.$emit("ws-reconnect"))},[p("span",{class:be(["dot",{spin:i.wsStatus==="connecting"}])},null,2),p("span",GP,oe(s.value),1)],10,FP)):V("",!0),p("button",{class:"simpleSvgButton","aria-label":"Otwrz konsol",onClick:o[1]||(o[1]=l=>r.$emit("toggle-console"))},[T(WP,{hasError:i.hasConsoleErrors},null,8,["hasError"])]),mt(e)!=="esp"?(k(),A("button",{key:1,class:"simpleSvgButton","aria-label":"Otwrz czat AI",onClick:o[2]||(o[2]=l=>r.$emit("open-chat"))},[T(VP,{fillColor:"#ddd",strokeColor:"#ddd",strokeWidth:"250"})])):V("",!0),p("button",{class:"simpleSvgButton","aria-label":"Otwrz ustawienia",onClick:o[3]||(o[3]=l=>r.$emit("open-settings"))},[T(vm)])])]))}},KP=ce(HP,[["__scopeId","data-v-2279b494"]]),JP=["fill"],eQ={__name:"AiChatTrashIcon",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20},fill:{type:String,default:"currentColor"}},setup(i){return(e,t)=>(k(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 408.483 408.483",class:"aiChatTrashIcon",fill:i.fill,"aria-hidden":"true"},t[0]||(t[0]=[p("g",null,[p("g",null,[p("path",{d:`M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316
          H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293
          c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329
          c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355
          c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356
          c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z`}),p("path",{d:`M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916
          c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z`})])],-1)]),8,JP))}},tQ=ce(eQ,[["__scopeId","data-v-d4754499"]]);var At=(i=>(i.IDLE="idle",i.CHECKING="checking",i.WAKING="waking",i.ERROR="error",i))(At||{});const Jl=1,Yr="aiChat.messages",Gd="aiChat.version",Hd="aiChat.panelWidth",Kd="aiChat.sessionId",Jd=40,iQ=350,ea={maxRequests:20,windowMs:6e4,message:"Limit 20 zapytan na minute. Sprobuj ponownie pozniej."},sQ={class:"chatHeader"},nQ={class:"headerBtns"},rQ={key:0,class:"healthBanner"},oQ={key:0},lQ={key:1},aQ={class:"iconWrapper"},hQ={class:"messageContent"},uQ={class:"messageHeader"},cQ={class:"senderName"},dQ=["disabled"],fQ={key:0,class:"typing"},mQ=["innerHTML"],pQ={class:"inputArea"},gQ={class:"inputInstruction"},OQ={key:0,class:"inputError"},yQ={key:1,class:"inputError"},bQ=["placeholder","disabled"],wQ=["disabled"],ef=480,tf=1e3,sf=50,SQ=30,kQ={__name:"AiChat",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Asystent AI"},placeholder:{type:String,default:"Napisz wiadomo"},instruction:{type:String,default:"Opisz operacj, aby otrzyma kod maszynowy:"}},emits:["close"],setup(i,{emit:e}){const t=i,s=e,n=De([]),r=De(""),o=De(!1),l=De(!1),a=De(null),h=De(null),u=De(At.IDLE),c=De(null),d=De(650),f=De(""),m=De(""),g=De([]),b=De(""),S="https://maszynaw.groupmta.com/api/chat".replace(/\/api\/chat\/?$/,"/health"),$=Ci(()=>o.value||l.value||u.value===At.CHECKING||u.value===At.WAKING);let v=null,P=null,M=null,E=null,I=0,L=!1;const Q=new Map,R=new Map,x=B=>new Promise(z=>setTimeout(z,B));function W(){s("close")}function G(B="msg"){return typeof crypto<"u"&&crypto.randomUUID?`${B}-${crypto.randomUUID()}`:`${B}-${Math.random().toString(36).slice(2)}${Date.now()}`}function ue(){return v||(v=new Worker(new URL("/assets/chat.worker-DWJ3C6bM.js",import.meta.url),{type:"module"}),v.addEventListener("message",ui),v)}function ge(B){return n.value.find(z=>z.id===B)||null}function de(B){const z=Q.get(B);z&&z.finish()}function _(){Array.from(Q.keys()).forEach(z=>de(z))}function j(B,z){de(B.id);const Y=z||"";if(!Y)return B.text="",Promise.resolve();const he=[];for(let Pe=0;Pe<Y.length;Pe+=sf)he.push(Y.slice(Pe,Pe+sf));return new Promise(Pe=>{let Re=0;B.text="";let Te=!1;const Ie={timer:null,finish:()=>{Te||(Te=!0,Ie.timer!==null&&clearInterval(Ie.timer),Q.delete(B.id),Pe())}},$t=()=>{if(Te||Re>=he.length){Ie.finish();return}B.text+=he[Re],Re+=1,Re>=he.length&&Ie.finish()};Q.set(B.id,Ie),$t(),Te||(Ie.timer=setInterval(()=>{$t(),Te&&clearInterval(Ie.timer)},SQ))})}function se(){P&&clearTimeout(P),P=setTimeout(()=>{try{if(!n.value.length){localStorage.removeItem(Yr),localStorage.setItem(Gd,String(Jl));return}const B=n.value.slice(-Jd),z={version:Jl,messages:B};localStorage.setItem(Gd,String(Jl)),localStorage.setItem(Yr,JSON.stringify(z))}catch{}},iQ)}function le(){M&&clearTimeout(M),M=setTimeout(()=>{try{localStorage.setItem(Hd,String(d.value))}catch{}},120)}function fe(){try{const B=Number(localStorage.getItem(Hd));Number.isNaN(B)||(d.value=Math.min(Math.max(B,ef),tf))}catch{d.value=650}}function ke(){try{let B=localStorage.getItem(Kd);B||(B=G("session"),localStorage.setItem(Kd,B)),b.value=B}catch{b.value=G("session")}}function Se(){try{const B=localStorage.getItem(Yr);if(!B)return;let z=JSON.parse(B);if(Array.isArray(z)&&(z={messages:z}),!z||!Array.isArray(z.messages))return;n.value=z.messages.slice(-Jd).map((Y,he)=>({id:typeof Y.id=="string"?Y.id:G(`legacy-${he}`),sender:Y.sender==="assistant"?"assistant":"user",text:typeof Y.text=="string"?Y.text:"",timestamp:typeof Y.timestamp=="number"?Y.timestamp:Date.now()}))}catch{n.value=[]}}let Ce=!1;function Ze(B="auto"){const z=a.value;z&&z.scrollTo({top:z.scrollHeight,behavior:B})}function je(B="auto"){Ce||(Ce=!0,requestAnimationFrame(()=>{Ce=!1,Fi(()=>Ze(B))}))}function si(B){f.value=B,E&&clearTimeout(E),E=setTimeout(()=>{f.value="",E=null},4e3)}async function hi(){if(!S)return;const B=++I;u.value=At.CHECKING;try{const Y=await(await fetch(`${S}?check=1`)).json().catch(()=>({}));if(B!==I)return;if(Y&&Y.upstream_ok===!1){if(u.value=At.WAKING,await fetch(`${S}?wake=1`).catch(()=>{}),B!==I)return;await x(1200)}}catch(z){throw B===I&&(u.value=At.ERROR),z}finally{B===I&&u.value!==At.ERROR&&(u.value=At.IDLE)}}function dt(B){return n.value.filter(z=>z.id!==B&&z.text&&z.text.trim()!=="").slice(-40).map(z=>({role:z.sender==="assistant"?"assistant":"user",message:z.text}))}function ui(B){const z=B.data||{},{messageId:Y,text:he,done:Pe,error:Re,cancelled:Te}=z;if(!Y)return;const Ie=ge(Y);if(Ie){if(typeof he=="string"){je("auto");const $t=j(Ie,he);R.set(Y,$t),$t.finally(()=>{R.delete(Y),se()})}if(Re&&(de(Y),Ie.text=Re,se()),Pe){const $t=()=>{if(Y===c.value&&(o.value=!1,l.value=!1,c.value=null),Te){const ft=n.value.findIndex(Wt=>Wt.id===Y);ft!==-1&&n.value.splice(ft,1)}se(),je("smooth")},On=R.get(Y);On?On.finally($t):$t()}}}async function w(){const B=r.value.trim();if(!B||$.value)return;const z=Date.now();if(g.value=g.value.filter(Te=>z-Te<ea.windowMs),g.value.length>=ea.maxRequests){si(ea.message);return}m.value="",g.value.push(z);const Y={id:G("user"),sender:"user",text:B,timestamp:z};n.value.push(Y),r.value="",se(),je("smooth");try{await hi()}catch(Te){const Ie=`Nie udao si poczy z modelem. ${(Te==null?void 0:Te.message)||""}`.trim();m.value=Ie,o.value=!1,l.value=!1,setTimeout(()=>{u.value===At.ERROR&&(u.value=At.IDLE)},1500);return}o.value=!0,l.value=!1;const he=G("assistant"),Pe={id:he,sender:"assistant",text:"",timestamp:Date.now()};n.value.push(Pe),c.value=he,se(),je("smooth");const Re=dt(he);ue().postMessage({type:"start",messageId:he,query:B,history:Re,sessionId:b.value})}function O(){if(!c.value)return;l.value=!0,de(c.value),v&&v.postMessage({type:"cancel",messageId:c.value});const B=n.value.findIndex(z=>z.id===c.value);B!==-1&&n.value.splice(B,1),c.value=null,o.value=!1,se(),je("auto")}function Z(){c.value&&v&&v.postMessage({type:"cancel",messageId:c.value}),c.value=null,o.value=!1,l.value=!1,_(),n.value=[],g.value=[],m.value="",f.value="",se();try{localStorage.removeItem(Yr)}catch{}je("auto")}const D=B=>new Date(B).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),N=B=>B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function X(B){if(!B)return"";let z=N(B);const Y=[];return z=z.replace(/```([^\n`]*)?\r?\n([\s\S]*?)```/g,(he,Pe,Re)=>{const Te=Y.length;return Y.push({lang:N((Pe||"").trim()),code:Re}),`%%CODEBLOCK_${Te}%%`}),z=z.replace(/`([^`\n]+)`/g,'<code class="inline-code">$1</code>'),z=z.replace(/\r?\n/g,"<br>"),Y.forEach((he,Pe)=>{const Ie=`<div class="code-group">${`<div class="code-toolbar-outside">${he.lang?`<span class="code-lang">${he.lang}</span>`:'<span class="code-lang no-lang">kod</span>'}<button type="button" class="copy-btn" aria-label="Skopiuj kod">Kopiuj</button></div>`}<pre class="code-block"><code>${he.code}</code></pre></div>`;z=z.replace(`%%CODEBLOCK_${Pe}%%`,Ie)}),z}function J(B){var Te;const z=B.target.closest(".copy-btn");if(!z)return;const Y=z.closest(".code-group"),he=Y==null?void 0:Y.querySelector("pre.code-block > code"),Pe=(he==null?void 0:he.innerText)||(he==null?void 0:he.textContent)||"";if(!Pe)return;const Re=()=>{const Ie=z.textContent;z.textContent="Skopiowano!",z.disabled=!0,z.classList.add("copied"),setTimeout(()=>{z.textContent=Ie,z.disabled=!1,z.classList.remove("copied")},1200)};(Te=navigator.clipboard)!=null&&Te.writeText?navigator.clipboard.writeText(Pe).then(Re).catch(()=>H(Pe,Re)):H(Pe,Re)}function H(B,z){const Y=document.createElement("textarea");Y.value=B,document.body.appendChild(Y),Y.select();try{document.execCommand("copy"),z()}finally{document.body.removeChild(Y)}}nt(()=>t.visible,B=>{B?Fi(()=>{var z;(z=h.value)==null||z.focus(),je("auto")}):l.value=!1}),nt(()=>n.value.length,()=>Fi(()=>je("auto")));let F=0,q=0;function me(B){L||(L=!0,F=B.clientX,q=d.value,window.addEventListener("mousemove",te),window.addEventListener("mouseup",ae))}function te(B){if(!L)return;const z=F-B.clientX,Y=Math.min(Math.max(q+z,ef),tf);d.value=Y,le()}function ae(){L&&(L=!1,window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",ae),le())}return fr(()=>{ue(),fe(),Se(),ke(),t.visible&&Fi(()=>{var B;(B=h.value)==null||B.focus(),je("auto")})}),Qh(()=>{ae(),_(),P&&clearTimeout(P),M&&clearTimeout(M),E&&clearTimeout(E),v&&(v.removeEventListener("message",ui),v.terminate(),v=null)}),(B,z)=>t.visible?(k(),A("div",{key:0,class:"chatOverlay",onClick:Ge(W,["self"])},[p("div",{id:"aiChat",class:be(["chatPanel",{show:t.visible}]),onClick:z[1]||(z[1]=Ge(()=>{},["stop"])),style:tt({width:d.value+"px"})},[p("div",{class:"resizer",onMousedown:me},null,32),p("header",sQ,[p("h1",null,oe(t.title),1),p("div",nQ,[p("button",{class:"resetBtn",onClick:Z,"aria-label":"Resetuj czat"},[T(tQ,{width:"22",height:"22",class:"trashIcon"})]),p("button",{class:"closeBtn",onClick:W,"aria-label":"Zamknij czat"},"")])]),p("div",{id:"conversation",ref_key:"conversationEl",ref:a},[u.value===mt(At).CHECKING||u.value===mt(At).WAKING?(k(),A("div",rQ,[u.value===mt(At).CHECKING?(k(),A("span",oQ,"Sprawdzam poczenie z modelem")):(k(),A("span",lQ,"Wybudzam model na Hugging Face")),z[2]||(z[2]=p("span",{class:"dots"},[p("span"),p("span"),p("span")],-1))])):V("",!0),T(E1,{name:"messageEnter",tag:"div",class:"conversationBox"},{default:Un(()=>[(k(!0),A(ve,null,Et(n.value,Y=>(k(),A("div",{key:Y.id,class:be(["messageBubble",{messageUser:Y.sender==="user",messageAi:Y.sender==="assistant"}])},[p("div",aQ,oe(Y.sender==="assistant"?"":""),1),p("div",hQ,[p("div",uQ,[p("span",cQ,oe(Y.sender==="assistant"?"AI":"Ty"),1),p("span",{class:be(["timestamp",{timestampAssistant:Y.sender==="assistant"&&o.value&&Y.id===c.value}])},oe(D(Y.timestamp)),3),Y.sender==="assistant"&&o.value&&Y.id===c.value?(k(),A("button",{key:0,class:"cancelBtn",type:"button",onClick:O,disabled:l.value,"aria-label":"Anuluj odpowied"},"  ",8,dQ)):V("",!0)]),p("div",{class:be(["messageText",{messageTextAssistant:Y.sender==="assistant"}])},[Y.sender==="assistant"&&o.value&&Y.id===c.value&&!Y.text?(k(),A("span",fQ,z[3]||(z[3]=[p("span",null,null,-1),p("span",null,null,-1),p("span",null,null,-1)]))):Y.sender==="assistant"?(k(),A("div",{key:1,class:"messageHtml",innerHTML:X(Y.text),onClick:J},null,8,mQ)):(k(),A(ve,{key:2},[Ho(oe(Y.text),1)],64))],2)])],2))),128))]),_:1})],512),p("div",pQ,[p("p",gQ,oe(t.instruction),1),f.value?(k(),A("p",OQ,oe(f.value),1)):m.value?(k(),A("p",yQ,oe(m.value),1)):V("",!0),p("form",{onSubmit:Ge(w,["prevent"])},[gs(p("input",{ref_key:"textInput",ref:h,"onUpdate:modelValue":z[0]||(z[0]=Y=>r.value=Y),placeholder:t.placeholder,type:"text",disabled:$.value},null,8,bQ),[[Ns,r.value]]),p("button",{class:"execution-btn execution-btn--run",type:"submit",disabled:$.value},"Wylij",8,wQ)],32)])],6)])):V("",!0)}},vQ=ce(kQ,[["__scopeId","data-v-48b2ec8c"]]),xQ={id:"console",class:"futuristic-console"},CQ={class:"console-header"},PQ={class:"header-right"},QQ={class:"entry-count"},$Q=["onClick"],AQ={class:"entry-meta"},RQ={class:"timestamp"},MQ={class:"entry-content"},TQ={class:"message-line"},LQ={class:"message"},EQ=["onClick"],ZQ={key:0,class:"entry-details"},IQ={class:"details-content"},BQ={key:0,class:"detail-section"},zQ={class:"detail-value"},_Q={key:1,class:"detail-section"},NQ={class:"detail-value hint-text"},DQ={key:2,class:"detail-section"},XQ={class:"detail-value"},qQ={key:3,class:"detail-section code-frame"},VQ={class:"detail-value code-block"},jQ={key:4,class:"detail-section"},WQ={class:"detail-value"},YQ={__name:"Console",props:{logs:{type:Array,default:()=>[]}},emits:["close","clear"],setup(i,{emit:e}){const t=i,s=e,n=De(new Set),r=De(null),o=Q=>String(Q).padStart(2,"0"),l=Q=>{const R=new Date(Q),x=new Date().toDateString()===R.toDateString(),W=[R.getFullYear(),o(R.getMonth()+1),o(R.getDate())].join("-"),G=[o(R.getHours()),o(R.getMinutes()),o(R.getSeconds())].join(":");return x?G:`${W} ${G}`},a=Q=>new Date(Q).toLocaleString(),h=Q=>`level-${u(Q).toLowerCase()}`,u=Q=>{var x,W;if((x=Q.error)!=null&&x.level)return Q.error.level;if(Q.level)return Q.level;switch((W=Q.class)==null?void 0:W.toLowerCase()){case"error":case"bd":case"bd parsera kodu":return Ei.ERROR;case"warning":case"ostrzeenie":return Ei.WARNING;case"info":case"system":case"kompilator rozkazw":return Ei.INFO;default:return Ei.INFO}},c=Q=>{const R=u(Q);return fh[R]||fh[Ei.INFO]},d=Q=>u(Q)||Q.class||"INFO",f=Q=>{var R;return Q.message||((R=Q.error)==null?void 0:R.message)||"Unknown message"},m=Q=>{var R,x,W,G,ue;return!!((R=Q.error)!=null&&R.code||(x=Q.error)!=null&&x.hint||(W=Q.error)!=null&&W.loc||(G=Q.error)!=null&&G.frame||(ue=Q.error)!=null&&ue.timestamp)},g=Q=>{var R;return(R=Q.error)==null?void 0:R.code},b=Q=>{var R;return(R=Q.error)==null?void 0:R.hint},y=Q=>{var x;const R=(x=Q.error)==null?void 0:x.loc;return R?`Line ${R.line}, Column ${R.col}`:null},S=Q=>{var R;return(R=Q.error)==null?void 0:R.frame},$=Q=>{var R;return(R=Q.error)==null?void 0:R.timestamp},v=Q=>{n.value.has(Q)?n.value.delete(Q):n.value.add(Q)},P=()=>{s("close")},M=()=>{s("clear")},E=()=>{r.value&&r.value.scrollTo({top:0,behavior:"smooth"})},I=()=>{r.value&&Fi(()=>{r.value.scrollTo({top:r.value.scrollHeight,behavior:"smooth"})})},{logs:L}=UO(t);return nt(L,(Q,R)=>{if(Q.length>((R==null?void 0:R.length)||0)&&r.value){const x=r.value;x.scrollTop+x.clientHeight>=x.scrollHeight-10&&Fi(()=>{I()})}},{deep:!0}),(Q,R)=>(k(),A("div",xQ,[p("div",CQ,[R[4]||(R[4]=p("div",{class:"header-left"},[p("div",{class:"status-indicator"}),p("span",{class:"console-title"},"SYSTEM CONSOLE")],-1)),p("div",{class:"header-center"},[p("button",{onClick:E,class:"scroll-top-btn",title:"Scroll to top"},R[0]||(R[0]=[p("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M18 15l-6-6-6 6"})],-1)])),p("button",{onClick:I,class:"scroll-bottom-btn",title:"Scroll to bottom"},R[1]||(R[1]=[p("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M6 9l6 6 6-6"})],-1)])),p("button",{onClick:M,class:"clear-btn",title:"Clear console"},R[2]||(R[2]=[p("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M3 6h18"}),p("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)]))]),p("div",PQ,[p("span",QQ,oe(mt(L).length)+" entries",1),p("button",{onClick:P,class:"close-btn",title:"Close console"},R[3]||(R[3]=[p("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M18 6l-12 12"}),p("path",{d:"M6 6l12 12"})],-1)]))])]),p("div",{class:"console-content",ref_key:"consoleContentRef",ref:r},[(k(!0),A(ve,null,Et(mt(L),(x,W)=>(k(),A("div",{key:W,class:be(["console-entry",h(x),{"has-details":m(x)}])},[p("div",{class:"entry-header",onClick:G=>m(x)?v(W):null},[p("div",AQ,[p("div",{class:"severity-indicator",style:tt({backgroundColor:c(x)})},null,4),p("span",RQ,oe(l(x.timestamp)),1),p("span",{class:"level-badge",style:tt({color:c(x)})},oe(d(x)),5)]),p("div",MQ,[p("div",TQ,[R[5]||(R[5]=p("span",{class:"terminal-symbol"},">_",-1)),p("span",LQ,oe(f(x)),1)]),m(x)?(k(),A("button",{key:0,class:be(["details-toggle",{expanded:n.value.has(W)}]),onClick:Ge(G=>v(W),["stop"])},R[6]||(R[6]=[p("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("circle",{cx:"12",cy:"12",r:"10"}),p("path",{d:"M12 16v-4"}),p("path",{d:"M12 8h.01"})],-1)]),10,EQ)):V("",!0)])],8,$Q),n.value.has(W)&&m(x)?(k(),A("div",ZQ,[p("div",IQ,[g(x)?(k(),A("div",BQ,[R[7]||(R[7]=p("span",{class:"detail-label"},"Error Code:",-1)),p("code",zQ,oe(g(x)),1)])):V("",!0),b(x)?(k(),A("div",_Q,[R[8]||(R[8]=p("span",{class:"detail-label"},"Hint:",-1)),p("div",NQ,oe(b(x)),1)])):V("",!0),y(x)?(k(),A("div",DQ,[R[9]||(R[9]=p("span",{class:"detail-label"},"Location:",-1)),p("code",XQ,oe(y(x)),1)])):V("",!0),S(x)?(k(),A("div",qQ,[R[10]||(R[10]=p("span",{class:"detail-label"},"Context:",-1)),p("pre",VQ,oe(S(x)),1)])):V("",!0),$(x)?(k(),A("div",jQ,[R[11]||(R[11]=p("span",{class:"detail-label"},"Occurred:",-1)),p("span",WQ,oe(a($(x))),1)])):V("",!0)])])):V("",!0)],2))),128))],512)]))}},UQ={name:"ConsoleDock",components:{Console:YQ},props:{manualMode:{type:Boolean,required:!0},codeCompiled:{type:Boolean,required:!0},code:{type:String,required:!0},isRunning:{type:Boolean,required:!0},isFastRunning:{type:Boolean,default:!1},fastProgress:{type:Number,default:0},logs:{type:Array,default:()=>[]},consoleOpen:{type:Boolean,default:!0},hasConsoleErrors:{type:Boolean,default:!1},breakpointsEnabled:{type:Boolean,default:!0}},emits:["compile","edit","step","run","run-fast","stop","close","clear","open","update:breakpointsEnabled","disable-all-breakpoints","clear-breakpoints"],computed:{hasCode(){return typeof this.code=="string"&&this.code.trim().length>0}}},FQ={class:"console-dock"},GQ={key:0,class:"controls-rail"},HQ=["disabled"],KQ=["disabled"],JQ=["disabled","title"],e$=["disabled"],t$=["disabled"],i$=["title"],s$={key:1,class:"console-wrap"};function n$(i,e,t,s,n,r){const o=ee("Console");return k(),A("div",FQ,[t.consoleOpen?(k(),A("aside",GQ,[t.codeCompiled?(k(),A("button",{key:1,class:"rail-btn",disabled:t.isRunning,title:"Wr do edycji",onClick:e[1]||(e[1]=l=>i.$emit("edit"))},e[14]||(e[14]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M12 20h9"}),p("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})],-1)]),8,KQ)):(k(),A("button",{key:0,class:"rail-btn",disabled:t.isRunning||!r.hasCode,title:"Skompiluj program",onClick:e[0]||(e[0]=l=>i.$emit("compile"))},e[13]||(e[13]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M3 7h18M5 7v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)]),8,HQ)),p("button",{class:"rail-btn",disabled:t.isRunning||!t.manualMode&&!t.codeCompiled,title:t.manualMode?"Wykonaj rozkaz":"Nastpny takt",onClick:e[2]||(e[2]=l=>i.$emit("step"))},e[15]||(e[15]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M5 3v18"}),p("path",{d:"M9 7l8 5-8 5z"})],-1)]),8,JQ),t.isRunning?(k(),A("button",{key:3,class:"rail-btn",title:"Zatrzymaj wykonywanie",onClick:e[4]||(e[4]=l=>i.$emit("stop"))},e[17]||(e[17]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[p("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})],-1)]))):(k(),A("button",{key:2,class:"rail-btn",disabled:t.manualMode||!t.codeCompiled,title:"Uruchom program",onClick:e[3]||(e[3]=l=>i.$emit("run"))},e[16]||(e[16]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[p("path",{d:"M8 5v14l11-7z"})],-1)]),8,e$)),t.isRunning?t.isFastRunning?(k(),A("button",{key:5,class:"rail-btn spinning",title:"Pracuj",onClick:e[6]||(e[6]=l=>i.$emit("stop"))},e[19]||(e[19]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[p("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor","stroke-width":"2",opacity:".25"}),p("path",{d:"M21 12a9 9 0 0 0-9-9",stroke:"currentColor","stroke-width":"2"})],-1)]))):V("",!0):(k(),A("button",{key:4,class:"rail-btn",disabled:t.manualMode||!t.codeCompiled,title:"Uruchom cao (bez animacji)",onClick:e[5]||(e[5]=l=>i.$emit("run-fast"))},e[18]||(e[18]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M5 19c.5-1.5 2-4 6-4s5.5 2.5 6 4"}),p("path",{d:"M12 3l3 3-3 9-3-9 3-3z"})],-1)]),8,t$)),e[23]||(e[23]=p("div",{class:"divider"},null,-1)),p("button",{class:be(["rail-btn",{active:t.breakpointsEnabled}]),title:t.breakpointsEnabled?"Wycz breakpointy (wygaszenie)":"Wcz breakpointy",onClick:e[7]||(e[7]=l=>i.$emit("update:breakpointsEnabled",!t.breakpointsEnabled))},e[20]||(e[20]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[p("circle",{cx:"12",cy:"12",r:"6"})],-1)]),10,i$),p("button",{class:"rail-btn",title:"Tymczasowo wycz wszystkie breakpointy",onClick:e[8]||(e[8]=l=>i.$emit("disable-all-breakpoints"))},e[21]||(e[21]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("circle",{cx:"12",cy:"12",r:"6"}),p("path",{d:"M5 5l14 14"})],-1)])),p("button",{class:"rail-btn",title:"Usu wszystkie breakpointy",onClick:e[9]||(e[9]=l=>i.$emit("clear-breakpoints"))},e[22]||(e[22]=[p("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[p("path",{d:"M3 6h18"}),p("path",{d:"M19 6v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),p("path",{d:"M10 11v6M14 11v6"})],-1)]))])):V("",!0),t.consoleOpen?(k(),A("section",s$,[T(o,{logs:t.logs,onClose:e[10]||(e[10]=l=>i.$emit("close")),onClear:e[11]||(e[11]=l=>i.$emit("clear"))},null,8,["logs"])])):V("",!0),t.consoleOpen?V("",!0):(k(),A("div",{key:2,class:be(["console-dock-indicator",{"has-errors":t.hasConsoleErrors}]),onClick:e[12]||(e[12]=l=>i.$emit("open")),title:"Kliknij aby otworzy konsol"},null,2))])}const r$=ce(UQ,[["render",n$],["__scopeId","data-v-7ebbaa90"]]),o$={},l$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",class:"humbleicons hi-sun"};function a$(i,e){return k(),A("svg",l$,e[0]||(e[0]=[p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M12 4.5V3m0 18v-1.5m9-7.5h-1.5m-15 0H3m14.303-5.303l1.061-1.061M5.636 18.364l1.06-1.06m11.668 1.06l-1.06-1.06M6.696 6.696l-1.06-1.06M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))}const h$=ce(o$,[["render",a$]]),u$={},c$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",class:"humbleicons hi-moon"};function d$(i,e){return k(),A("svg",c$,e[0]||(e[0]=[p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M20 14.12A7.78 7.78 0 019.88 4a7.782 7.782 0 002.9 15A7.782 7.782 0 0020 14.12z"},null,-1)]))}const f$=ce(u$,[["render",d$]]),m$={},p$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",class:"humbleicons hi-refresh"};function g$(i,e){return k(),A("svg",p$,e[0]||(e[0]=[p("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 20v-5h-5M4 4v5h5m10.938 2A8.001 8.001 0 005.07 8m-1.008 5a8.001 8.001 0 0014.868 3"},null,-1)]))}const O$=ce(m$,[["render",g$]]),y$={},b$={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"};function w$(i,e){return k(),A("svg",b$,e[0]||(e[0]=[Ko('<line x1="8" y1="6" x2="21" y2="6" stroke-width="2" stroke-linecap="round"></line><line x1="8" y1="12" x2="21" y2="12" stroke-width="2" stroke-linecap="round"></line><line x1="8" y1="18" x2="21" y2="18" stroke-width="2" stroke-linecap="round"></line><circle cx="4" cy="6" r="1" fill="currentColor"></circle><circle cx="4" cy="12" r="1" fill="currentColor"></circle><circle cx="4" cy="18" r="1" fill="currentColor"></circle>',6)]))}const S$=ce(y$,[["render",w$]]),k$={name:"LinkedInIcon"},v$={width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"};function x$(i,e,t,s,n,r){return k(),A("svg",v$,e[0]||(e[0]=[p("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},null,-1)]))}const C$=ce(k$,[["render",x$]]),P$={name:"GitHubIcon"},Q$={width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"};function $$(i,e,t,s,n,r){return k(),A("svg",Q$,e[0]||(e[0]=[p("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]))}const A$=ce(P$,[["render",$$]]),R$={name:"PeopleSection",components:{LinkedInIcon:C$,GitHubIcon:A$},props:{title:{type:String,required:!0},isMobile:{type:Boolean,required:!1,default:!0},people:{type:Array,default:()=>[]},showGithub:{type:Boolean,default:!0},columns:{type:Number,default:2}}},M$={key:0,class:"people-section"},T$={class:"creatorsHeader"},L$={class:"creatorsContent"},E$={class:"creatorName"},Z$={key:0,class:"creatorRoles"},I$={class:"creatorLinks"},B$=["href"],z$=["href"];function _$(i,e,t,s,n,r){const o=ee("LinkedInIcon"),l=ee("GitHubIcon");return t.isMobile?(k(),A("section",M$,[p("header",T$,[p("h1",null,oe(t.title),1)]),p("div",L$,[p("div",{class:"creatorsList",style:tt({"--cols":t.columns})},[(k(!0),A(ve,null,Et(t.people,(a,h)=>{var u;return k(),A("div",{key:h,class:"creatorItem"},[p("span",E$,oe(a.name),1),(u=a.roles)!=null&&u.length?(k(),A("div",Z$,[(k(!0),A(ve,null,Et(a.roles,(c,d)=>(k(),A("span",{key:d,class:"creatorRole"},oe(c),1))),128))])):V("",!0),p("div",I$,[a.linkedin?(k(),A("a",{key:0,href:a.linkedin,target:"_blank",rel:"noopener noreferrer",class:"iconLink","aria-label":"LinkedIn",title:"LinkedIn"},[T(o)],8,B$)):V("",!0),t.showGithub&&a.github?(k(),A("a",{key:1,href:a.github,target:"_blank",rel:"noopener noreferrer",class:"iconLink","aria-label":"GitHub",title:"GitHub"},[T(l)],8,z$)):V("",!0)])])}),128))],4)])])):V("",!0)}const hO=ce(R$,[["render",_$],["__scopeId","data-v-d774cb0d"]]),N$=["width","height"],D$={class:"cp-section"},X$={class:"cp-mini"},q$={class:"cp-section"},V$=["value"],j$={class:"cp-mini"},W$={class:"cp-swatches"},Y$=["onClick"],U$={class:"cp-readout"},F$={class:"cp-text"},G$={class:"cp-line"},H$={class:"cp-line"},K$={class:"cp-line"},J$={__name:"ColorPicker",props:{modelValue:{type:String,default:"#ff00ff"},size:{type:Number,default:240},brightness:{type:Number,default:1}},emits:["update:modelValue","update:brightness","change"],setup(i,{emit:e}){const t=i,s=e,n=De(null),r=De(null),o=t.size,l=window.devicePixelRatio||1,a=Us({h:300,s:.5,v:1}),h=Us({r:255,g:0,b:255}),u=Ci(()=>G(h)),c=Ci(()=>G(x(a.h,a.s,1))),d=Us({x:o/2,y:o/2});let f=!1,m=0,g=null;const b=["#ffffff","#000000","#ff0000","#ffa500","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#c0c0c0","#808080","#8b4513","#ff69b4","#7fff00","#40e0d0","#8a2be2"],y=De(de(t.brightness));nt(()=>t.brightness,_=>{y.value=de(_)}),fr(()=>{S(),R(ge(t.modelValue)?t.modelValue:"#ff00ff")});function S(){const _=n.value.getContext("2d"),j=Math.round(o*l),se=j,le=j/2-3,fe=se/2-3,ke=j/2-.5,Se=_.createImageData(j,se);for(let Ce=0;Ce<se;Ce++)for(let Ze=0;Ze<j;Ze++){const je=Ze-le,si=Ce-fe,hi=Math.hypot(je,si),dt=(Ce*j+Ze)*4;if(hi<=ke){let ui=Math.atan2(si,je);ui<0&&(ui+=Math.PI*2);const w=ui*180/Math.PI,O=Math.min(1,hi/ke),{r:Z,g:D,b:N}=x(w,O,1);Se.data[dt]=Z,Se.data[dt+1]=D,Se.data[dt+2]=N,Se.data[dt+3]=255}else Se.data[dt+3]=0}_.putImageData(Se,0,0),L()}function $(_){const j=(r.value||n.value).getBoundingClientRect();return{x:_.clientX-j.left,y:_.clientY-j.top}}function v(_){_.preventDefault(),f=!0;try{_.currentTarget.setPointerCapture(_.pointerId)}catch{}g=_,E()}function P(_){!f&&_.buttons===0||(_.preventDefault(),g=_,E())}function M(_){f=!1;try{_.currentTarget.releasePointerCapture(_.pointerId)}catch{}g=null}function E(){m||(m=requestAnimationFrame(()=>{if(m=0,!g)return;const _=$(g),j=o/2,se=o/2,le=_.x-j,fe=_.y-se,ke=o/2,Se=Math.min(Math.hypot(le,fe),ke);let Ce=Math.atan2(fe,le);Ce<0&&(Ce+=Math.PI*2),a.h=Ce*180/Math.PI,a.s=Se/ke,I()}))}function I(){const{r:_,g:j,b:se}=x(a.h,a.s,a.v);h.r=_,h.g=j,h.b=se,L();const le=G(h);s("update:modelValue",le);const fe=y.value,ke={r:Math.round(h.r*fe),g:Math.round(h.g*fe),b:Math.round(h.b*fe)};s("change",{hex:le,rgb:{...h},hsv:{...a},brightness:fe,rgbScaled:ke,pwm:ke})}function L(){const _=o/2*a.s,j=a.h*Math.PI/180,se=o/2,le=o/2;d.x=se+_*Math.cos(j),d.y=le+_*Math.sin(j)}function Q(_){const j=de(parseFloat(_.target.value));y.value=j,s("update:brightness",j);const se={r:Math.round(h.r*j),g:Math.round(h.g*j),b:Math.round(h.b*j)};s("change",{hex:u.value,rgb:{...h},hsv:{...a},brightness:j,rgbScaled:se,pwm:se})}function R(_){const j=ue(_);if(!j)return;const se=W(j.r,j.g,j.b);a.h=se.h,a.s=se.s,a.v=se.v,I()}function x(_,j,se){const le=se*j,fe=le*(1-Math.abs(_/60%2-1)),ke=se-le;let Se=0,Ce=0,Ze=0;return 0<=_&&_<60?(Se=le,Ce=fe,Ze=0):60<=_&&_<120?(Se=fe,Ce=le,Ze=0):120<=_&&_<180?(Se=0,Ce=le,Ze=fe):180<=_&&_<240?(Se=0,Ce=fe,Ze=le):240<=_&&_<300?(Se=fe,Ce=0,Ze=le):(Se=le,Ce=0,Ze=fe),{r:Math.round((Se+ke)*255),g:Math.round((Ce+ke)*255),b:Math.round((Ze+ke)*255)}}function W(_,j,se){_/=255,j/=255,se/=255;const le=Math.max(_,j,se),fe=Math.min(_,j,se),ke=le-fe;let Se=0;ke!==0&&(le===_?Se=60*((j-se)/ke%6):le===j?Se=60*((se-_)/ke+2):Se=60*((_-j)/ke+4)),Se<0&&(Se+=360);const Ce=le===0?0:ke/le;return{h:Se,s:Ce,v:le}}function G({r:_,g:j,b:se}){const le=fe=>fe.toString(16).padStart(2,"0");return`#${le(_)}${le(j)}${le(se)}`}function ue(_){const j=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_||"");return j?{r:parseInt(j[1],16),g:parseInt(j[2],16),b:parseInt(j[3],16)}:null}function ge(_){return/^#?[0-9a-fA-F]{6}$/.test(_||"")}function de(_){return Math.max(0,Math.min(1,Number.isFinite(_)?_:0))}return(_,j)=>(k(),A("div",{class:"cp-root",onDragstart:j[2]||(j[2]=Ge(()=>{},["prevent"]))},[p("div",{class:"cp-wheel-wrap",style:tt({width:mt(o)+"px",height:mt(o)+"px"})},[p("canvas",{ref_key:"wheel",ref:n,class:"cp-wheel",width:mt(o)*mt(l),height:mt(o)*mt(l),style:tt({width:mt(o)+"px",height:mt(o)+"px"})},null,12,N$),p("div",{class:"cp-indicator",style:tt({left:d.x+"px",top:d.y+"px",background:u.value})},null,4),p("div",{ref_key:"hit",ref:r,class:"cp-hitbox",onPointerdown:v,onPointermove:P,onPointerup:M,onPointercancel:M},null,544)],4),p("div",D$,[j[3]||(j[3]=p("div",{class:"cp-label"},"Jasno koloru",-1)),p("div",{class:"cp-bar",style:tt({background:`linear-gradient(90deg, #000, ${c.value})`})},null,4),gs(p("input",{class:"cp-range",type:"range",min:"0",max:"1",step:"0.001","onUpdate:modelValue":j[0]||(j[0]=se=>a.v=se),onInput:I},null,544),[[Ns,a.v,void 0,{number:!0}]]),p("div",X$,oe(Math.round(a.v*100))+"%",1)]),p("div",q$,[j[4]||(j[4]=p("div",{class:"cp-label"},"Moc LED",-1)),j[5]||(j[5]=p("div",{class:"cp-bar cp-bar-grey"},null,-1)),p("input",{class:"cp-range",type:"range",min:"0",max:"1",step:"0.001",value:y.value,onInput:j[1]||(j[1]=se=>Q(se))},null,40,V$),p("div",j$,oe(Math.round(y.value*100))+"%",1)]),p("div",W$,[(k(),A(ve,null,Et(b,se=>p("button",{key:se,class:"cp-swatch",style:tt({background:se}),onClick:le=>R(se)},null,12,Y$)),64))]),p("div",U$,[p("div",{class:"cp-current",style:tt({background:u.value})},null,4),p("div",F$,[p("div",G$,oe(u.value),1),p("div",H$,"rgb("+oe(h.r)+", "+oe(h.g)+", "+oe(h.b)+")",1),p("div",K$," hsv("+oe(a.h.toFixed(0))+", "+oe(Math.round(a.s*100))+"%, "+oe(Math.round(a.v*100))+"%) ",1)])])],32))}},e5=ce(J$,[["__scopeId","data-v-ebdaa4b1"]]),t5={name:"ColorPickerPopup",components:{ColorPicker:e5},props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},color:{type:String,default:"#ff0000"},brightness:{type:Number,default:1}},emits:["close","apply"],data(){return{localColor:this.color,localBrightness:this.brightness,currentColorData:null}},watch:{color(i){this.localColor=i},brightness(i){this.localBrightness=i},visible(i){i&&(this.localColor=this.color,this.localBrightness=this.brightness)}},methods:{onColorChange(i){this.currentColorData=i},close(){this.$emit("close")},apply(){this.currentColorData&&this.$emit("apply",{color:this.localColor,brightness:this.localBrightness,colorData:this.currentColorData}),this.close()}}},i5={class:"color-popup-header"},s5={class:"color-popup-content"},n5={class:"color-preview"},r5={class:"color-info"},o5={class:"color-popup-footer"};function l5(i,e,t,s,n,r){const o=ee("ColorPicker");return t.visible?(k(),A("div",{key:0,class:"color-popup-overlay",onClick:e[6]||(e[6]=Ge((...l)=>r.close&&r.close(...l),["self"]))},[p("div",{class:"color-popup",onClick:e[5]||(e[5]=Ge(()=>{},["stop"]))},[p("div",i5,[p("h3",null,oe(t.title),1),p("button",{class:"close-btn",onClick:e[0]||(e[0]=(...l)=>r.close&&r.close(...l))},"")]),p("div",s5,[T(o,{modelValue:n.localColor,"onUpdate:modelValue":e[1]||(e[1]=l=>n.localColor=l),brightness:n.localBrightness,"onUpdate:brightness":e[2]||(e[2]=l=>n.localBrightness=l),size:260,onChange:r.onColorChange},null,8,["modelValue","brightness","onChange"]),p("div",n5,[p("div",{class:"preview-box",style:tt({backgroundColor:n.localColor})},null,4),p("div",r5,[p("span",null,oe(n.localColor),1),p("span",null,"Jasno: "+oe(Math.round(n.localBrightness*100))+"%",1)])])]),p("div",o5,[p("button",{class:"cancel-btn",onClick:e[3]||(e[3]=(...l)=>r.close&&r.close(...l))},"Anuluj"),p("button",{class:"apply-btn",onClick:e[4]||(e[4]=(...l)=>r.apply&&r.apply(...l))},"Zastosuj")])])])):V("",!0)}const a5=ce(t5,[["render",l5],["__scopeId","data-v-3bb73cef"]]),h5={name:"SettingsPanel",components:{SunIcon:h$,MoonIcon:f$,RefreshIcon:O$,CommandListIcon:S$,SegmentedToggle:Lh,PeopleSection:hO,ColorPickerPopup:a5},props:{isAnimated:{type:Boolean,default:!1},lightMode:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},numberFormat:{type:String,required:!0},creators:{type:Array,default:()=>[]},caregivers:{type:Array,default:()=>[]},codeBits:{type:Number,required:!0},addresBits:{type:Number,required:!0},oddDelay:{type:Number,required:!0},stepDelay:{type:Number,required:!0},extras:{type:Object,required:!0},platform:{type:String,default:""},autocompleteEnabled:{type:Boolean,default:!0},memoryAddresBits:{type:Number,required:!0},decSigned:{type:Boolean,default:!1}},data(){return{signalLineColor:"#ff0000",signalLineBrightness:1,displayColor:"#00ff00",displayBrightness:1,busColor:"#0000ff",busBrightness:1,colorPickerOpen:!1,currentColorType:null,currentColorTitle:"",currentColor:"#ff0000",currentBrightness:1,pendingColors:{},hasColorChanges:!1,openMap:{}}},emits:["close","update:lightMode","update:numberFormat","update:codeBits","update:addresBits","update:oddDelay","update:stepDelay","update:extras","resetValues","defaultSettings","open-command-list","update:memoryAddresBits","update:autocompleteEnabled","update:decSigned","color-change"],computed:{extrasLabels(){return{xRegister:"Rejestr X",yRegister:"Rejestr Y",dl:"DL",jamlExtras:"Dodatki JAML",busConnectors:"czniki magistrali",showInvisibleRegisters:"Poka niewidoczne rejestry magistral",interrupts:"Przerwania",stack:"Obsuga stosu",io:"Urzdzenia wejcia/wyjcia"}},booleanKeys(){return["xRegister","yRegister","dl","jamlExtras","busConnectors","showInvisibleRegisters"]},groupDefs(){return[{key:"io",label:this.extrasLabels.io,children:[{key:"rbRegister",label:"Rejestr RB"},{key:"gRegister",label:"Rejestr G"}]},{key:"stack",label:this.extrasLabels.stack,children:[{key:"wsRegister",label:"Rejestr WS"},{key:"wylsSignal",label:"Sygna wyls"}]},{key:"interrupts",label:this.extrasLabels.interrupts,children:[{key:"rzRegister",label:"Rejestr RZ"},{key:"rpRegister",label:"Rejestr RP"},{key:"rmRegister",label:"Rejestr RM"},{key:"apRegister",label:"Rejestr AP"},{key:"rintSignal",label:"Sygna rint"},{key:"eniSignal",label:"Sygna eni"}]}]}},methods:{openColorPicker(i){this.currentColorType=i;const t={signal_line:{title:"Kolor linii sygnaowych",color:this.signalLineColor,brightness:this.signalLineBrightness},display:{title:"Kolor wywietlacza",color:this.displayColor,brightness:this.displayBrightness},bus:{title:"Kolor magistrali",color:this.busColor,brightness:this.busBrightness}}[i];this.currentColorTitle=t.title,this.currentColor=t.color,this.currentBrightness=t.brightness,this.colorPickerOpen=!0},closeColorPicker(){this.colorPickerOpen=!1,this.currentColorType=null},applyColor({color:i,brightness:e,colorData:t}){this.currentColorType==="signal_line"?(this.signalLineColor=i,this.signalLineBrightness=e):this.currentColorType==="display"?(this.displayColor=i,this.displayBrightness=e):this.currentColorType==="bus"&&(this.busColor=i,this.busBrightness=e),this.pendingColors[this.currentColorType]={type:this.currentColorType+"_hex",color:i,brightness:e,colorData:t},this.hasColorChanges=Object.keys(this.pendingColors).length>0,this.closeColorPicker()},sendAllColors(){Object.values(this.pendingColors).forEach(i=>{this.$emit("color-change",{type:i.type,hex:i.colorData.hex,rgb:i.colorData.rgb,hsv:i.colorData.hsv,brightness:i.brightness,rgbScaled:i.colorData.rgbScaled})}),this.pendingColors={},this.hasColorChanges=!1},updateNumber(i,e){const t=parseInt(e,10);if(Number.isNaN(t))return;const s={codeBits:{min:1,max:16},addresBits:{min:1,max:32},memoryAddresBits:{min:1,max:10},oddDelay:{min:0,max:1e4},stepDelay:{min:5,max:1e4}}[i];if(!s){t>=0&&this.$emit(`update:${i}`,t);return}t>=s.min&&t<=s.max&&this.$emit(`update:${i}`,t)},isGroupAllOn(i){var t;const e=((t=this.extras)==null?void 0:t[i.key])||{};return i.children.every(s=>!!e[s.key])},toggleGroup(i,e){const t={};for(const s of i.children)t[s.key]=!!e;this.$emit("update:extras",{[i.key]:t})},isOpen(i){return!!this.openMap[i]},toggleOpen(i){this.openMap={...this.openMap,[i]:!this.openMap[i]}},onEnter(i){i.style.height="0px",i.style.overflow="hidden",i.offsetHeight,i.style.height=i.scrollHeight+"px"},onAfterEnter(i){i.style.height="auto",i.style.overflow=""},onLeave(i){i.style.height=i.scrollHeight+"px",i.style.overflow="hidden",i.offsetHeight,i.style.height="0px"},onAfterLeave(i){i.style.overflow=""}}},u5={class:"settingsHeader"},c5={class:"headerBtns"},d5={class:"settingsContent"},f5={class:"flexColumn"},m5={class:"flexColumn"},p5={key:0,class:"flexColumn"},g5={class:"flexColumn"},O5=["value"],y5={class:"flexColumn"},b5=["value"],w5={class:"flexColumn"},S5=["value"],k5={class:"flexColumn"},v5=["value"],x5={class:"flexColumn"},C5=["value"],P5={key:1,class:"extras"},Q5={class:"module-label"},$5={class:"switch"},A5=["checked","onChange"],R5=["aria-expanded","onClick","onKeydown"],M5={class:"group-title"},T5=["checked","onChange"],L5={class:"collapsible"},E5={class:"module-label"},Z5={class:"switch"},I5=["checked","onChange"],B5={class:"flexColumn"},z5={class:"module-toggle-wrapper"},_5={class:"switch"},N5=["checked"],D5={class:"flexColumn"},X5={class:"flexColumn button-column"},q5={key:2,class:"color-section"},V5={class:"color-buttons-list"},j5=["disabled"];function W5(i,e,t,s,n,r){const o=ee("SegmentedToggle"),l=ee("RefreshIcon"),a=ee("CommandListIcon"),h=ee("ColorPickerPopup"),u=ee("PeopleSection");return k(),A("div",{id:"settings",class:be({"slide-in":t.isAnimated,"slide-out":!t.isAnimated}),onClick:e[18]||(e[18]=Ge(()=>{},["stop"]))},[p("header",u5,[e[19]||(e[19]=p("h1",null,"Ustawienia",-1)),p("div",c5,[p("button",{class:"closeBtn",onClick:e[0]||(e[0]=c=>i.$emit("close")),"aria-label":"Zamknij ustawienia"},"")])]),p("div",d5,[p("div",f5,[T(o,{options:[{label:"Jasny",value:!0},{label:"Ciemny",value:!1}],"model-value":t.lightMode,"onUpdate:modelValue":e[1]||(e[1]=c=>i.$emit("update:lightMode",c))},null,8,["model-value"])]),p("div",m5,[e[20]||(e[20]=p("label",null,"Domylny format liczb:",-1)),T(o,{options:[{label:"DEC",value:"dec"},{label:"HEX",value:"hex"},{label:"BIN",value:"bin"}],"model-value":t.numberFormat,"onUpdate:modelValue":e[2]||(e[2]=c=>i.$emit("update:numberFormat",c)),class:be(["",{active:t.lightMode}])},null,8,["model-value","class"])]),t.numberFormat==="dec"?(k(),A("div",p5,[e[21]||(e[21]=p("label",null,"Wywietlanie DEC:",-1)),T(o,{options:[{label:"Bez znaku",value:!1},{label:"U2 (ze znakiem)",value:!0}],"model-value":t.decSigned,"onUpdate:modelValue":e[3]||(e[3]=c=>i.$emit("update:decSigned",c))},null,8,["model-value"]),p("p",null,"U2 uywa szerokoci sowa "+oe(t.codeBits+t.addresBits)+" bitw (np. 4027  69).",1)])):V("",!0),p("div",g5,[e[22]||(e[22]=p("label",{for:"commandBits"},"Bity kodu:",-1)),p("input",{id:"commandBits",type:"number",inputmode:"numeric",pattern:"[0-9]*",value:t.codeBits,min:"1",max:"16",onInput:e[4]||(e[4]=c=>r.updateNumber("codeBits",c.target.value))},null,40,O5),e[23]||(e[23]=p("p",null,"Liczba bitw dla kodu rozkazu.",-1))]),p("div",y5,[e[24]||(e[24]=p("label",{for:"addresBits"},"Bity adresu:",-1)),p("input",{id:"addresBits",type:"number",inputmode:"numeric",pattern:"[0-9]*",value:t.addresBits,min:"1",max:"32",onInput:e[5]||(e[5]=c=>r.updateNumber("addresBits",c.target.value))},null,40,b5),e[25]||(e[25]=p("p",null,"Liczba bitw dla argumentu.",-1))]),p("div",w5,[e[26]||(e[26]=p("label",{for:"memoryAddresBits"},"Bity pamici (RAM):",-1)),p("input",{id:"memoryAddresBits",type:"number",inputmode:"numeric",pattern:"[0-9]*",value:t.memoryAddresBits,min:"1",max:"10",onInput:e[6]||(e[6]=c=>r.updateNumber("memoryAddresBits",c.target.value))},null,40,S5),e[27]||(e[27]=p("p",null,"Rozmiar pamici = 2^bity komrek.",-1))]),p("div",k5,[e[28]||(e[28]=p("label",{for:"oddDelay"},"Opnienie mikro-kroku (ms):",-1)),p("input",{id:"oddDelay",type:"number",inputmode:"numeric",pattern:"[0-9]*",value:t.oddDelay,min:"0",max:"10000",onInput:e[7]||(e[7]=c=>r.updateNumber("oddDelay",c.target.value))},null,40,v5),e[29]||(e[29]=p("p",null,"Opnienie midzy mikro-operacjami w milisekundach.",-1))]),p("div",x5,[e[30]||(e[30]=p("label",{for:"stepDelay"},"Opnienie kroku automatycznego (ms):",-1)),p("input",{id:"stepDelay",type:"number",inputmode:"numeric",pattern:"[0-9]*",value:t.stepDelay,min:"5",max:"10000",onInput:e[8]||(e[8]=c=>r.updateNumber("stepDelay",c.target.value))},null,40,C5),e[31]||(e[31]=p("p",null,"Czas midzy kolejnymi krokami w trybie krokowym (cykle na sekund = 1000/ms).",-1))]),t.platform!=="esp"?(k(),A("div",P5,[e[36]||(e[36]=p("label",null,"Dodatki:",-1)),(k(!0),A(ve,null,Et(r.booleanKeys,c=>(k(),A("div",{key:c,class:"module-toggle-wrapper"},[p("span",Q5,oe(r.extrasLabels[c]),1),p("label",$5,[p("input",{type:"checkbox",checked:t.extras[c],onChange:d=>i.$emit("update:extras",{[c]:d.target.checked})},null,40,A5),e[32]||(e[32]=p("span",{class:"slider round"},null,-1))])]))),128)),(k(!0),A(ve,null,Et(r.groupDefs,c=>(k(),A("div",{key:c.key,class:be(["settingsGroup",{open:r.isOpen(c.key)}])},[p("div",{class:"settingsGroupHeader",role:"button","aria-expanded":r.isOpen(c.key),tabindex:"0",onClick:d=>r.toggleOpen(c.key),onKeydown:[Ds(Ge(d=>r.toggleOpen(c.key),["prevent"]),["enter"]),Ds(Ge(d=>r.toggleOpen(c.key),["prevent"]),["space"])]},[e[34]||(e[34]=p("span",{class:"chevron","aria-hidden":"true"},null,-1)),p("span",M5,oe(c.label),1),p("label",{class:"switch",onClick:e[9]||(e[9]=Ge(()=>{},["stop"]))},[p("input",{type:"checkbox",checked:r.isGroupAllOn(c),onChange:d=>r.toggleGroup(c,d.target.checked)},null,40,T5),e[33]||(e[33]=p("span",{class:"slider round"},null,-1))])],40,R5),T(Oa,{name:"collapse",onEnter:r.onEnter,onAfterEnter:r.onAfterEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},{default:Un(()=>[gs(p("div",L5,[(k(!0),A(ve,null,Et(c.children,d=>{var f,m;return k(),A("div",{key:d.key,class:"module-toggle-wrapper"},[p("span",E5,oe(d.label),1),p("label",Z5,[p("input",{type:"checkbox",checked:(m=(f=t.extras)==null?void 0:f[c.key])==null?void 0:m[d.key],onChange:g=>i.$emit("update:extras",{[c.key]:{[d.key]:g.target.checked}})},null,40,I5),e[35]||(e[35]=p("span",{class:"slider round"},null,-1))])])}),128))],512),[[y1,r.isOpen(c.key)]])]),_:2},1032,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],2))),128))])):V("",!0),p("div",B5,[e[39]||(e[39]=p("label",null,"Edytor:",-1)),p("div",z5,[e[38]||(e[38]=p("span",{class:"module-label"},"Auto-uzupenianie (podpowiedzi)",-1)),p("label",_5,[p("input",{type:"checkbox",checked:t.autocompleteEnabled,onChange:e[10]||(e[10]=c=>i.$emit("update:autocompleteEnabled",c.target.checked))},null,40,N5),e[37]||(e[37]=p("span",{class:"slider round"},null,-1))])])]),p("div",D5,[p("div",X5,[p("button",{class:"SvgAndTextButton compact-button execution-btn execution-btn--step",id:"resetValues",onClick:e[11]||(e[11]=c=>i.$emit("resetValues"))},[T(l),e[40]||(e[40]=p("span",null,"Resetuj wartoci rejestrw",-1))]),p("button",{class:"SvgAndTextButton compact-button execution-btn execution-btn--step",id:"defaultSettings",onClick:e[12]||(e[12]=c=>i.$emit("defaultSettings"))},[T(l),e[41]||(e[41]=p("span",null,"Przywr domylne ustawienia",-1))]),p("button",{class:"SvgAndTextButton compact-button execution-btn execution-btn--step",id:"openCommandList",onClick:e[13]||(e[13]=c=>i.$emit("open-command-list"))},[T(a),e[42]||(e[42]=p("span",null,"Lista rozkazw",-1))])])]),t.platform=="esp"?(k(),A("div",q5,[e[47]||(e[47]=p("h3",{class:"color-section-title"},"Kolory LED",-1)),p("div",V5,[p("button",{class:"color-selection-btn",onClick:e[14]||(e[14]=c=>r.openColorPicker("signal_line"))},[e[43]||(e[43]=p("span",{class:"color-label"},"Linie sygnaowe",-1)),p("div",{class:"color-dot",style:tt({backgroundColor:n.signalLineColor})},null,4)]),p("button",{class:"color-selection-btn",onClick:e[15]||(e[15]=c=>r.openColorPicker("display"))},[e[44]||(e[44]=p("span",{class:"color-label"},"Wywietlacz",-1)),p("div",{class:"color-dot",style:tt({backgroundColor:n.displayColor})},null,4)]),p("button",{class:"color-selection-btn",onClick:e[16]||(e[16]=c=>r.openColorPicker("bus"))},[e[45]||(e[45]=p("span",{class:"color-label"},"Magistrala",-1)),p("div",{class:"color-dot",style:tt({backgroundColor:n.busColor})},null,4)])]),p("button",{class:"send-colors-btn",onClick:e[17]||(e[17]=(...c)=>r.sendAllColors&&r.sendAllColors(...c)),disabled:!n.hasColorChanges},e[46]||(e[46]=[p("span",null," Wylij wszystkie kolory do ESP32",-1)]),8,j5)])):V("",!0),T(h,{visible:n.colorPickerOpen,title:n.currentColorTitle,color:n.currentColor,brightness:n.currentBrightness,onClose:r.closeColorPicker,onApply:r.applyColor},null,8,["visible","title","color","brightness","onClose","onApply"]),T(u,{isMobile:t.isMobile,title:"Opiekunowie",people:t.caregivers,showGithub:!1,columns:2},null,8,["isMobile","people"]),T(u,{isMobile:t.isMobile,title:"Twrcy",people:t.creators,showGithub:!0,columns:2},null,8,["isMobile","people"])])],2)}const Y5=ce(h5,[["render",W5],["__scopeId","data-v-994c9d19"]]),U5={name:"CreatorsPanel",components:{PeopleSection:hO},props:{isMobile:{type:Boolean,default:!1},isAnimated:{type:Boolean,default:!1},creators:{type:Array,default:()=>[]},caregivers:{type:Array,default:()=>[]}}};function F5(i,e,t,s,n,r){const o=ee("PeopleSection");return t.isMobile?V("",!0):(k(),A("div",{key:0,id:"creators",class:be({"slide-in-left":t.isAnimated,"slide-out-left":!t.isAnimated}),onClick:e[0]||(e[0]=Ge(()=>{},["stop"])),"aria-label":"Twrcy projektu"},[T(o,{title:"Opiekunowie",people:t.caregivers,showGithub:!1,columns:2},null,8,["people"]),T(o,{title:"Twrcy",people:t.creators,showGithub:!0,columns:2},null,8,["people"])],2))}const G5=ce(U5,[["render",F5],["__scopeId","data-v-bcadcb61"]]),H5={name:"SettingsOverlay",components:{SettingsPanel:Y5,CreatorsPanel:G5},props:{settingsOpen:{type:Boolean,default:!1},isMobile:{type:Boolean,required:!0},lightMode:{type:Boolean,required:!0},numberFormat:{type:String,required:!0},codeBits:{type:Number,required:!0},autocompleteEnabled:{type:Boolean,default:!0},memoryAddresBits:{type:Number,required:!0},addresBits:{type:Number,required:!0},oddDelay:{type:Number,required:!0},stepDelay:{type:Number,required:!0},decSigned:{type:Boolean,default:!1},extras:{type:Object,required:!0,validator(i){return["xRegister","yRegister","dl","jamlExtras","busConnectors","showInvisibleRegisters","interrupts","io","stack"].every(e=>e in i)}},creators:{type:Array,default:()=>[{name:"Szymon Wonica",linkedin:"https://pl.linkedin.com/in/szymon-wo%C5%BAnica-b46b7b201",github:"",roles:[]},{name:"Maja Kucab",linkedin:"",github:"",roles:[]},{name:"Kacper Sikorski",linkedin:"https://www.linkedin.com/in/kacper-sikorski-049b4a334/",github:"https://github.com/Sikor915",roles:[]},{name:"Sawomir Put",linkedin:"https://www.linkedin.com/in/slawomir-put/",github:"https://github.com/xTaromarux",roles:[]},{name:"Pawe Linek",linkedin:"https://www.linkedin.com/in/paweloslinek/",github:"https://github.com/pawelos231",roles:[]},{name:"Bartek Faruga",linkedin:"https://www.linkedin.com/in/bartosz-faruga/",github:"https://github.com/MrRooby",roles:[]},{name:"Marcin Ryt",linkedin:"",github:"",roles:[]},{name:"Oskar Forreiter",linkedin:"",github:"",roles:[]},{name:"Micha Kostrzewski",linkedin:"",github:"",roles:[]},{name:"Sebastian Legierski",linkedin:"",github:"",roles:[]},{name:"Pawe Janus",linkedin:"",github:"",roles:[]}]},caregivers:{default:()=>[{name:"Dr in. Robert Tutajewicz",linkedin:"",roles:[]},{name:"Dr hab. in. Krzysztof Simiski",linkedin:"",roles:[]},{name:"Dr in. Tomasz Rudnicki",linkedin:"",roles:[]}]}},emits:["close","update:lightMode","update:numberFormat","update:codeBits","update:addresBits","update:oddDelay","update:extras","resetValues","defaultSettings","open-command-list","update:memoryAddresBits","update:decSigned","update:autocompleteEnabled","color-change"],data(){return{open:!1,isAnimated:!1,platform:"esp"}},watch:{settingsOpen(i){i?(this.open=!0,this.$nextTick(()=>{setTimeout(()=>{this.isAnimated=!0},10)})):this.$nextTick(()=>{setTimeout(()=>{this.open=!1},400),setTimeout(()=>{this.isAnimated=!1},10)})}},mounted(){this.settingsOpen&&(this.open=!0,this.$nextTick(()=>setTimeout(()=>{this.isAnimated=!0},10)))},methods:{startClose(){this.$emit("close"),setTimeout(()=>{this.open=!1},400)}}};function K5(i,e,t,s,n,r){const o=ee("CreatorsPanel"),l=ee("SettingsPanel");return n.open?(k(),A("div",{key:0,id:"settings-overlay",onClick:e[14]||(e[14]=Ge((...a)=>r.startClose&&r.startClose(...a),["self"]))},[T(o,{"is-mobile":t.isMobile,"is-animated":n.isAnimated,creators:t.creators,caregivers:t.caregivers},null,8,["is-mobile","is-animated","creators","caregivers"]),T(l,{"is-animated":n.isAnimated,"is-mobile":t.isMobile,creators:t.creators,caregivers:t.caregivers,"light-mode":t.lightMode,"number-format":t.numberFormat,"code-bits":t.codeBits,"addres-bits":t.addresBits,"odd-delay":t.oddDelay,"step-delay":t.stepDelay,extras:t.extras,platform:n.platform,"dec-signed":t.decSigned,"memory-addres-bits":t.memoryAddresBits,"autocomplete-enabled":t.autocompleteEnabled,onClose:r.startClose,"onUpdate:lightMode":e[0]||(e[0]=a=>i.$emit("update:lightMode",a)),"onUpdate:numberFormat":e[1]||(e[1]=a=>i.$emit("update:numberFormat",a)),"onUpdate:decSigned":e[2]||(e[2]=a=>i.$emit("update:decSigned",a)),"onUpdate:codeBits":e[3]||(e[3]=a=>i.$emit("update:codeBits",a)),"onUpdate:addresBits":e[4]||(e[4]=a=>i.$emit("update:addresBits",a)),"onUpdate:oddDelay":e[5]||(e[5]=a=>i.$emit("update:oddDelay",a)),"onUpdate:stepDelay":e[6]||(e[6]=a=>i.$emit("update:stepDelay",a)),"onUpdate:extras":e[7]||(e[7]=a=>i.$emit("update:extras",a)),onResetValues:e[8]||(e[8]=a=>i.$emit("resetValues")),onDefaultSettings:e[9]||(e[9]=a=>i.$emit("defaultSettings")),onOpenCommandList:e[10]||(e[10]=a=>i.$emit("open-command-list")),"onUpdate:autocompleteEnabled":e[11]||(e[11]=a=>i.$emit("update:autocompleteEnabled",a)),"onUpdate:memoryAddresBits":e[12]||(e[12]=a=>i.$emit("update:memoryAddresBits",a)),onColorChange:e[13]||(e[13]=a=>i.$emit("color-change",a))},null,8,["is-animated","is-mobile","creators","caregivers","light-mode","number-format","code-bits","addres-bits","odd-delay","step-delay","extras","platform","dec-signed","memory-addres-bits","autocomplete-enabled","onClose"])])):V("",!0)}const J5=ce(H5,[["render",K5],["__scopeId","data-v-f5bc6f3f"]]),eA={},tA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"};function iA(i,e){return k(),A("svg",tA,e[0]||(e[0]=[p("path",{d:"m9 18 6-6-6-6"},null,-1),p("path",{d:"M21 6v12"},null,-1)]))}const sA=ce(eA,[["render",iA]]),nA={},rA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"};function oA(i,e){return k(),A("svg",rA,e[0]||(e[0]=[p("polygon",{points:"5,3 19,12 5,21"},null,-1)]))}const lA=ce(nA,[["render",oA]]),aA={name:"ExecutionControls",components:{CompileIcon:Eh,EditIcon:Zh,NextLineIcon:sA,RunIcon:lA},props:{manualMode:{type:Boolean,required:!0},codeCompiled:{type:Boolean,required:!0},code:{type:String,required:!0},isRunning:{type:Boolean,required:!0},isFastRunning:{type:Boolean,required:!1,default:!1},fastProgress:{type:Number,required:!1,default:0}},emits:["compile","edit","step","run","run-fast","stop"]},hA={class:"execution-controls"},uA=["disabled"],cA=["disabled"],dA=["disabled"],fA=["disabled"],mA=["disabled"];function pA(i,e,t,s,n,r){const o=ee("CompileIcon"),l=ee("EditIcon"),a=ee("NextLineIcon"),h=ee("RunIcon");return k(),A("div",hA,[t.codeCompiled?(k(),A("button",{key:1,onClick:e[1]||(e[1]=u=>i.$emit("edit")),disabled:t.isRunning,class:"execution-btn execution-btn--edit",title:"Wr do edycji"},[T(l),e[8]||(e[8]=p("span",null,"Edytuj",-1))],8,cA)):(k(),A("button",{key:0,onClick:e[0]||(e[0]=u=>i.$emit("compile")),disabled:t.manualMode||t.isRunning||!t.code||!t.code.trim(),class:"execution-btn execution-btn--compile",title:"Skompiluj program"},[T(o),e[7]||(e[7]=p("span",null,"Kompiluj",-1))],8,uA)),p("button",{onClick:e[2]||(e[2]=u=>i.$emit("step")),disabled:t.isRunning||!t.manualMode&&!t.codeCompiled,class:"execution-btn execution-btn--step",title:"Krok wykonania"},[T(a),p("span",null,oe(t.manualMode?"Wykonaj takt":"Nastpny takt"),1)],8,dA),t.isRunning?(k(),A("button",{key:3,onClick:e[4]||(e[4]=u=>i.$emit("stop")),class:"execution-btn execution-btn--run",title:"Zatrzymaj wykonywanie"},[T(h),e[10]||(e[10]=p("span",null,"Stop",-1))])):(k(),A("button",{key:2,onClick:e[3]||(e[3]=u=>i.$emit("run")),disabled:t.manualMode||!t.codeCompiled,class:"execution-btn execution-btn--run",title:"Uruchom program"},[T(h),e[9]||(e[9]=p("span",null,"Uruchom",-1))],8,fA)),t.isRunning?t.isFastRunning?(k(),A("button",{key:5,onClick:e[6]||(e[6]=u=>i.$emit("stop")),class:"execution-btn execution-btn--run",title:"Zatrzymaj wykonywanie"},[e[12]||(e[12]=p("span",{class:"spinner","aria-hidden":"true"},null,-1)),p("span",null,"Pracuj "+oe(t.fastProgress)+"%",1)])):V("",!0):(k(),A("button",{key:4,onClick:e[5]||(e[5]=u=>i.$emit("run-fast")),disabled:t.manualMode||!t.codeCompiled,class:"execution-btn execution-btn--run",title:"Uruchom cao (bez animacji)"},[T(h),e[11]||(e[11]=p("span",null,"Uruchom (bez animacji)",-1))],8,mA))])}const gA=ce(aA,[["render",pA],["__scopeId","data-v-303e8f7b"]]),OA={class:"io-card"},yA={class:"row"},bA={class:"row hint"},wA={class:"hint-value"},SA={class:"row"},kA={class:"value-box"},vA={class:"row"},xA={__name:"IOPanel",props:{devIn:{type:Number,required:!0},devOut:{type:Number,required:!0},devReady:{type:Number,required:!0},wordBits:{type:Number,required:!0},formatNumber:{type:Function,required:!0}},emits:["update:devIn","update:devReady"],setup(i,{emit:e}){const t=i,s=e,n=l=>(1<<l)-1,r=De(null),o=l=>{var h;const a=(((h=l.target.value)==null?void 0:h.charCodeAt(0))||0)&n(t.wordBits);s("update:devIn",a),s("update:devReady",a?0:1),r.value&&(r.value.value="")};return(l,a)=>(k(),A("div",OA,[a[4]||(a[4]=p("h3",null,"Urzdzenie zewntrzne",-1)),p("div",yA,[a[0]||(a[0]=p("label",{for:"devin"},"Wejcie (DEV_IN):",-1)),p("input",{id:"devin",ref_key:"inputEl",ref:r,type:"text",maxlength:"1",placeholder:"Wpisz znak",onInput:o},null,544)]),p("div",bA,[a[1]||(a[1]=p("label",{for:"devin",class:"hint-label"},"Aktualny DEV_IN:",-1)),p("span",wA,oe(i.formatNumber(i.devIn)),1)]),p("div",SA,[a[2]||(a[2]=p("label",null,"Wyjcie (DEV_OUT):",-1)),p("div",kA,oe(i.formatNumber(i.devOut))+" ("+oe(String.fromCharCode(i.devOut||32))+") ",1)]),p("div",vA,[a[3]||(a[3]=p("label",null,"Status (READY/G):",-1)),p("div",{class:be(["status",i.devReady?"ready":"busy"])},oe(i.devReady?"READY":"BUSY"),3)])]))}},CA=ce(xA,[["__scopeId","data-v-04044acc"]]),PA={class:"programEditor"},QA={class:"chooseProgram"},$A={key:1,class:"manualModeInstruction"},AA=["data-row"],RA=["disabled","onClick","title"],MA={class:"lineNo"},TA={class:"codeLine"},LA={key:4,class:"nextLine"},EA={class:"flexRow"},ZA={__name:"ProgramEditor",props:{manualMode:{type:Boolean,required:!0},codeCompiled:{type:Boolean,required:!0},code:{type:String,required:!0},compiledCode:{type:Array,required:!0},activeLine:{type:Number,required:!0},nextLine:{type:Object,required:!0},breakpoints:{type:Object,default:()=>new Set},breakpointsEnabled:{type:Boolean,default:!0},showIo:{type:Boolean,default:!1},devIn:{type:Number,default:0},devOut:{type:Number,default:0},devReady:{type:Number,default:1},wordBits:{type:Number,required:!0},formatNumber:{type:Function,required:!0}},emits:["update:code","setManualMode","update:devIn","update:devReady","toggle-breakpoint"],setup(i,{emit:e}){const t=i,s=e,n=De(t.code),r=De(null);return nt(n,o=>s("update:code",o)),nt(()=>t.code,o=>{o!==n.value&&(n.value=o)}),nt(()=>t.activeLine,async o=>{var a;await Fi();const l=(a=r.value)==null?void 0:a.querySelector(`[data-row="${o}"]`);l!=null&&l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"nearest"})}),(o,l)=>(k(),A("div",PA,[T(Lh,{options:[{label:"Tryb rczny",value:!0},{label:"Program",value:!1}],"model-value":i.manualMode,"onUpdate:modelValue":l[0]||(l[0]=a=>o.$emit("setManualMode",a)),class:"toggleButtonProgram"},null,8,["model-value"]),i.showIo?(k(),Me(CA,{key:0,"dev-in":i.devIn,"dev-out":i.devOut,"dev-ready":i.devReady,"word-bits":i.wordBits,"format-number":i.formatNumber,"onUpdate:devIn":l[1]||(l[1]=a=>o.$emit("update:devIn",a)),"onUpdate:devReady":l[2]||(l[2]=a=>o.$emit("update:devReady",a)),class:"mb-2"},null,8,["dev-in","dev-out","dev-ready","word-bits","format-number"])):V("",!0),p("div",QA,[jf(o.$slots,"chooseProgram",{},void 0)]),i.manualMode?(k(),A("div",$A,l[4]||(l[4]=[p("p",null,"Aby uruchomi program, kliknij wybrany sygna i nacinij 'Wykonaj takt'",-1)]))):i.codeCompiled?(k(),A("div",{key:3,class:be(["compiledCode",{"bp-disabled":!i.breakpointsEnabled}]),ref_key:"compiledEl",ref:r},[(k(!0),A(ve,null,Et(i.compiledCode,(a,h)=>{var u,c,d;return k(),A("span",{key:h,class:be(["flexRow",{active:i.activeLine===h,"bp-line":(u=i.breakpoints)==null?void 0:u.has(h)}]),"data-row":h},[p("button",{class:be(["bp-dot gutter",{"bp-dot--active":(c=i.breakpoints)==null?void 0:c.has(h)}]),disabled:!i.breakpointsEnabled,onClick:Ge(f=>s("toggle-breakpoint",h),["stop"]),title:i.breakpointsEnabled?(d=i.breakpoints)!=null&&d.has(h)?"Usu breakpoint":"Dodaj breakpoint":"Breakpoints wyczone","aria-label":"Toggle breakpoint"},null,10,RA),p("span",MA,oe(h),1),l[5]||(l[5]=p("span",null,":",-1)),p("span",TA,oe(a),1)],10,AA)}),128))],2)):(k(),Me(rO,{key:2,modelValue:n.value,"onUpdate:modelValue":l[3]||(l[3]=a=>n.value=a),language:"maszynaW",theme:"mwTheme",maxHeight:i.showIo?"18.3rem":"32rem"},null,8,["modelValue","maxHeight"])),i.manualMode?(k(),A("div",LA,[l[6]||(l[6]=p("p",{class:"nextLineTitle"},"Sygnay nastpnej linii:",-1)),p("div",EA,[(k(!0),A(ve,null,Et([...i.nextLine],a=>(k(),A("div",{key:a},[p("span",null,oe(a),1)]))),128))])])):V("",!0)]))}},IA=ce(ZA,[["__scopeId","data-v-dbb42e86"]]);function ta(i){const e={};for(const t of Object.keys(i))i[t]===!0&&(e[t]=!0);return Number.isFinite(i.srcLine)&&(e.srcLine=i.srcLine),e}function ia(i){return i.split(/\s+/).map(e=>e.trim()).filter(Boolean)}function sa(i){const e=[];let t=0;for(;t<i.length&&i[t].startsWith("@");)e.push(i[t].slice(1)),t++;return{labels:e,rest:i.slice(t)}}function BA(i){return i.has("czyt")&&i.has("wei")&&i.has("il")}function na(i,e){const t={};for(const s of i){const n=s.toLowerCase();if(n==="koniec")break;e.has(n)&&(t[n]=!0)}return t}function zA(i){var h;const e=i.findIndex(u=>/^if$/i.test(u));if(e<0)return null;const t=(h=i[e+1])==null?void 0:h.toUpperCase(),s=i.findIndex((u,c)=>c>e&&/^then$/i.test(u)),n=i.findIndex((u,c)=>c>e&&/^else$/i.test(u));if(!t||s<0||n<0)return null;const r=i[s+1],o=i[n+1];if(!r||!o||!r.startsWith("@")||!o.startsWith("@"))return null;const l=(()=>{const u=t;return u==="M"||u==="NEG"?"N":u==="NZERO"?"NZ":u==="ZERO"?"Z":u==="POS"?"P":u})(),a=i.slice(0,e);return{flag:l,trueLabel:r.slice(1),falseLabel:o.slice(1),prefix:a}}function _A(i,e){var h,u,c;if(!i||!i.trim())throw new Error("Brak kodu do kompilacji.");const{availableSignals:t,extras:s}=e,n=new Set([...t.always,...s!=null&&s.xRegister?t.xRegister:[],...s!=null&&s.yRegister?t.yRegister:[],...s!=null&&s.dl?t.dl:[],...s!=null&&s.jamlExtras?t.jamlExtras:[],...s!=null&&s.busConnectors?t.busConnectors:[]]),r=i.split(";").map(d=>d.replace(/\r?\n/g," ").trim()).filter(d=>d.length>0),o=[];let l=null;const a=()=>{l&&l.phases.length>0&&(o.push(l),l=null)};for(let d=0;d<r.length;d++){const f=r[d],m=ia(f),{labels:g,rest:b}=sa(m),y=zA(b);if(y){l||(l={pc:o.length,asmLine:"(micro)",phases:[],meta:{kind:"NONE"}});const v=r[d+1]??"",P=r[d+2]??"",M=ia(v),E=ia(P),I=sa(M),L=sa(E),Q=((h=I.labels[0])==null?void 0:h.toLowerCase())===y.trueLabel.toLowerCase(),R=((u=L.labels[0])==null?void 0:u.toLowerCase())===y.falseLabel.toLowerCase(),x=Q?na(I.rest,n):{},W=R?na(L.rest,n):{},G={conditional:!0,flag:y.flag,truePhases:Q?[ta(x)]:[],falsePhases:R?[ta(W)]:[],srcLine:d,__prefix:((c=y.prefix)==null?void 0:c.slice())||[]};Q&&G.truePhases[0]&&(G.truePhases[0].srcLine=d+1),R&&G.falsePhases[0]&&(G.falsePhases[0].srcLine=d+2),l.phases.push(G),Q&&(d+=1),R&&(d+=1);continue}for(const v of b)if(v.toUpperCase()!=="KONIEC"&&!n.has(v.toLowerCase()))throw new Error(`Nieznany symbol ${v} w linii ${d+1}: ${f}`);const S=new Set(b.map(v=>v.toLowerCase()).filter(v=>n.has(v)));if(BA(S)?(a(),l={pc:o.length,asmLine:"(micro)",phases:[],meta:{kind:"NONE"}}):l||(l={pc:o.length,asmLine:"(micro)",phases:[],meta:{kind:"NONE"}}),S.size===0)continue;const $=na(b,n);$.srcLine=d,l.phases.push(ta($)),$.stop&&a()}return a(),{program:o,rawLines:r}}const NA={name:"MainComponent",components:{MaszynaW:iw,CommandList:Pw,ProgramSection:ZP,CounterComponent:xm,BusSignal:Cm,SignalButton:Qt,MemorySection:Pm,CalcSection:$m,RegisterISection:Am,XRegisterSection:Rm,YRegisterSection:Mm,TopBar:KP,AiChat:vQ,ConsoleDock:r$,SettingsOverlay:J5,ExecutionControls:gA,ProgramEditor:IA},computed:{anyPopupOpen(){return this.commandListOpen||this.aiChatOpen||this.settingsOpen},rint(){return(this.RZ&~this.RM)!==0},highestPriorityIRQ(){const i=this.RZ&~this.RM;if(!i)return null;for(let e=3;e>=0;e--)if(i&1<<e)return e+1;return null}},created(){this.ws=null},data(){return{_skipNextBreakpoint:!1,breakpointsEnabled:!0,breakpoints:new Set,_headless:!1,isFastRunning:!1,fastProgress:0,_lastLogKey:null,_lastLogCount:0,_lastLogTs:0,platform:"esp",ws:null,wsStatus:"disconnected",wsPingTimer:null,decSigned:!1,_condState:null,_pendingMemoryClear:null,autocompleteEnabled:!0,isMobile:window.innerWidth<=768,suppressBroadcast:!1,prevSignals:{},prevMem:[],addresBits:4,codeBits:6,memoryAddresBits:6,JAML:0,mem:[1,2,4,8,17,34,36,56],programCounter:0,JAML:0,RZInputs:[0,0,0,0],X:0,Y:0,RB:0,G:0,RM:0,AP:0,RP:0,RZ:0,ACC:0,I:0,A:0,S:0,BusA:0,BusS:0,WS:0,DEV_READY:1,DEV_IN:0,DEV_OUT:0,DEV_BUSY:!1,runLoopTimer:null,isRunning:!1,stack:[],code:`czyt wys wei il;
wyad wea;
czyt wys weja dod weak wyl wea;`,program:"DOD",compiledCode:[],compiledProgram:[],activeInstrIndex:-1,activePhaseIndex:0,activeLine:0,nextLine:new Set,_stepGuard:0,activeTimeouts:[],oddDelay:400,stepDelay:500,isAutoStepping:!1,autoStepInterval:null,busHoldMs:200,_busHoldTimers:{A:null,S:null},commandList:oO,numberFormat:"dec",registerFormats:{L:"dec",I:"dec",ACC:"dec",A:"dec",S:"dec",X:"dec",Y:"dec",RB:"dec",G:"dec",RZ:"dec",RP:"dec",RM:"dec",AP:"dec",WS:"dec",JAML:"dec",BusA:"dec",BusS:"dec"},avaiableSignals:{always:["il","wyl","wel","wyad","wei","wea","wes","wys","czyt","pisz","przep","weja","weak","dod","ode","wyak","stop","wyws","iws","dws","wyls","wyg","werb","wyrb","start","ustrm","czrm","werm","wyrm","werz","wyrz","werp","wyrp","weap","wyap"],busConnectors:["as","sa"],dl:["dl"],jamlExtras:["iak","dak","mno","dziel","shr","shl","neg","lub","i"],xRegister:["wyx","wex"],yRegister:["wyy","wey"]},signals:{as:!1,sa:!1,il:!1,dl:!1,wel:!1,wyl:!1,busA:!1,busS:!1,wyad:!1,wei:!1,iak:!1,dak:!1,weak:!1,weja:!1,wyak:!1,przep:!1,dod:!1,ode:!1,mno:!1,dziel:!1,shr:!1,shl:!1,neg:!1,lub:!1,i:!1,czyt:!1,pisz:!1,wea:!1,wes:!1,wys:!1,wyx:!1,wex:!1,wyy:!1,wey:!1,stop:!1,wyws:!1,iws:!1,dws:!1,werm:!1,wyap:!1,weap:!1,wews:!1,wyrm:!1,wyrz:!1,werz:!1,wyrp:!1,werp:!1,wyls:!1,wyg:!1,werb:!1,wyrb:!1,rint:!1,start:!1,ustrm:!1,czrm:!1},extras:this.getDefaultExtras(),logs:[],manualMode:!0,codeCompiled:!1,disappearBlour:!1,settingsOpen:!1,commandListOpen:!1,aiChatOpen:!1,lightMode:!0,consoleOpen:!1,hasConsoleErrors:!1}},methods:{toggleBreakpoint(i){typeof i=="number"&&(this.breakpoints.has(i)?this.breakpoints.delete(i):this.breakpoints.add(i),this.addLog(`Breakpoint ${this.breakpoints.has(i)?"dodany":"usunity"} @${i}`,"system"))},_shouldPauseOnBreakpoint(i){return this.isRunning&&Number.isFinite(i)&&this.breakpoints.has(i)},reconnectWS(){try{if(this.ws){try{this.ws.close()}catch{}this.ws=null}this.wsStatus="connecting",setTimeout(()=>this.initWebsocket(),150)}catch(i){this.wsStatus="error",this.addLog("[WS] Reconnect failed","Error",{message:String(i)})}},holdBus(i){const e=i==="A"?"busA":"busS";this.signals[e]=!0;const t=i==="A"?"A":"S";this._busHoldTimers[t]&&clearTimeout(this._busHoldTimers[t]),this._busHoldTimers[t]=setTimeout(()=>{this.signals[e]=!1,this._busHoldTimers[t]=null},this.busHoldMs)},toSigned(i,e){const t=1<<e,s=t-1,n=1<<e-1,r=i&s;return r&n?r-t:r},getDefaultExtras(){return{xRegister:!1,yRegister:!1,io:{rbRegister:!1,gRegister:!1},stack:{wsRegister:!1,wylsSignal:!1},interrupts:{rzRegister:!1,rpRegister:!1,rmRegister:!1,apRegister:!1,rintSignal:!1,eniSignal:!1},dl:!1,jamlExtras:!1,busConnectors:!1,showInvisibleRegisters:!1}},mergeExtras(i,e){const t=this.getDefaultExtras(),s=i||{},n=e||{};return{...t,...s,...n,io:{...t.io,...s.io||{},...n.io||{}},stack:{...t.stack,...s.stack||{},...n.stack||{}},interrupts:{...t.interrupts,...s.interrupts||{},...n.interrupts||{}}}},to8(i){return i&255},toWord(i){return i&this.wordMask()},wordMask(){return(1<<this.codeBits+this.addresBits)-1},addrMask(){return(1<<this.memoryAddresBits)-1},updateAP(){const i=this.stack.filter(e=>e.type==="Address");i.length>0?this.AP=i[i.length-1].value:this.AP=0},stackPush(i,e){const t={type:i,value:e&this.wordMask()};this.stack.push(t),console.log("Stack PUSH:",t,"New stack:",this.stack),i==="Address"?(this.updateAP(),this.addLog(`Stos PUSH [${i}]: ${e} (AP=${this.AP}, WS=${this.WS}, rozmiar=${this.stack.length})`,"stos")):this.addLog(`Stos PUSH [${i}]: ${e} (WS=${this.WS}, rozmiar=${this.stack.length})`,"stos")},stackPop(i){if(this.stack.length===0)return this.addLog("Stos POP: stos pusty!","Bd"),0;const e=this.stack.pop();return i&&e.type!==i&&this.addLog(`Stos POP: oczekiwano ${i}, otrzymano ${e.type}!`,"Ostrzeenie"),e.type==="Address"?(this.updateAP(),this.addLog(`Stos POP [${e.type}]: ${e.value} (AP=${this.AP}, WS=${this.WS}, rozmiar=${this.stack.length})`,"stos")):this.addLog(`Stos POP [${e.type}]: ${e.value} (WS=${this.WS}, rozmiar=${this.stack.length})`,"stos"),e.value},handleProgramSectionCompile(i){if(typeof i=="string"){this.code=i,this.compiledCode=i.split(`
`).map(s=>s.replace(/;\s*$/,"")).filter(s=>s.trim()!==""),this.compiledProgram=[],this.codeCompiled=!0,this.activeLine=-1,this.activeInstrIndex=-1,this.activePhaseIndex=0,this.nextLine.clear();return}const{text:e,program:t}=i||{};typeof e=="string"&&(this.code=e,this.compiledCode=e.split(`
`).map(s=>s.replace(/;\s*$/,"")).filter(s=>s.trim()!=="")),this.compiledProgram=Array.isArray(t)?t:[],this.codeCompiled=!0,this.activeLine=-1,this.activeInstrIndex=-1,this.activePhaseIndex=0,this.nextLine.clear(),this.addLog("Program skompilowany (strukturalny mikroprogram).","kompilator rozkazw")},applyInitMemory(i){const e=1<<this.memoryAddresBits,t=new Array(e).fill(0);for(let n=0;n<Math.min(this.mem.length,e);n++)t[n]=this.mem[n];const s=this.wordMask();for(const{addr:n,val:r}of i)n>=0&&n<e?t[n]=r&s:this.addLog(`Adres poza zakresem pamici przy inicjalizacji: ${n}`,"Error");this.mem=t,this.addLog(`Zastosowano inicjalizacj pamici (${i.length} wpisw)`,"system")},initWebsocket(){try{this.wsStatus="connecting",this.ws=new WebSocket("ws://localhost:8080"),this.ws.binaryType="arraybuffer",this.ws.addEventListener("open",()=>{this.wsStatus="connected",this.addLog("[WS] Connected to server","system"),this.sendFullDataToESP(),this.wsPingTimer&&clearInterval(this.wsPingTimer),this.wsPingTimer=setInterval(()=>{var i;((i=this.ws)==null?void 0:i.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping",t:Date.now()}))},1e4)}),this.ws.addEventListener("close",()=>{this.wsStatus="disconnected",this.addLog("[WS] Disconnected","system"),this.wsPingTimer&&clearInterval(this.wsPingTimer),this.wsPingTimer=null}),this.ws.addEventListener("error",i=>{this.wsStatus="error",this.addLog("[WS] Connection error","Error",{message:String(i)})}),this.ws.addEventListener("message",async({data:i})=>{let e;i instanceof Blob?e=await i.text():i instanceof ArrayBuffer?e=new TextDecoder().decode(i):e=i;let t;try{t=JSON.parse(e)}catch{return}t.type!=="pong"&&t.type==="button_press"&&this.handleRemoteToggleESPWebSocket(t.buttonName)})}catch(i){this.wsStatus="error",this.addLog("[WS] Init failed","Error",{message:String(i)})}},handleRemoteToggleLocalWebSocket(i,e){this.suppressBroadcast=!0,e?this.nextLine.add(i):this.nextLine.delete(i),this.signals[i]=e,this.suppressBroadcast=!1},checkConflict(i){const e=[["wyad","wyl"],["wys","wyak"],["il","wel"],["czyt","pisz"],["iak","dak"]],t=["wyl","wel","wyad","wea","as","sa","wyws","wyap","wyrm","werm"],s=["wei","weja","wyak","wyx","wex","wyy","wey","wes","wys","as","sa","wyls","wyg","wyrb","werb","start"],n=["dod","ode","przep","mno","dziel","shr","shl","neg","lub","i"];for(const r of e)if(r.includes(i)){for(const o of r)if(o!==i&&this.signals[o])return`Nie mona wczy ${i}"  koliduje z ${o}".`}if(t.includes(i)){for(const r of t)if(r!==i&&this.signals[r])return`Nie mona wczy ${i}"  koliduje z ${r}" (magistrala A zajta).`}if(s.includes(i)){for(const r of s)if(r!==i&&this.signals[r])return`Nie mona wczy ${i}" - koliduje z ${r}" (magistrala S zajta).`}if(n.includes(i)){for(const r of n)if(r!==i&&this.signals[r])return`Nie mona wczy ${i}" - ju dziaa ${r}" (maks. jedna operacja JAML naraz).`}return null},handleRemoteToggleESPWebSocket(i){this.suppressBroadcast=!0,this.signals[i]?this.nextLine.delete(i):this.nextLine.add(i),this.signals[i]=!this.signals[i],this.suppressBroadcast=!1},checkConflict(i){const e=[["wyad","wyl"],["wys","wyak"],["il","wel"],["czyt","pisz"],["iak","dak"]],t=["dod","ode","przep","mno","dziel","shr","shl","neg","lub","i"];for(const s of e)if(s.includes(i)){for(const n of s)if(n!==i&&this.signals[n])return`Nie mona wczy ${i}  koliduje z ${n}.`}if(t.includes(i)){for(const s of t)if(s!==i&&this.signals[s])return`Nie mona wczy ${i}  ju dziaa ${s} (maks. jedna operacja JAML naraz).`}return null},handleSignalToggle(i){if(!this.manualMode)return;if(!this.signals[i]){const t=this.checkConflict(i);if(t){this.errorTimeoutId&&clearTimeout(this.errorTimeoutId),this.errorMessage=t,this.errorTimeoutId=setTimeout(()=>{this.errorMessage="",this.errorTimeoutId=null},3e3);return}}this.errorMessage="",this.errorTimeoutId&&(clearTimeout(this.errorTimeoutId),this.errorTimeoutId=null),this.nextLine.has(i)?(this.nextLine.delete(i),this.signals[i]=!1):(this.nextLine.add(i),this.signals[i]=!0)},sendPartialData(i,e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"reg-update",field:i,value:e}))},sendMemUpdate(){const i=this.mem.slice(0,4).map((s,n)=>n),e=this.mem.slice(0,4).map(s=>this.decToArgument(s)),t=this.mem.slice(0,4);this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"mem-update",data:{addrs:i,args:e,vals:t}}))},sendFullDataToESP(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){const i=this.mem.slice(0,4).map((n,r)=>r),e=this.mem.slice(0,4).map(n=>this.decToArgument(n)),t=this.mem.slice(0,4),s={acc:this.ACC,a:this.A,s:this.S,c:this.programCounter,i:this.I,addrs:i,args:e,vals:t,vals:t};this.ws.send(JSON.stringify({type:"mem-update",data:s}))}},sendColorToESP(i){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"color-update",data:{colorType:i.type,hex:i.hex,r:i.rgbScaled.r,g:i.rgbScaled.g,b:i.rgbScaled.b,brightness:Math.round(i.brightness*255),timestamp:Date.now()}})),this.addLog(`[LED] Wysano kolor ${i.type}: ${i.hex} (RGB: ${i.rgbScaled.r}, ${i.rgbScaled.g}, ${i.rgbScaled.b})`,"system"))},handleRemoteMemUpdate(i,e){this.suppressBroadcast=!0,this.$set(this.mem,i,e),this.suppressBroadcast=!1},loadFromLS(){const i=localStorage.getItem("W");if(i){const e=JSON.parse(i);["addresBits","codeBits","memoryAddresBits","oddDelay","stepDelay","numberFormat","extras","lightMode","registerFormats","autocompleteEnabled","decSigned"].forEach(s=>{e[s]!==void 0&&(s==="extras"?this.extras=this.mergeExtras(this.extras,e.extras):this[s]=e[s])}),this.memoryAddresBits>10&&(this.memoryAddresBits=10,this.addLog("Rozmiar pamici zosta ograniczony do maksymalnie 1024 komrek (10 bitw)","system")),this.A=0,this.ACC=0,this.JAML=0,this.programCounter=0,this.I=0,this.X=0,this.Y=0,this.RM=0,this.RZ=0,this.AP=0,this.RP=0,this.WS=0,this.G=0,this.RB=0,this.S=0,this.BusA=0,this.BusS=0,this.stack=[],this.code=`czyt wys wei il;
wyad wea;
czyt wys weja dod weak wyl wea;`,this.compiledCode=[],this.activeLine=0,this.nextLine=new Set,this.codeCompiled=!1,this.manualMode=!0;for(const s in this.signals)this.signals[s]=!1}},saveToLS(){const i={...this.$data};delete i.logs,delete i.hasConsoleErrors,localStorage.setItem("W",JSON.stringify(i))},addLog(i,e="info",t=null){const s=new Date,n=`${e}|${i}`,r=s.getTime();if(r-(this._lastLogTs||0)>1e3&&(this._lastLogKey=null,this._lastLogCount=0),this._lastLogKey===n){this._lastLogCount+=1;const h=this.logs[this.logs.length-1];h&&(h.message=`${i} ${this._lastLogCount+1}`,h.timestamp=s),this._lastLogTs=r;return}else this._lastLogKey=n,this._lastLogCount=0,this._lastLogTs=r;const o={timestamp:s,message:i,class:e};t&&(o.error={message:t.message||i,level:t.level,timestamp:t.timestamp,code:t.code,hint:t.hint,loc:t.loc,frame:t.frame,context:t.context}),this.logs.push(o),(["error","bd parsera kodu","Error","Bd parsera kodu","bd sygnau"].some(h=>e.toLowerCase().includes(h.toLowerCase()))||t&&["ERROR","CRITICAL"].includes(t.level))&&(this.hasConsoleErrors=!0)},formatNumber(i){var t;if(typeof i!="number"||isNaN(i))return"Bd: Nieprawidowa liczba.";const e={dec:()=>this.decSigned?this.toSigned(i,this.codeBits+this.addresBits):i|0,hex:()=>"0x"+Math.floor(i).toString(16).toUpperCase(),bin:()=>"0b"+Math.floor(i).toString(2)};return((t=e[this.numberFormat])==null?void 0:t.call(e))??`EE${i}`},decToCommand(i){return this.commandList[i>>this.addresBits]},decToArgument(i){return i&(1<<this.memoryAddresBits)-1},resizeMemory(){const i=1<<this.memoryAddresBits,e=new Array(i).fill(0),t=[1,2,4,8,17,34,36,56];for(let s=0;s<Math.min(t.length,i);s++)e[s]=t[s];this.mem=e},manualModeCheck(){this.manualMode=!0,this.manualModeChanged()},manualModeUncheck(){this.manualMode=!1,this.manualModeChanged()},manualModeChanged(){this.clearActiveTimeouts(),this.nextLine.clear(),this.manualMode&&(this.uncompileCode(),this.addLog("Przejcie w tryb rczny  program wstrzymany i wyczyszczony.","system"))},closePopups(i){typeof i=="string"&&i in this.$data&&(this[i]=!1),!this.settingsOpen&&!this.commandListOpen&&!this.aiChatOpen&&setTimeout(()=>{this.disappearBlour=!1},1e3)},compileCode(){var i,e,t;try{const{program:s,rawLines:n}=_A(this.code,{availableSignals:this.avaiableSignals,extras:this.extras});this.compiledProgram=Array.isArray(s)?s:[],this.compiledCode=Array.isArray(n)?n:[];let r=0;for(const o of this.compiledProgram){if(!o||!Array.isArray(o.phases))continue;for(const a of o.phases)if(a&&a.conditional===!0){a.srcLine=r;const h=a.truePhases&&a.truePhases[0],u=a.falsePhases&&a.falsePhases[0];h&&(h.srcLine=r+1),u&&(u.srcLine=r+2),r+=3}else a&&(a.srcLine=r),r+=1;const l=(i=o.meta)==null?void 0:i.postAsm;Array.isArray(l)&&l.length&&(r+=l.length),(e=o.phases)!=null&&e.length&&Number.isFinite((t=o.phases[0])==null?void 0:t.srcLine)?o.srcLine=o.phases[0].srcLine:o.srcLine=o.srcLine??0}this.codeCompiled=!0,this.activeInstrIndex=-1,this.activePhaseIndex=0,this.activeLine=-1,this._condState=null,this._stepGuard=0,this.nextLine.clear(),this.executeLine(),this.addLog("Kod skompilowany pomylnie (mikro-ASM)","kompilator rozkazw")}catch(s){this.addLog(`Bd kompilacji ASM: ${(s==null?void 0:s.message)||String(s)}`,"Error")}},uncompileCode(){this.codeCompiled=!1,this.nextLine.clear(),this.activeInstrIndex=-1,this.activePhaseIndex=0,this._condState=null,this._stepGuard=0},handleInterrupt(){const i=this.highestPriorityIRQ;if(!i){this.addLog("handleInterrupt: brak aktywnego przerwania","Ostrzeenie");return}this.addLog("","przerwanie"),this.addLog(`PRZERWANIE IRQ${i}`,"przerwanie"),this.RP=i,this.addLog(`   RP  ${i} (numer aktywnego przerwania)`,"przerwanie");const e=this.programCounter;this.stackPush("Address",e);const t=1<<this.memoryAddresBits;this.WS=(this.WS-1+t)%t;const s=this.WS&this.addrMask();this.mem[s]=e,this.addLog(`   Stos: zapisano PC=${e}, WS=${this.WS}`,"przerwanie");const n=i;if(n<0||n>=this.compiledProgram.length){this.addLog(`   Bd: wektor ${n} poza programem!`,"Bd");return}this.A=n,this.programCounter=n,this.addLog(`   A  ${this.A} (wskanik na wektor)`,"przerwanie"),this.addLog(`   PC  ${n} (adres wektora IRQ${i})`,"przerwanie"),this.activeInstrIndex=n,this.activePhaseIndex=0;const r=this.compiledProgram[n];this.addLog(`    Wykonanie: ${(r==null?void 0:r.asmLine)||"SOB"}`,"przerwanie"),this.RZ&=~(1<<i-1),this.addLog(`   RZ  ${this.RZ} (wyzerowano IRQ${i})`,"przerwanie"),this.addLog("","przerwanie")},executeLine(){var t,s,n,r,o,l,a,h,u,c,d,f;const i=m=>{if(!this._headless){if(m&&Number.isFinite(m.srcLine)){this.activeLine=m.srcLine;return}this._refreshHighlight()}},e=m=>this._skipNextBreakpoint?(this._skipNextBreakpoint=!1,!1):this.isRunning&&this.breakpointsEnabled&&Number.isFinite(m)&&this.breakpoints&&typeof this.breakpoints.has=="function"&&this.breakpoints.has(m);if(this.codeCompiled&&Array.isArray(this.compiledProgram)&&this.compiledProgram.length>0){if(this.activeInstrIndex<0&&(this.activeInstrIndex=0,this.activePhaseIndex=0,this._stepGuard=0,this._condState=null),this.activePhaseIndex===0&&((s=(t=this.extras)==null?void 0:t.interrupts)!=null&&s.eniSignal)&&this.rint){this.handleInterrupt();return}if(this._stepGuard=(this._stepGuard||0)+1,this._stepGuard>1e5){this.addLog("Przerwano: przekroczono limit krokw (prawdopodobna ptla).","system"),this.uncompileCode();return}if(this.activeInstrIndex>=this.compiledProgram.length){this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw");return}const m=this.compiledProgram[this.activeInstrIndex],g=((n=m.phases)==null?void 0:n[this.activePhaseIndex])||{};if(g.conditional===!0){if(!this._condState){const I=this.evaluateFlag(g.flag),L=(I?g.truePhases:g.falsePhases)||[];this._condState={list:L,idx:0,pick:I?"T":"F",phaseRef:phase,stage:"SHOW_IF"};const Q=Number.isFinite(g.srcLine)?g.srcLine:void 0;if(e(Q)){Number.isFinite(Q)&&(this.activeLine=Q),this.addLog(`Pauza na breakpoint @${Q}`,"system"),this._stopRun();return}i(g);return}const S=this._condState,$=S.list[S.idx];if(!$){if(this._condState=null,this.activePhaseIndex+=1,this.activePhaseIndex>=(((r=m.phases)==null?void 0:r.length)||0)&&(this.activeInstrIndex+=1,this.activePhaseIndex=0),this.activeInstrIndex<this.compiledProgram.length){const I=this.compiledProgram[this.activeInstrIndex],L=(o=I==null?void 0:I.phases)==null?void 0:o[this.activePhaseIndex];i(L??I)}else this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw");return}const v=Number.isFinite((l=S.phaseRef)==null?void 0:l.srcLine)?S.phaseRef.srcLine+(S.pick==="T"?1:2):void 0,P=Number.isFinite($==null?void 0:$.srcLine)?$.srcLine:v;if(e(P)){Number.isFinite(P)&&(this.activeLine=P),this.addLog(`Pauza na breakpoint @${P}`,"system"),this._stopRun();return}i($,S.phaseRef,S.pick);const M=new Set(Object.keys($).filter(I=>$[I]===!0));if(this.nextLine=M,this.executeSignalsFromNextLine(),$.wel===!0){const I=this.programCounter;if(I>=0&&I<this.compiledProgram.length){this.activeInstrIndex=I,this.activePhaseIndex=0,this._condState=null;const L=this.compiledProgram[this.activeInstrIndex],Q=(a=L==null?void 0:L.phases)==null?void 0:a[this.activePhaseIndex];i(Q??L)}else this.addLog(`Skok poza zakres programu: PC=${I}`,"Bd"),this.uncompileCode();return}if(S.idx+=1,S.idx>=S.list.length){if(this._condState=null,this.activePhaseIndex+=1,this.activePhaseIndex>=(((h=m.phases)==null?void 0:h.length)||0)&&(this.activeInstrIndex+=1,this.activePhaseIndex=0),this.activeInstrIndex<this.compiledProgram.length){const I=this.compiledProgram[this.activeInstrIndex],L=(u=I==null?void 0:I.phases)==null?void 0:u[this.activePhaseIndex];i(L??I)}else this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw");return}const E=S.list[S.idx];i(E,S.phaseRef,S.pick);return}if(g.stop===!0){i(phase),this.uncompileCode(),this.addLog("STOP - program zatrzymany","kompilator rozkazw");return}{const S=Number.isFinite(g==null?void 0:g.srcLine)?g.srcLine:void 0;if(e(S)){Number.isFinite(S)&&(this.activeLine=S),this.addLog(`Pauza na breakpoint @${S}`,"system"),this._stopRun();return}}i(g);{const S=new Set(Object.keys(g).filter($=>g[$]===!0));this.nextLine=S,this.executeSignalsFromNextLine()}if(g.wel===!0){const S=this.programCounter;if(S>=0&&S<this.compiledProgram.length){this.activeInstrIndex=S,this.activePhaseIndex=0;const $=this.compiledProgram[this.activeInstrIndex],v=(c=$==null?void 0:$.phases)==null?void 0:c[this.activePhaseIndex];i(v??$)}else this.addLog(`Skok poza zakres programu: PC=${S}`,"Bd"),this.uncompileCode();return}if(this.activePhaseIndex+=1,this.activePhaseIndex>=(((d=m.phases)==null?void 0:d.length)||0)&&(this.activeInstrIndex+=1,this.activePhaseIndex=0),this.activeInstrIndex>=this.compiledProgram.length){this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw");return}const b=this.compiledProgram[this.activeInstrIndex],y=(f=b==null?void 0:b.phases)==null?void 0:f[this.activePhaseIndex];i(y??b);return}if(this.manualMode)this.executeSignalsFromNextLine(),this._headless||this._refreshHighlight();else{if(this.activeLine<0&&(this.activeLine=0),this.activeLine>=this.compiledCode.length){this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw");return}const m=this.activeLine;if(e(m)){this.addLog(`Pauza na breakpoint @${m}`,"system"),this._stopRun(),this.activeLine=m,this._headless||this._refreshHighlight();return}this._refreshHighlight();const g=this.compiledCode[this.activeLine].split(" ").filter(Boolean);this.nextLine.clear();for(const b of g)this.nextLine.add(b);this.executeSignalsFromNextLine(),this.activeLine++,this.activeLine>=this.compiledCode.length?(this.uncompileCode(),this.addLog("Kod zakoczony","kompilator rozkazw")):this._headless||this._refreshHighlight()}},_refreshHighlight(){var n,r,o,l,a,h,u,c,d,f;if(!this.codeCompiled)return;if(this._condState){const m=this._condState;if(m.stage==="SHOW_IF"&&Number.isFinite((n=m.phaseRef)==null?void 0:n.srcLine)){this.activeLine=m.phaseRef.srcLine;return}const g=Math.min(m.idx??0,(((r=m.list)==null?void 0:r.length)??1)-1),b=(o=m.list)==null?void 0:o[g];if(b&&Number.isFinite(b.srcLine)){this.activeLine=b.srcLine;return}if(Number.isFinite((l=m.phaseRef)==null?void 0:l.srcLine)){this.activeLine=m.phaseRef.srcLine+(m.pick==="T"?1:2);return}}if(Array.isArray(this.compiledProgram)&&this.compiledProgram.length>0){const m=this.compiledProgram[this.activeInstrIndex],g=(a=m==null?void 0:m.phases)==null?void 0:a[this.activePhaseIndex];if(g&&Number.isFinite(g.srcLine)){this.activeLine=g.srcLine;return}if(m&&Number.isFinite(m.srcLine)){this.activeLine=m.srcLine;return}}let i=0;const e=Math.max(0,this.activeInstrIndex);for(let m=0;m<e;m++){const g=((h=this.compiledProgram[m])==null?void 0:h.phases)||[];for(const y of g)i+=y&&y.conditional===!0?3:1;const b=(c=(u=this.compiledProgram[m])==null?void 0:u.meta)==null?void 0:c.postAsm;Array.isArray(b)&&(i+=b.length)}const t=((d=this.compiledProgram[e])==null?void 0:d.phases)||[];for(let m=0;m<Math.max(0,this.activePhaseIndex);m++){const g=t[m];i+=g&&g.conditional===!0?3:1}this.activeLine=i;const s=(((f=this.compiledCode)==null?void 0:f.length)||1)-1;this.activeLine=Math.max(0,Math.min(this.activeLine||0,s))},detectAndHandleStackOperations(){const i=this.nextLine;if(i.has("wyws")&&i.has("wea")&&i.has("wyak")&&i.has("wes")){this.stackPush("Data",this.ACC);return}if(i.has("czyt")&&i.has("wys")&&i.has("weja")&&i.has("przep")&&i.has("weak")&&i.has("iws")&&i.has("wyl")&&i.has("wea")){console.log("PZS: popping stack to ACC");const e=this.WS&this.addrMask();this.stackPop("Data"),this._pendingMemoryClear=e;return}if(i.has("dws")&&i.has("wyws")&&i.has("wyls")&&i.has("pisz")){this.stackPush("Address",this.programCounter);return}if(i.has("czyt")&&i.has("wys")&&i.has("sa")&&i.has("wel")&&i.has("iws")){console.log("PWR: powrt z podprogramu");const e=this.WS&this.addrMask(),t=this.stackPop("Address");console.log("PWR: returnAddr=",t),this._pendingMemoryClear=e;return}},executeSignalsFromNextLine(){if(this.isFastRunning||this.clearActiveTimeouts(),this.detectAndHandleStackOperations(),this.nextLine.has("wyl")&&this.wyl(),this.nextLine.has("czyt")&&this.czyt(),this.nextLine.has("pisz")&&this.pisz(),this.nextLine.has("wys")&&this.wys(),this.nextLine.has("stop")&&this.stop(),this.nextLine.has("wyad")&&this.wyad(),this.nextLine.has("wyak")&&this.wyak(),this.nextLine.has("wyx")&&this.wyx(),this.nextLine.has("wyy")&&this.wyy(),this.nextLine.has("wyws")&&this.wyws(),this.nextLine.has("wyls")&&this.wyls(),this.nextLine.has("wyg")&&this.wyg(),this.nextLine.has("wyrb")&&this.wyrb(),this.nextLine.has("wyap")&&this.wyap(),this.nextLine.has("wyrm")&&this.wyrm(),this.nextLine.has("wyrz")&&this.wyrz(),this.nextLine.has("wyrp")&&this.wyrp(),this.nextLine.has("sa")&&this.sa(),this.nextLine.has("as")&&this.as(),this.nextLine.has("wea")&&this.wea(),this.nextLine.has("weja")&&this.weja(),this.nextLine.has("wex")&&this.wex(),this.nextLine.has("wey")&&this.wey(),this.nextLine.has("wes")&&this.wes(),this.nextLine.has("wei")&&this.wei(),this.nextLine.has("wel")&&this.wel(),this.nextLine.has("werm")&&this.werm(),this.nextLine.has("weap")&&this.weap(),this.nextLine.has("werz")&&this.werz(),this.nextLine.has("werp")&&this.werp(),this.nextLine.has("dod")&&this.dod(),this.nextLine.has("ode")&&this.ode(),this.nextLine.has("przep")&&this.przep(),this.nextLine.has("mno")&&this.mno(),this.nextLine.has("dziel")&&this.dziel(),this.nextLine.has("shr")&&this.shr(),this.nextLine.has("shl")&&this.shl(),this.nextLine.has("neg")&&this.neg(),this.nextLine.has("lub")&&this.lub(),this.nextLine.has("i")&&this.i(),this.nextLine.has("iak")&&this.iak(),this.nextLine.has("dak")&&this.dak(),this.nextLine.has("weak")&&this.weak(),this.nextLine.has("il")&&this.il(),this.nextLine.has("dl")&&this.dl(),this.nextLine.has("iws")&&this.iws(),this.nextLine.has("dws")&&this.dws(),this.nextLine.has("werb")&&this.werb(),this.nextLine.has("start")&&this.start(),this.nextLine.has("ustrm")&&this.ustrm(),this.nextLine.has("czrm")&&this.czrm(),this.nextLine.clear(),this._pendingMemoryClear!==null){const i=this._pendingMemoryClear;this.mem[i]=0,this.addLog(`Wyczyszczono komrk pamici [${i}] po zdjciu ze stosu`,"stos"),this._pendingMemoryClear=null}},getResolvedPhase(i){if(!i)return{};if(i.conditional===!0){const e=i.flag,s=this.evaluateFlag(e)?i.truePhases:i.falsePhases;return s&&s[0]?s[0]:{}}return i},evaluateFlag(i){if(!i)return!1;const e=String(i).toUpperCase(),t=this.ACC&this.wordMask(),s=1<<this.codeBits+this.addresBits-1;switch(e){case"ZAK":case"ZERO":case"Z":return t===0;case"NEG":case"N":case"M":return(t&s)!==0;case"NZ":case"NZERO":return t!==0;case"POS":case"P":return(t&s)===0;default:return!1}},stopRun(){this._stopRun(),this.addLog("Wykonanie przerwane przyciskiem STOP.","system")},runCode(){if(this.isRunning||!this.codeCompiled)return;this.manualMode=!1,this.clearActiveTimeouts(),this._skipNextBreakpoint=!0,this.isRunning=!0;let i=1e5;const e=1,t=Math.max(1,this.oddDelay);this.compiledProgram&&this.compiledProgram.length>0&&this.activeInstrIndex<0&&(this.activeInstrIndex=0,this.activePhaseIndex=0);const s=()=>{if(!this.codeCompiled||!this.isRunning)return this._stopRun();let n=0;for(;n++<e&&i-- >0&&this.codeCompiled&&this.activeInstrIndex>=0&&this.activeInstrIndex<this.compiledProgram.length;){if(!this.isRunning)return this._stopRun();this.executeLine()}if(!this.codeCompiled||this.activeInstrIndex<0||this.activeInstrIndex>=this.compiledProgram.length)return this._stopRun();if(i<=0)return this.addLog("Przerwano: limit krokw RUN osignity.","system"),this._stopRun();this.isRunning?this.runLoopTimer=setTimeout(s,t):this._stopRun()};this.runLoopTimer=setTimeout(s,t)},_stopRun(){var i,e;this.runLoopTimer&&(clearTimeout(this.runLoopTimer),this.runLoopTimer=null),this.isRunning=!1,this.isFastRunning=!1,this.fastProgress=0,this._skipNextBreakpoint=!1,this._headless=!1,this.suppressBroadcast=!1,this.clearActiveTimeouts(),(i=this._busHoldTimers)!=null&&i.A&&(clearTimeout(this._busHoldTimers.A),this._busHoldTimers.A=null),(e=this._busHoldTimers)!=null&&e.S&&(clearTimeout(this._busHoldTimers.S),this._busHoldTimers.S=null),this.signals.busA=!1,this.signals.busS=!1,this.nextLine.clear()},async runToEndFast(){var e;if(!this.codeCompiled)return;this._stopRun(),this.manualMode=!1,this.clearActiveTimeouts(),this._headless=!0,this.suppressBroadcast=!0,this.isRunning=!0,this.isFastRunning=!0,this.fastProgress=0;const i=document.title;document.title=" Running";try{const t=Array.isArray(this.compiledProgram)&&this.compiledProgram.length>0,s=t?this.compiledProgram.length:((e=this.compiledCode)==null?void 0:e.length)||0;t&&this.activeInstrIndex<0?(this.activeInstrIndex=0,this.activePhaseIndex=0):t||(this.activeLine=Math.max(this.activeLine,0));let n=2e5;const r=1200;for(;this.codeCompiled&&n>0;){for(let o=0;o<r&&n>0&&this.codeCompiled;o++,n--)if(t){if(this.activeInstrIndex<0||this.activeInstrIndex>=this.compiledProgram.length){this.uncompileCode();break}this.executeLine()}else{if(this.activeLine>=this.compiledCode.length){this.uncompileCode();break}this.executeLine()}if(t){const o=Math.max(0,Math.min(this.activeInstrIndex,s));this.fastProgress=s?Math.floor(o/s*100):0}else{const o=Math.max(0,Math.min(this.activeLine,s));this.fastProgress=s?Math.floor(o/s*100):0}if(await new Promise(o=>setTimeout(o,0)),!this.codeCompiled||t&&(this.activeInstrIndex<0||this.activeInstrIndex>=this.compiledProgram.length)||!t&&this.activeLine>=this.compiledCode.length)break}n<=0&&this.addLog("Przerwano: limit krokw RUN-FAST osignity.","system")}finally{this._headless=!1,this.suppressBroadcast=!1,this.isFastRunning=!1,this.isRunning=!1,this.fastProgress=0,document.title=i}},_instant(i){return this.isFastRunning?(i(),!0):!1},il(){if(this._instant(()=>{this.programCounter++}))return;this.signals.il=!0,this.programCounter++;const i=setTimeout(()=>{this.signals.il=!1},this.oddDelay);this.activeTimeouts.push(i)},dl(){if(this._instant(()=>{this.programCounter--}))return;this.signals.dl=!0,this.programCounter--;const i=setTimeout(()=>{this.signals.dl=!1},this.oddDelay);this.activeTimeouts.push(i)},wyl(){if(this._instant(()=>{this.BusA=this.programCounter}))return;this.signals.wyl=!0,this.signals.busA=!0,this.BusA=this.programCounter;const i=setTimeout(()=>{this.signals.wyl=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},wel(){if(this._instant(()=>{this.programCounter=this.BusA}))return;this.signals.wel=!0,this.signals.busA=!0,this.programCounter=this.BusA;const i=setTimeout(()=>{this.signals.wel=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},wyad(){if(this._instant(()=>{this.BusA=this.I}))return;this.signals.wyad=!0,this.signals.busA=!0,this.BusA=this.I;const i=setTimeout(()=>{this.signals.wyad=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},wei(){if(this._instant(()=>{const t=(1<<this.addresBits)-1;this.I=this.BusS&t}))return;this.signals.wei=!0,this.signals.busS=!0;const i=(1<<this.addresBits)-1;this.I=this.BusS&i;const e=setTimeout(()=>{this.signals.wei=!1},this.oddDelay);this.activeTimeouts.push(e),this.holdBus("S")},iak(){if(this._instant(()=>{this.ACC=this.toWord(this.ACC+1)}))return;this.signals.iak=!0,this.ACC=this.toWord(this.ACC+1);const i=setTimeout(()=>{this.signals.iak=!1},this.oddDelay);this.activeTimeouts.push(i)},dak(){if(this._instant(()=>{this.ACC=this.toWord(this.ACC-1)}))return;this.signals.dak=!0,this.ACC=this.toWord(this.ACC-1);const i=setTimeout(()=>{this.signals.dak=!1},this.oddDelay);this.activeTimeouts.push(i)},weak(){if(this._instant(()=>{this.ACC=this.toWord(this.JAML)}))return;this.signals.weak=!0,this.ACC=this.toWord(this.JAML);const i=setTimeout(()=>{this.signals.weak=!1},this.oddDelay);this.activeTimeouts.push(i)},weja(){if(this._instant(()=>{this.JAML=this.toWord(this.BusS)}))return;this.signals.weja=!0,this.signals.busS=!0,this.JAML=this.toWord(this.BusS);const i=setTimeout(()=>{this.signals.weja=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wyak(){if(this._instant(()=>{this.BusS=this.toWord(this.ACC)}))return;this.signals.wyak=!0,this.signals.busS=!0,this.BusS=this.toWord(this.ACC);const i=setTimeout(()=>{this.signals.wyak=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},dod(){if(this._instant(()=>{this.JAML=this.toWord(this.JAML+this.ACC)}))return;this.signals.dod=!0,this.JAML=this.toWord(this.JAML+this.ACC);const i=setTimeout(()=>{this.signals.dod=!1},this.oddDelay);this.activeTimeouts.push(i)},ode(){if(this._instant(()=>{this.JAML=this.toWord(this.ACC-this.JAML)}))return;this.signals.ode=!0,this.JAML=this.toWord(this.ACC-this.JAML);const i=setTimeout(()=>{this.signals.ode=!1},this.oddDelay);this.activeTimeouts.push(i)},przep(){if(this._instant(()=>{this.ACC=this.toWord(this.JAML)}))return;this.signals.przep=!0,this.ACC=this.toWord(this.JAML);const i=setTimeout(()=>{this.signals.przep=!1},this.oddDelay);this.activeTimeouts.push(i)},mno(){if(this._instant(()=>{this.JAML=this.toWord(this.ACC*this.JAML)}))return;this.signals.mno=!0,this.JAML=this.toWord(this.ACC*this.JAML);const i=setTimeout(()=>{this.signals.mno=!1},this.oddDelay);this.activeTimeouts.push(i)},dziel(){if(this._instant(()=>{const t=this.JAML&255;this.JAML=this.toWord(t===0?0:Math.trunc(this.ACC/t))}))return;this.signals.dziel=!0;const i=this.JAML&255;this.JAML=this.toWord(i===0?0:Math.trunc(this.ACC/i));const e=setTimeout(()=>{this.signals.dziel=!1},this.oddDelay);this.activeTimeouts.push(e)},shr(){if(this._instant(()=>{const t=this.JAML&7;this.ACC=this.toWord((this.ACC&this.wordMask())>>>t)}))return;this.signals.shr=!0;const i=this.JAML&7;this.ACC=this.toWord((this.ACC&this.wordMask())>>>i);const e=setTimeout(()=>{this.signals.shr=!1},this.oddDelay);this.activeTimeouts.push(e)},shl(){if(this._instant(()=>{const t=this.JAML&7;this.ACC=this.toWord(this.ACC<<t)}))return;this.signals.shl=!0;const i=this.JAML&7;this.ACC=this.toWord(this.ACC<<i);const e=setTimeout(()=>{this.signals.shl=!1},this.oddDelay);this.activeTimeouts.push(e)},neg(){if(this._instant(()=>{this.ACC=this.toWord(-this.ACC)}))return;this.signals.neg=!0,this.ACC=this.toWord(-this.ACC);const i=setTimeout(()=>{this.signals.neg=!1},this.oddDelay);this.activeTimeouts.push(i)},lub(){if(this._instant(()=>{this.ACC=this.toWord(this.ACC|this.JAML)}))return;this.signals.lub=!0,this.ACC=this.toWord(this.ACC|this.JAML);const i=setTimeout(()=>{this.signals.lub=!1},this.oddDelay);this.activeTimeouts.push(i)},i(){if(this._instant(()=>{this.ACC=this.toWord(this.ACC&this.JAML)}))return;this.signals.i=!0,this.ACC=this.toWord(this.ACC&this.JAML);const i=setTimeout(()=>{this.signals.i=!1},this.oddDelay);this.activeTimeouts.push(i)},wyx(){if(this._instant(()=>{this.BusS=this.toWord(this.X)}))return;this.signals.wyx=!0,this.signals.busS=!0,this.BusS=this.toWord(this.X);const i=setTimeout(()=>{this.signals.wyx=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wex(){if(this._instant(()=>{this.X=this.toWord(this.BusS)}))return;this.signals.wex=!0,this.signals.busS=!0,this.X=this.toWord(this.BusS);const i=setTimeout(()=>{this.signals.wex=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wyy(){if(this._instant(()=>{this.BusS=this.toWord(this.Y)}))return;this.signals.wyy=!0,this.signals.busS=!0,this.BusS=this.toWord(this.Y);const i=setTimeout(()=>{this.signals.wyy=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wey(){if(this._instant(()=>{this.Y=this.toWord(this.BusS)}))return;this.signals.wey=!0,this.signals.busS=!0,this.Y=this.toWord(this.BusS);const i=setTimeout(()=>{this.signals.wey=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wea(){if(this._instant(()=>{this.A=this.BusA&this.addrMask()}))return;this.signals.wea=!0,this.signals.busA=!0,this.A=this.BusA&this.addrMask();const i=setTimeout(()=>{this.signals.wea=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},wes(){if(this._instant(()=>{this.S=this.toWord(this.BusS)}))return;this.signals.wes=!0,this.signals.busS=!0,this.S=this.toWord(this.BusS);const i=setTimeout(()=>{this.signals.wes=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wys(){if(this._instant(()=>{this.BusS=this.toWord(this.S)}))return;this.signals.wys=!0,this.signals.busS=!0,this.BusS=this.toWord(this.S),console.log("WYS: S=",this.S,"BusS=",this.BusS);const i=setTimeout(()=>{this.signals.wys=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},stop(){if(this._instant(()=>{this._stopRun(),this.codeCompiled=!1,this.nextLine.clear()}))return;this.signals.stop=!0;const i=setTimeout(()=>{this.signals.stop=!1},this.oddDelay);this.activeTimeouts.push(i),this._stopRun(),this.codeCompiled=!1,this.nextLine.clear()},as(){if(this._instant(()=>{this.BusS=this.BusA}))return;this.signals.as=!0,this.signals.busA=!0,this.signals.busS=!0,this.BusS=this.BusA;const i=setTimeout(()=>{this.signals.as=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A"),this.holdBus("S")},sa(){if(this._instant(()=>{this.BusA=this.BusS}))return;this.signals.sa=!0,this.signals.busA=!0,this.signals.busS=!0,this.BusA=this.BusS;const i=setTimeout(()=>{this.signals.sa=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A"),this.holdBus("S")},czyt(){if(this._instant(()=>{const t=this.A&this.addrMask();this.S=this.toWord(this.mem[t]??0)}))return;this.signals.czyt=!0;const i=this.A&this.addrMask();this.S=this.toWord(this.mem[i]??0),console.log("CZYT: A=",this.A,"idx=",i,"mem[idx]=",this.mem[i],"S=",this.S);const e=setTimeout(()=>{this.signals.czyt=!1},this.oddDelay);this.activeTimeouts.push(e)},pisz(){if(this._instant(()=>{const t=this.A&this.addrMask();this.mem[t]=this.toWord(this.S)}))return;this.signals.pisz=!0;const i=this.A&this.addrMask();this.mem[i]=this.toWord(this.S);const e=setTimeout(()=>{this.signals.pisz=!1},this.oddDelay);this.activeTimeouts.push(e)},wyws(){if(this._instant(()=>{this.BusA=this.WS&this.addrMask()}))return;this.signals.wyws=!0,this.signals.busA=!0,this.BusA=this.WS&this.addrMask();const i=setTimeout(()=>{this.signals.wyws=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},iws(){if(this._instant(()=>{const t=1<<this.memoryAddresBits;this.WS=(this.WS+1)%t}))return;this.signals.iws=!0;const i=1<<this.memoryAddresBits;this.WS=(this.WS+1)%i;const e=setTimeout(()=>{this.signals.iws=!1},this.oddDelay);this.activeTimeouts.push(e)},dws(){if(this._instant(()=>{const t=1<<this.memoryAddresBits;this.WS=(this.WS-1+t)%t}))return;this.signals.dws=!0;const i=1<<this.memoryAddresBits;this.WS=(this.WS-1+i)%i;const e=setTimeout(()=>{this.signals.dws=!1},this.oddDelay);this.activeTimeouts.push(e)},wyls(){if(this._instant(()=>{this.BusS=this.toWord(this.programCounter)}))return;this.signals.wyls=!0,this.signals.busS=!0,this.BusS=this.toWord(this.programCounter);const i=setTimeout(()=>{this.signals.wyls=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wyg(){if(this._instant(()=>{const e=this.DEV_READY?1:0;this.BusS=this.toWord(e),this.G=e}))return;this.signals.wyg=!0,this.signals.busS=!0,this.DEV_READY,this.BusS=this.toWord(this.DEV_READY?1:0),this.G=this.DEV_READY?1:0;const i=setTimeout(()=>{this.signals.wyg=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},werb(){if(this._instant(()=>{const t=this.ACC&this.wordMask();this.DEV_OUT=t,this.RB=t}))return;this.signals.werb=!0;const i=this.ACC&this.wordMask();this.DEV_OUT=i,this.RB=i;const e=setTimeout(()=>{this.signals.werb=!1},this.oddDelay);this.activeTimeouts.push(e)},wyrb(){if(this._instant(()=>{const s=this.DEV_READY===0,n=s?this.DEV_IN&this.wordMask():0;this.BusS=n,this.RB=n,s&&(this.DEV_IN=0,this.DEV_READY=1,this.G=1)}))return;this.signals.wyrb=!0,this.signals.busS=!0;const i=this.DEV_READY===0,e=i?this.DEV_IN&this.wordMask():0;this.BusS=e,this.RB=e,i&&(this.DEV_IN=0,this.DEV_READY=1,this.G=1);const t=setTimeout(()=>{this.signals.wyrb=!1},this.oddDelay);this.activeTimeouts.push(t),this.holdBus("S")},start(){if(this._instant(()=>{this.DEV_BUSY||(this.DEV_BUSY=!0,this.DEV_READY=this.DEV_IN?0:1,this.DEV_BUSY=!1,this.DEV_READY=this.DEV_IN?0:1,this.G=this.DEV_READY?1:0)})||this.DEV_BUSY)return;this.DEV_BUSY=!0,this.signals.start=!0,this.DEV_READY=this.DEV_IN?0:1;const i=setTimeout(()=>{this.signals.start=!1,this.DEV_BUSY=!1,this.DEV_READY=this.DEV_IN?0:1,this.G=this.DEV_READY?1:0},this.oddDelay*2);this.activeTimeouts.push(i)},werm(){console.log("WERM called: BusS=",this.BusS,"S=",this.S,"A=",this.A),this.signals.werm=!0,this.signals.busS=!0,this.RM=this.BusS&15;const i=setTimeout(()=>{this.signals.werm=!1},this.oddDelay);this.activeTimeouts.push(i),console.log("WERM result: RM=",this.RM),this.addLog(`RM ustawione na ${this.RM} (maska przerwa) [BusS=${this.BusS}]`,"system")},wyrm(){this.signals.wyrm=!0,this.signals.busS=!0,this.BusS=this.RM&15;const i=setTimeout(()=>{this.signals.wyrm=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},wyap(){this.signals.wyap=!0,this.signals.busA=!0,this.BusA=this.AP&this.addrMask();const i=setTimeout(()=>{this.signals.wyap=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("A")},weap(){this.signals.weap=!0,this.signals.busA=!0,this.AP=this.BusA&this.addrMask();const i=setTimeout(()=>{this.signals.weap=!1},this.oddDelay);this.activeTimeouts.push(i)},wyrz(){this.signals.wyrz=!0,this.signals.busS=!0,this.BusS=this.RZ&15;const i=setTimeout(()=>{this.signals.wyrz=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},werz(){this.signals.werz=!0,this.signals.busS=!0,this.RZ=this.BusS&15;const i=setTimeout(()=>{this.signals.werz=!1},this.oddDelay);this.activeTimeouts.push(i),this.addLog(`RZ ustawione na ${this.RZ} (zgoszenia przerwa)`,"system")},wyrp(){this.signals.wyrp=!0,this.signals.busS=!0,this.BusS=this.RP&15;const i=setTimeout(()=>{this.signals.wyrp=!1},this.oddDelay);this.activeTimeouts.push(i),this.holdBus("S")},werp(){this.signals.werp=!0,this.signals.busS=!0,this.RP=this.BusS&15;const i=setTimeout(()=>{this.signals.werp=!1},this.oddDelay);this.activeTimeouts.push(i),this.addLog(`RP ustawione na ${this.RP} (priorytet przerwania)`,"system")},ustrm(){console.log("USTRM called, BusA=",this.BusA),this.signals.ustrm=!0,this.signals.busA=!0;const i=this.BusA&3;this.RM|=1<<i,this.RM&=15;const e=setTimeout(()=>{this.signals.ustrm=!1},this.oddDelay);this.activeTimeouts.push(e),this.addLog(`Ustawiono bit ${i} w RM (RM=${this.RM}) - zablokowano IRQ${i+1}`,"przerwanie")},czrm(){this.signals.czrm=!0,this.signals.busA=!0;const i=this.BusA&3;this.RM&=~(1<<i),this.RM&=15;const e=setTimeout(()=>{this.signals.czrm=!1},this.oddDelay);this.activeTimeouts.push(e),this.addLog(`Wyczyszczono bit ${i} w RM (RM=${this.RM}) - odblokowano IRQ${i+1}`,"przerwanie")},resetValues(){this.clearActiveTimeouts(),this.programCounter=0,this.I=0,this.ACC=0,this.A=0,this.S=0,this.X=0,this.Y=0,this.RM=0,this.RZ=0,this.AP=0,this.RP=0,this.WS=0,this.G=0,this.RB=0,this.JAML=0,this.BusA=0,this.BusS=0,this.stack=[],this.mem=new Array(1<<this.memoryAddresBits).fill(0);for(const i in this.signals)this.signals[i]=!1;this.nextLine.clear(),this.logs=[],this.hasConsoleErrors=!1,this.addLog("Wszystkie wartoci rejestrw zostay zresetowane","system")},restoreDefaults(){this.memoryAddresBits=6,this.codeBits=6,this.addresBits=4,this.oddDelay=100,this.numberFormat="dec",this.registerFormats={L:"dec",I:"dec",ACC:"dec",A:"dec",S:"dec",X:"dec",Y:"dec",RB:"dec",G:"dec",RZ:"dec",RP:"dec",RM:"dec",AP:"dec",WS:"dec",JAML:"dec",BusA:"dec",BusS:"dec"},this.extras=this.getDefaultExtras(),this.resizeMemory(),this.logs=[],this.hasConsoleErrors=!1,this.autocompleteEnabled=!0,this.addLog("Ustawienia zostay przywrcone do wartoci domylnych","system")},openCommandList(){this.closePopups("settingsOpen"),this.commandListOpen=!0},toggleConsole(){this.consoleOpen=!this.consoleOpen,this.consoleOpen&&(this.hasConsoleErrors=!1,this.$nextTick(()=>{var i;window.innerWidth<=1080&&((i=this.$refs.console)!=null&&i.$el)&&this.$refs.console.$el.scrollIntoView({behavior:"smooth",block:"start"})}))},closeConsole(){this.consoleOpen=!1},clearConsole(){this.logs=[],this.hasConsoleErrors=!1,this.addLog("Konsola zostaa wyczyszczona","system")},handleKeyPress(i){i.key==="Escape"&&this.consoleOpen&&(this.consoleOpen=!1)},clearActiveTimeouts(){this.activeTimeouts.forEach(i=>{clearTimeout(i)}),this.activeTimeouts=[];for(const i in this.signals)this.signals[i]=!1},testEnhancedConsole(){this.addLog("System inicjalizowany","system");const i={message:"Nieznany znak w linii kodu",level:"ERROR",timestamp:new Date().toISOString(),code:"LEX_UNKNOWN_CHAR",hint:"Usu lub popraw znak. Jeeli to komentarz, uyj '//' lub rozpocznij lini rednikiem ';'.",loc:{line:5,col:12,length:1},frame:`    3 | AD 15
    4 | DOD 20
  > 5 | BDNY#ZNAK
        |           ^
    6 | SOB start`};this.addLog("Wystpi bd leksykalny podczas parsowania","Error",i);const e={message:"Niewykorzystana etykieta",level:"WARNING",timestamp:new Date().toISOString(),code:"SEM_UNUSED_LABEL",hint:"Sprawd czy etykieta jest faktycznie potrzebna lub czy nie ma literwki w nazwie."};this.addLog("Ostrzeenie kompilatora","Warning",e);const t={message:"Krytyczny bd systemu",level:"CRITICAL",timestamp:new Date().toISOString(),code:"SYS_CRITICAL",hint:"Skontaktuj si z administratorem systemu."};this.addLog("Bd krytyczny","Critical",t)}},watch:{$data:{handler(){this.saveToLS()},deep:!0},memoryAddresBits(){this.resizeMemory()},lightMode(){this.lightMode?(document.body.classList.add("lightMode"),document.body.classList.remove("darkMode")):(document.body.classList.add("darkMode"),document.body.classList.remove("lightMode"))},signals:{deep:!0,handler(){if(this.suppressBroadcast)return;const i={...this.signals};for(const e in i)i[e]!==this.prevSignals[e]&&this.sendPartialData(e,i[e]);this.prevSignals=i}},mem:{deep:!0,handler(){if(this.suppressBroadcast)return;let i=!1;for(let e=0;e<4;e++)if(this.mem[e]!==this.prevMem[e]){i=!0;break}i&&this.sendMemUpdate(),this.prevMem=[...this.mem]}},ACC(i,e){this.suppressBroadcast||this.sendPartialData("acc",i)},A(i,e){this.suppressBroadcast||this.sendPartialData("a",i)},S(i,e){this.suppressBroadcast||this.sendPartialData("s",i)},programCounter(i,e){this.suppressBroadcast||this.sendPartialData("c",i)},I(i,e){this.suppressBroadcast||this.sendPartialData("i",i)},anyPopupOpen:{handler(i){i&&(this.disappearBlour=i)},immediate:!0}},mounted(){this.platform==="esp"&&this.initWebsocket(),this.loadFromLS(),this.resizeMemory(),this.addLog("System zainicjalizowany.","System"),this.prevSignals={...this.signals},this.prevMem=[...this.mem],window.addEventListener("keydown",this.handleKeyPress)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyPress),this.wsPingTimer&&clearInterval(this.wsPingTimer)}},DA={id:"wLayout"},XA={id:"inputs"};function qA(i,e,t,s,n,r){var g,b;const o=ee("TopBar"),l=ee("MaszynaW"),a=ee("ProgramEditor"),h=ee("ExecutionControls"),u=ee("ProgramSection"),c=ee("ConsoleDock"),d=ee("SettingsOverlay"),f=ee("CommandList"),m=ee("AiChat");return k(),A(ve,null,[T(o,{onOpenChat:e[0]||(e[0]=y=>n.aiChatOpen=!0),onOpenSettings:e[1]||(e[1]=y=>n.settingsOpen=!0),onToggleConsole:r.toggleConsole,onWsReconnect:r.reconnectWS,hasConsoleErrors:n.hasConsoleErrors,"ws-status":n.wsStatus},null,8,["onToggleConsole","onWsReconnect","hasConsoleErrors","ws-status"]),p("div",DA,[T(l,{"manual-mode":n.manualMode,signals:n.signals,"dec-signed":n.decSigned,programCounter:n.programCounter,formatNumber:r.formatNumber,registerFormats:n.registerFormats,extras:n.extras,BusA:n.BusA,BusS:n.BusS,I:n.I,ACC:n.ACC,JAML:n.JAML,A:n.A,S:n.S,mem:n.mem,X:n.X,Y:n.Y,RB:n.RB,G:n.G,RZ:n.RZ,RP:n.RP,RM:n.RM,AP:n.AP,WS:n.WS,"rz-inputs":n.RZInputs,"word-bits":n.codeBits+n.addresBits,decToCommand:r.decToCommand,decToArgument:r.decToArgument,onClickItem:r.handleSignalToggle,"onUpdate:programCounter":e[2]||(e[2]=y=>n.programCounter=y),"onUpdate:I":e[3]||(e[3]=y=>n.I=y),"onUpdate:ACC":e[4]||(e[4]=y=>n.ACC=y),"onUpdate:JAML":e[5]||(e[5]=y=>n.JAML=y),"onUpdate:A":e[6]||(e[6]=y=>n.A=y),"onUpdate:S":e[7]||(e[7]=y=>n.S=y),"onUpdate:X":e[8]||(e[8]=y=>n.X=y),"onUpdate:Y":e[9]||(e[9]=y=>n.Y=y),"onUpdate:RB":e[10]||(e[10]=y=>n.RB=y),"onUpdate:G":e[11]||(e[11]=y=>n.G=y),"onUpdate:RZ":e[12]||(e[12]=y=>n.RZ=y),"onUpdate:rzInputs":e[13]||(e[13]=y=>n.RZInputs=y),"onUpdate:RP":e[14]||(e[14]=y=>n.RP=y),"onUpdate:RM":e[15]||(e[15]=y=>n.RM=y),"onUpdate:AP":e[16]||(e[16]=y=>n.AP=y),"onUpdate:WS":e[17]||(e[17]=y=>n.WS=y),"onUpdate:numberFormat":e[18]||(e[18]=({field:y,value:S})=>n.registerFormats[y]=S)},null,8,["manual-mode","signals","dec-signed","programCounter","formatNumber","registerFormats","extras","BusA","BusS","I","ACC","JAML","A","S","mem","X","Y","RB","G","RZ","RP","RM","AP","WS","rz-inputs","word-bits","decToCommand","decToArgument","onClickItem"]),p("div",XA,[T(a,{"manual-mode":n.manualMode,"code-compiled":n.codeCompiled,code:n.code,"compiled-code":n.compiledCode,"active-line":n.activeLine,"next-line":n.nextLine,"show-io":(b=(g=n.extras)==null?void 0:g.io)==null?void 0:b.rbRegister,"dev-in":n.DEV_IN,"dev-out":n.DEV_OUT,"dev-ready":n.DEV_READY,"word-bits":n.codeBits+n.addresBits,"format-number":r.formatNumber,breakpoints:n.breakpoints,"breakpoints-enabled":n.breakpointsEnabled,onToggleBreakpoint:r.toggleBreakpoint,onSetManualMode:e[19]||(e[19]=y=>y?r.manualModeCheck():r.manualModeUncheck()),"onUpdate:code":e[20]||(e[20]=y=>this.code=y),"onUpdate:devIn":e[21]||(e[21]=y=>{n.DEV_IN=y,n.DEV_READY=y?0:1}),"onUpdate:devReady":e[22]||(e[22]=y=>{n.DEV_READY=y})},null,8,["manual-mode","code-compiled","code","compiled-code","active-line","next-line","show-io","dev-in","dev-out","dev-ready","word-bits","format-number","breakpoints","breakpoints-enabled","onToggleBreakpoint"]),T(h,{"manual-mode":n.manualMode,"code-compiled":n.codeCompiled,code:n.code,"is-running":n.isRunning,"is-fast-running":n.isFastRunning,"fast-progress":n.fastProgress,onCompile:r.compileCode,onEdit:r.uncompileCode,onStep:r.executeLine,onRunFast:r.runToEndFast,onRun:r.runCode,onStop:r.stopRun},null,8,["manual-mode","code-compiled","code","is-running","is-fast-running","fast-progress","onCompile","onEdit","onStep","onRunFast","onRun","onStop"])]),T(u,{manualMode:n.manualMode,commandList:n.commandList,program:n.program,autocompleteEnabled:n.autocompleteEnabled,"onUpdate:code":e[23]||(e[23]=y=>r.handleProgramSectionCompile(y)),onLog:e[24]||(e[24]=y=>r.addLog(y.message,y.class,y.error)),onInitMemory:e[25]||(e[25]=y=>r.applyInitMemory(y))},null,8,["manualMode","commandList","program","autocompleteEnabled"]),T(c,{logs:n.logs.slice().reverse(),"manual-mode":n.manualMode,"code-compiled":n.codeCompiled,code:n.code,"is-running":n.isRunning,"is-fast-running":n.isFastRunning,"fast-progress":n.fastProgress,"breakpoints-enabled":n.breakpointsEnabled,"console-open":n.consoleOpen,"has-console-errors":n.hasConsoleErrors,onCompile:r.compileCode,onEdit:r.uncompileCode,onStep:r.executeLine,onRun:r.runCode,onRunFast:r.runToEndFast,onStop:r.stopRun,onClose:r.closeConsole,onClear:r.clearConsole,onOpen:r.toggleConsole,"onUpdate:breakpointsEnabled":e[26]||(e[26]=y=>n.breakpointsEnabled=y),onDisableAllBreakpoints:e[27]||(e[27]=y=>n.breakpointsEnabled=!1),onClearBreakpoints:e[28]||(e[28]=y=>{n.breakpoints.clear(),n.breakpoints=new Set(n.breakpoints),r.addLog("Usunito wszystkie breakpointy","system")}),class:be({"console-collapsed":!n.consoleOpen})},null,8,["logs","manual-mode","code-compiled","code","is-running","is-fast-running","fast-progress","breakpoints-enabled","console-open","has-console-errors","onCompile","onEdit","onStep","onRun","onRunFast","onStop","onClose","onClear","onOpen","class"]),n.consoleOpen?V("",!0):(k(),A("div",{key:0,class:be(["console-indicator",{"has-errors":n.hasConsoleErrors}]),onClick:e[29]||(e[29]=(...y)=>r.toggleConsole&&r.toggleConsole(...y)),title:"Click to open console"},null,2)),n.disappearBlour?(k(),A("div",{key:1,onClick:e[30]||(e[30]=(...y)=>r.closePopups&&r.closePopups(...y)),class:be({show:r.anyPopupOpen,hide:!r.anyPopupOpen}),id:"popupsBackdrop"},null,2)):V("",!0),T(d,{"settings-open":n.settingsOpen,"is-mobile":n.isMobile,"light-mode":n.lightMode,"number-format":n.numberFormat,"code-bits":n.codeBits,"addres-bits":n.addresBits,"dec-signed":n.decSigned,"odd-delay":n.oddDelay,"step-delay":n.stepDelay,extras:n.extras,"autocomplete-enabled":n.autocompleteEnabled,"memory-addres-bits":n.memoryAddresBits,onClose:e[31]||(e[31]=y=>r.closePopups("settingsOpen")),"onUpdate:lightMode":e[32]||(e[32]=y=>n.lightMode=y),"onUpdate:numberFormat":e[33]||(e[33]=y=>n.numberFormat=y),"onUpdate:decSigned":e[34]||(e[34]=y=>n.decSigned=y),"onUpdate:codeBits":e[35]||(e[35]=y=>n.codeBits=y),"onUpdate:addresBits":e[36]||(e[36]=y=>n.addresBits=y),"onUpdate:oddDelay":e[37]||(e[37]=y=>n.oddDelay=y),"onUpdate:stepDelay":e[38]||(e[38]=y=>n.stepDelay=y),"onUpdate:extras":e[39]||(e[39]=y=>n.extras=r.mergeExtras(n.extras,y)),onResetValues:e[40]||(e[40]=y=>r.resetValues()),onDefaultSettings:e[41]||(e[41]=y=>r.restoreDefaults()),onOpenCommandList:e[42]||(e[42]=y=>r.openCommandList()),"onUpdate:memoryAddresBits":e[43]||(e[43]=y=>n.memoryAddresBits=y),"onUpdate:autocompleteEnabled":e[44]||(e[44]=y=>n.autocompleteEnabled=y),onColorChange:r.sendColorToESP},null,8,["settings-open","is-mobile","light-mode","number-format","code-bits","addres-bits","dec-signed","odd-delay","step-delay","extras","autocomplete-enabled","memory-addres-bits","onColorChange"]),T(f,{visible:n.commandListOpen,commandList:n.commandList,codeBits:n.codeBits,"onUpdate:commandList":e[45]||(e[45]=y=>n.commandList=y),onClose:e[46]||(e[46]=y=>r.closePopups("commandListOpen"))},null,8,["visible","commandList","codeBits"]),T(m,{visible:n.aiChatOpen,onClose:e[47]||(e[47]=y=>r.closePopups("aiChatOpen")),title:"Asystent AI ",placeholder:"Wpisz wiadomo",instruction:"Opisz operacj uzyskania kodu maszynowego:"},null,8,["visible"])])],64)}const VA=ce(NA,[["render",qA],["__scopeId","data-v-14e10d0e"]]),jA={name:"App",components:{Main:VA}};function WA(i,e,t,s,n,r){const o=ee("Main");return k(),Me(o)}const YA=ce(jA,[["render",WA]]),UA=j1(YA);UA.mount("#app");
